<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CodeHao&#39;s Blog</title>
  
  <subtitle>探究ing</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://codehao.top/"/>
  <updated>2022-03-24T13:55:01.968Z</updated>
  <id>http://codehao.top/</id>
  
  <author>
    <name>CodeHao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>POC测试</title>
    <link href="http://codehao.top/cl15275ko000miwlaa2ff4ouo/"/>
    <id>http://codehao.top/cl15275ko000miwlaa2ff4ouo/</id>
    <published>2022-03-24T13:39:50.386Z</published>
    <updated>2022-03-24T13:55:01.968Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p> ##　<strong>POC测试</strong></p><ul><li><h3 id="1-什么是POC？"><a href="#1-什么是POC？" class="headerlink" title="1.什么是POC？"></a>1.什么是POC？</h3></li><li><pre><code>POC，即Proof of Concept，是业界流行的针对客户具体应用的验证性测试，根据用户对系统提出的功能需求、性能需求、扩展性需求等指标，采用真实的数据进行测试，并根据实际应用预估系统的承载能力和性能变化等。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></table></figure>POC一般发生在售前阶段，向目标客户证明系统在投产后能够满足业务需求，一般采购金额百万级以上的大型应用系统，POC是必不可少的。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ### 2.POC的目标</span><br><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></table></figure>向目标客户证明系统在投产后能够满足业务需求。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ### 3.POC面向的对象</span><br><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></table></figure>客户方的业务负责人、项目经理、架构师、系统使用者等。</code></pre></li><li><h3 id="4-POC步骤"><a href="#4-POC步骤" class="headerlink" title="4.POC步骤"></a>4.POC步骤</h3></li><li><p>（1）需求沟通</p></li><li><p>通常系统包含多个功能模块，客户企业往往分期采购部分模块，因此，首先需要了解客户的具体需，明确范围，设计POC方案，提供客户需要的模块。</p></li><li><p>（2）环境准备</p></li><li><p>提前和客户约定所需资源的类型、数量和标准。在向客户提供POC服务时，会把应用系统部署在客户方现场，用到的资源如服务器、网络等都是由客户提供，软件提供商只提供应用系统软件和可能涉及的自研硬件。</p></li><li><p>（3）现场部署和演示</p></li><li><p>功能展示</p></li><li><p>向客户演示系统能够实现某些功能，满足业务的基础要求。一般是客户方的工程师使用系统，软件供应商从旁指导。</p></li><li><p>性能评估</p></li><li><p>在系统功能满足业务要求的同时，客户也会看重系统的稳定性、安全性、响应速度、可扩展性等指标。</p></li><li><p>接口灵活性测试</p></li><li><p>客户采购的系统投产后，往往需要将系统模块嵌入内部已有的流程，而接口的灵活度直接影响嵌入过程的难易程度，需要考虑鉴权、数据、调度等各类接口。</p></li><li><p>二次开发可行性验证</p></li><li><p>客户采购的标准化系统版本往往无法满足所有业务需求，因此，在系统投产后，往往会基于购买的系统进行二次开发，以满足定制化需求。</p></li><li><p>（4）编写POC总结报告</p></li><li><p>在系统测试过程中，客户方参与人员将使用数据和结果数据记录，形成POC报告。系统是否满足客户需求，或者客户在测试过程中的疑虑是否有后续的支持和解答，会影响POC报告的结果。POC报告写完后会提交给业务负责人，作为是否采购本系统的决策依据。</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="work" scheme="http://codehao.top/tags/work/"/>
    
  </entry>
  
  <entry>
    <title>网易笔试-算法部分</title>
    <link href="http://codehao.top/cl15275ma002xiwla555j9q71/"/>
    <id>http://codehao.top/cl15275ma002xiwla555j9q71/</id>
    <published>2022-03-15T13:32:04.787Z</published>
    <updated>2020-09-07T08:42:48.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="案例1：接收用户输入的两个字符串（为九进制数），将两个字符串的相加的结果以九进制数输出。"><a href="#案例1：接收用户输入的两个字符串（为九进制数），将两个字符串的相加的结果以九进制数输出。" class="headerlink" title="案例1：接收用户输入的两个字符串（为九进制数），将两个字符串的相加的结果以九进制数输出。"></a>案例1：接收用户输入的两个字符串（为九进制数），将两个字符串的相加的结果以九进制数输出。</h3><h3 id="功能分析"><a href="#功能分析" class="headerlink" title="功能分析"></a>功能分析</h3><ul><li>1.接受用户输入的两个数num1 num2 （字符串型）</li><li>2.设计按位相加函数实现逐位相加</li><li>3.将得到的结果以数字形式输出</li></ul><h3 id="逻辑分析"><a href="#逻辑分析" class="headerlink" title="逻辑分析"></a>逻辑分析</h3><ul><li>1.用prompt接受用户的输入（注意prompt接受为字符串型），将字符串以数组形式存入str1[] str2[]数组中 （string.split(“”)）</li><li>2.n进制数可以用遍历数组的方式对两个数组的对应位进行逐位相加操作，逢n进一，并将相加结果存入新数组str3[]中（本题n=9）<br><strong>注意：相加操作应该从最后一个数组进行（因为防止后一位的进位影响前一位的进位）</strong><br><strong>注意：若当前位存储为小数点时应该将新数组中的对应位也应该为小数点</strong></li><li>3.设置进位标志flag 标志是否有来自后一位的进位<br><strong>注意：当数组第0位产生时，应在新数组str3前插入一个新的元素1</strong></li><li>4.将得到的新数组str3用join(“”)方式变成数字形式</li><li>5.通过alert输出结果</li></ul><h3 id="详细代码："><a href="#详细代码：" class="headerlink" title="详细代码："></a>详细代码：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Question1<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//获取用户输入的两个字符串</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> num1 = prompt(<span class="string">'请您输入第一个字符串：'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> num2 = prompt(<span class="string">'请您输入第一个字符串：'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(num1);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(num2);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//将字符串逐位存入数组中</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> str1 = num1.split(<span class="string">""</span>);;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> str2 = num2.split(<span class="string">""</span>);;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//将两个字符串补成等长的字符串</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> i = ( num1.length &gt; num2.length) ? num1.length : num2.length;</span></span><br><span class="line">    if(num1.length == num2.length)&#123;</span><br><span class="line">       </span><br><span class="line"><span class="actionscript">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i == num1.length)&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">do</span>&#123;</span></span><br><span class="line"><span class="actionscript">            str2.unshift(<span class="string">"0"</span>);</span></span><br><span class="line"><span class="actionscript">        &#125;<span class="keyword">while</span>(str2.length &lt; i)</span></span><br><span class="line"><span class="actionscript">    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">do</span>&#123;</span></span><br><span class="line"><span class="actionscript">            str1.unshift(<span class="string">"0"</span>);</span></span><br><span class="line"><span class="actionscript">        &#125;<span class="keyword">while</span>(str1.length &lt; i)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="comment">//按位相加 逢9进1 </span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">addString</span><span class="params">(x,y)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> str3 = [];</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> j = x.length - <span class="number">1</span>;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> flag = <span class="number">0</span>; <span class="comment">//进位标志</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = x.length - <span class="number">1</span>;i &gt;= <span class="number">0</span> ;i--)&#123;</span></span><br><span class="line"><span class="actionscript">           <span class="keyword">if</span>(x[i] == <span class="string">'.'</span>)&#123;</span></span><br><span class="line"><span class="actionscript">            str3[j] = <span class="string">'.'</span>;</span></span><br><span class="line">            j--;</span><br><span class="line"><span class="actionscript">           &#125;<span class="keyword">else</span>&#123; </span></span><br><span class="line"><span class="javascript">               str3[j] = <span class="built_in">Number</span>(x[i]) + <span class="built_in">Number</span>(y[i])+flag;</span></span><br><span class="line">               flag = 0;</span><br><span class="line">               if(str3[j] &gt;= 9)&#123;</span><br><span class="line"><span class="actionscript">                   <span class="keyword">if</span>(str3[j<span class="number">-1</span>] != <span class="string">'.'</span>)&#123;</span></span><br><span class="line">                       if(j != 0)&#123;</span><br><span class="line">                            str3[j] = str3[j] % 9;</span><br><span class="line">                            flag = 1;</span><br><span class="line"><span class="actionscript">                       &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line">                           str3[j] = str3[j] % 9;</span><br><span class="line">                           str3.unshift(1);</span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">              j--;</span><br><span class="line">            &#125;</span><br><span class="line">           &#125;    </span><br><span class="line"><span class="actionscript">       <span class="keyword">return</span> str3;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> result = addString(str1,str2);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(result.join(<span class="string">''</span>));</span></span><br><span class="line"><span class="actionscript">    alert(<span class="string">'您输入的两个字符串相加后的和为：'</span>+ result.join(<span class="string">''</span>));</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="案例2-最小数位和"><a href="#案例2-最小数位和" class="headerlink" title="案例2   最小数位和"></a>案例2   最小数位和</h3><h3 id="【题目描述】"><a href="#【题目描述】" class="headerlink" title="【题目描述】"></a>【题目描述】</h3><p>定义S(n)，表示n在十进制下的各位数字和。</p><p>现在给定一个x,请你求出最小正整数n，满足x≤S(n).</p><h3 id="【输入描述】"><a href="#【输入描述】" class="headerlink" title="【输入描述】"></a>【输入描述】</h3><p>第一行数据组数T，对于每组数据，一行一个数字x。</p><p>1≤x≤10^5,1≤T≤10</p><h3 id="【输出描述】"><a href="#【输出描述】" class="headerlink" title="【输出描述】"></a>【输出描述】</h3><p>对于每组数据，一行一个整数表示最小的n。</p><h3 id="【示例】"><a href="#【示例】" class="headerlink" title="【示例】"></a>【示例】</h3><h5 id="示例1："><a href="#示例1：" class="headerlink" title="示例1："></a>示例1：</h5><p><strong>输入：</strong></p><blockquote><p>2<br>7<br>9</p></blockquote><p><strong>输出：</strong></p><blockquote><p>7<br>9</p></blockquote><h3 id="【解决思路及要点】"><a href="#【解决思路及要点】" class="headerlink" title="【解决思路及要点】"></a>【解决思路及要点】</h3><ul><li>【贪心】n要尽可能小，说明位数要尽可能少，在十进制中9最大，所以对x除9，就可以得到n中9的个数，n的最高位就是余数。（满足n最高位最小，位数最小）</li><li>可以直接从最高位开始一位一位的输出，先输出余数，再输出x/9个9不需要再整体转换为数字。</li></ul><h3 id="【解决代码】"><a href="#【解决代码】" class="headerlink" title="【解决代码】"></a>【解决代码】</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Solution1 &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Scanner sc&#x3D;new Scanner(System.in);</span><br><span class="line">        int T&#x3D;sc.nextInt();</span><br><span class="line">        while(T--&gt;0)&#123;</span><br><span class="line">            int x&#x3D;sc.nextInt();</span><br><span class="line">            solve(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void solve(int x)&#123;</span><br><span class="line">        &#x2F;&#x2F;余数做最高位</span><br><span class="line">        if(x%9&gt;0)&#123;</span><br><span class="line">            System.out.print(x%9);</span><br><span class="line">        &#125;</span><br><span class="line">        x-&#x3D;x%9;</span><br><span class="line">        &#x2F;&#x2F;x&#x2F;9就是n中9的个数</span><br><span class="line">        for(int i&#x3D;1;i&lt;&#x3D;x&#x2F;9;i++)&#123;</span><br><span class="line">            System.out.print(&quot;9&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(&quot;\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="案例3-吃葡萄"><a href="#案例3-吃葡萄" class="headerlink" title="案例3  吃葡萄"></a>案例3  吃葡萄</h3><h3 id="【题目描述】-1"><a href="#【题目描述】-1" class="headerlink" title="【题目描述】"></a>【题目描述】</h3><p>有三种葡萄，每种分别有a,b,c颗。有三个人，第一个人只吃第1,2种葡萄，第二个人只吃第2,3种葡萄，第三个人只吃第1,3种葡萄。<br>适当安排三个人使得吃完所有的葡萄,并且三个人中吃的最多的那个人吃得尽量少。</p><h3 id="【输入描述】-1"><a href="#【输入描述】-1" class="headerlink" title="【输入描述】"></a>【输入描述】</h3><p>第一行数字T，表示数据组数。</p><p>接下来T行，每行三个数a,b,c</p><p>1≤a,b,c≤10^18,1≤T≤10</p><h3 id="【输出描述】-1"><a href="#【输出描述】-1" class="headerlink" title="【输出描述】"></a>【输出描述】</h3><p>对于每组数据，输出一行一个数字表示三个人中吃的最多的那个人吃的数量。</p><h3 id="【示例】-1"><a href="#【示例】-1" class="headerlink" title="【示例】"></a>【示例】</h3><h5 id="示例1：-1"><a href="#示例1：-1" class="headerlink" title="示例1："></a>示例1：</h5><p><strong>输入：</strong></p><blockquote><p>2<br>1 2 3<br>1 2 6</p></blockquote><p><strong>输出：</strong></p><blockquote><p>2<br>3</p></blockquote><h3 id="【解决思路及要点】-1"><a href="#【解决思路及要点】-1" class="headerlink" title="【解决思路及要点】"></a>【解决思路及要点】</h3><ul><li>如果两种较少葡萄的和比葡萄最多的一半要多，那么可以实现平分。【此时三人平分能够使得吃的最多的那个人吃得尽量少】</li><li>如果两种较少葡萄的和比葡萄最多的一半要少，那么结果是最多葡萄的一半。</li><li>注意要使用向上取整。（一颗葡萄也要单独吃一次）</li><li>也可以看成是三个人分别站在三角形的顶点，假设三角形两个短边是a,b，长边是c。则，若两短边之和大于等于长边的一半，可实现总数平分；反之，则结果为长边的一半。</li></ul><h3 id="【解决代码】-1"><a href="#【解决代码】-1" class="headerlink" title="【解决代码】"></a>【解决代码】</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public class Solution2 &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Scanner sc&#x3D;new Scanner(System.in);</span><br><span class="line">        int T&#x3D;sc.nextInt();</span><br><span class="line">        while(T--&gt;0)&#123;</span><br><span class="line">            long a,b,c;</span><br><span class="line">            a&#x3D;sc.nextLong();</span><br><span class="line">            b&#x3D;sc.nextLong();</span><br><span class="line">            c&#x3D;sc.nextLong();</span><br><span class="line">            System.out.println(solve(a,b,c));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static long solve(long a,long b,long c)&#123;</span><br><span class="line">        long maxx&#x3D;Math.max(Math.max(a,b),c);</span><br><span class="line">        long minn&#x3D;Math.min(Math.min(a,b),c);</span><br><span class="line">        long mid&#x3D;a+b+c-maxx-minn;</span><br><span class="line">        if(minn+mid&gt;&#x3D;maxx&#x2F;2)&#123;</span><br><span class="line">            return up(a+b+c,3);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            return up(maxx,2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;除法向上取整</span><br><span class="line">    private static long up(long a,long b)&#123;</span><br><span class="line">        return a%b&gt;0?a&#x2F;b+1:a&#x2F;b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="案例4-圆环切割"><a href="#案例4-圆环切割" class="headerlink" title="案例4   圆环切割"></a>案例4   圆环切割</h3><h3 id="【题目描述】-2"><a href="#【题目描述】-2" class="headerlink" title="【题目描述】"></a>【题目描述】</h3><p>小易有n个数字排成一个环，你能否将它们分成连续的两个部分(即在环上必须连续)，使得两部分的和相等？</p><h3 id="【输入描述】-2"><a href="#【输入描述】-2" class="headerlink" title="【输入描述】"></a>【输入描述】</h3><p>第一行数据组数T，对于每组数据<br>第一行数字n，表示数字个数</p><p>接下来一行n个数，按顺序给出环上的数字。</p><p>2≤n≤100000,1≤Ai≤10^9</p><h3 id="【输出描述】-2"><a href="#【输出描述】-2" class="headerlink" title="【输出描述】"></a>【输出描述】</h3><p>对于每组数据，一行输出YES/NO</p><h3 id="【示例】-2"><a href="#【示例】-2" class="headerlink" title="【示例】"></a>【示例】</h3><h5 id="示例1：-2"><a href="#示例1：-2" class="headerlink" title="示例1："></a>示例1：</h5><p><strong>输入：</strong></p><blockquote><p>1<br>6<br>1 2 3 4 5 6</p></blockquote><p><strong>输出：</strong></p><blockquote><p>NO</p></blockquote><h5 id="示例2："><a href="#示例2：" class="headerlink" title="示例2："></a>示例2：</h5><p><strong>输入：</strong></p><blockquote><p>1<br>4<br>4 4 5 3</p></blockquote><p><strong>输出：</strong></p><blockquote><p>YES</p></blockquote><h3 id="【解决思路及要点】-2"><a href="#【解决思路及要点】-2" class="headerlink" title="【解决思路及要点】"></a>【解决思路及要点】</h3><ul><li>维护一个前缀和数组，将每个前缀和与圆环和的一半做差，如果存在一个前缀和和这个差相等，那么就可以分割。【具体的原理自己在脑海中构造个圆环想一下】这里利用的是圆环起点可变的特性。</li></ul><h3 id="【解决代码】-2"><a href="#【解决代码】-2" class="headerlink" title="【解决代码】"></a>【解决代码】</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner sc=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> T=sc.nextInt();</span><br><span class="line">        <span class="keyword">while</span>(T--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> n=sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span>[] pre=<span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">                <span class="keyword">int</span> x=sc.nextInt();</span><br><span class="line">                pre[i]=(i&gt;<span class="number">0</span>)?pre[i-<span class="number">1</span>]+x:x;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(solve(pre))&#123;</span><br><span class="line">                System.out.println(<span class="string">"YES"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"NO"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span>[] pre)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n=pre.length;</span><br><span class="line">        <span class="comment">//奇数不可能</span></span><br><span class="line">        <span class="keyword">if</span>((pre[n-<span class="number">1</span>]&amp;<span class="number">1</span>)&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Set&lt;Integer&gt; set=<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="comment">//得到pre[i]与圆环和一半的差值</span></span><br><span class="line">            <span class="keyword">int</span> s=pre[i]-pre[n-<span class="number">1</span>]/<span class="number">2</span>;</span><br><span class="line">            <span class="comment">//若刚好有一个前缀和与这个差值相等，说明可以从前缀中减去，从而构成两部分相等</span></span><br><span class="line">            <span class="keyword">if</span>(set.contains(s))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//将这个前缀和存入set集合</span></span><br><span class="line">            set.add(pre[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="【题目剖析】"><a href="#【题目剖析】" class="headerlink" title="【题目剖析】"></a>【题目剖析】</h3><ul><li>这题思维性不是那么强，算是一个中等偏下的题，需要对前缀和应用比较熟悉。</li><li>这个题一步一步做，方法应该还有很多，总体而言不是很难。</li></ul><hr><h3 id="案例5：跳柱子"><a href="#案例5：跳柱子" class="headerlink" title="案例5：跳柱子"></a>案例5：跳柱子</h3><h3 id="【题目描述】-3"><a href="#【题目描述】-3" class="headerlink" title="【题目描述】"></a>【题目描述】</h3><p>小易有n根柱子，第i根柱子的高度为hi。一开始小易站在第一根柱子上。小易能从第i根柱子跳到第j根柱子，当且仅当hj≤hi且1≤j−i≤k。其中k为指定的一个数字。<br>另外小易拥有一次释放超能力的机会。这个超能力能让小易从柱子i跳到任意满足1≤j−i≤k的柱子j而无视柱子高度的限制。<br>现在小易想知道，小易是否能到达第n根柱子。</p><h3 id="【输入描述】-3"><a href="#【输入描述】-3" class="headerlink" title="【输入描述】"></a>【输入描述】</h3><p>第一行数据组数T</p><p>对于每组数据，第一行数字n,k接下来一行n个数字表示hi。</p><p>1≤n≤1000,1≤hi≤10^9,1≤T≤10,1≤k≤n</p><h3 id="【输出描述】-3"><a href="#【输出描述】-3" class="headerlink" title="【输出描述】"></a>【输出描述】</h3><p>对于每组数据，输出YES或NO</p><h3 id="【示例】-3"><a href="#【示例】-3" class="headerlink" title="【示例】"></a>【示例】</h3><h5 id="示例1：-3"><a href="#示例1：-3" class="headerlink" title="示例1："></a>示例1：</h5><p><strong>输入：</strong></p><blockquote><p>1<br>5 3<br>6 2 4 3 8</p></blockquote><p><strong>输出：</strong></p><blockquote><p>YES</p></blockquote><h5 id="示例2：-1"><a href="#示例2：-1" class="headerlink" title="示例2："></a>示例2：</h5><p><strong>输入：</strong></p><blockquote><p>1<br>5 2<br>1 8 2 3 4</p></blockquote><p><strong>输出：</strong></p><blockquote><p>NO</p></blockquote><h3 id="【解决思路及要点】-3"><a href="#【解决思路及要点】-3" class="headerlink" title="【解决思路及要点】"></a>【解决思路及要点】</h3><ul><li>明显可以使用dp。</li><li>dp[i][0]表示不使用超能力的情况下是否能到达柱子。</li><li>dp[i][1]表示使用超能力的情况下是否能到达柱子。</li><li>对每个柱子，枚举前面的k个柱子，并更新dp即可。</li><li>具体细节见代码。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner sc=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> T=sc.nextInt();</span><br><span class="line">        <span class="keyword">while</span>(T--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> n=sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span> k=sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span>[] height=<span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">                height[i]=sc.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(solve(height,k))&#123;</span><br><span class="line">                System.out.println(<span class="string">"YES"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"NO"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span>[] height,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n=height.length;</span><br><span class="line">        <span class="keyword">boolean</span>[][] dp=<span class="keyword">new</span> <span class="keyword">boolean</span>[n][<span class="number">2</span>];</span><br><span class="line">        <span class="comment">//初始条件</span></span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]=dp[<span class="number">0</span>][<span class="number">1</span>]=<span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i-<span class="number">1</span>;j&gt;=<span class="number">0</span> &amp;&amp; j&gt;=i-k;j--)&#123;</span><br><span class="line">                <span class="comment">//如果第j根柱子不使用超能力能达到</span></span><br><span class="line">                <span class="keyword">if</span>(dp[j][<span class="number">0</span>])&#123;</span><br><span class="line">                    <span class="comment">//那么使用也是肯定可以的</span></span><br><span class="line">                    dp[j][<span class="number">1</span>]=<span class="keyword">true</span>;</span><br><span class="line">                    <span class="comment">//如果距离和高度都满足条件，那么第i根柱子在不使用超能力的情况下也是可以达到的</span></span><br><span class="line">                    <span class="keyword">if</span>(height[j]&gt;=height[i])&#123;</span><br><span class="line">                        dp[i][<span class="number">0</span>]=<span class="keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//如果第j根柱子使用超能力能达到</span></span><br><span class="line">                <span class="keyword">if</span>(dp[j][<span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="comment">//那么如果满足条件下，第i根柱子在已经使用了超能力的情况下，能够达到</span></span><br><span class="line">                    <span class="keyword">if</span>(height[j]&gt;=height[i])&#123;</span><br><span class="line">                        dp[i][<span class="number">1</span>]=<span class="keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//最终的答案是，在允许使用超能力的情况下，能否到达最后一根柱子</span></span><br><span class="line">        <span class="keyword">return</span> dp[n-<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="【题目剖析】-1"><a href="#【题目剖析】-1" class="headerlink" title="【题目剖析】"></a>【题目剖析】</h3><ul><li>算是比较经典的dp，对dp熟悉的话，可以很快的做出。</li><li>整体来说，这题不是很难。</li><li>应该可以在比较快的时间内做出来。</li></ul><hr><h3 id="案例6-乘积"><a href="#案例6-乘积" class="headerlink" title="案例6   乘积"></a>案例6   乘积</h3><h3 id="【题目描述】-4"><a href="#【题目描述】-4" class="headerlink" title="【题目描述】"></a>【题目描述】</h3><p>小易给定你一个长度为n的正整数序列Ai，你每次可以使用1的代价将某个数加一或者减一，你希望用最少的代价使得所有数的乘积等于B，求最小代价（操作结束后每个数也必须是正整数）。</p><h3 id="【输入描述】-4"><a href="#【输入描述】-4" class="headerlink" title="【输入描述】"></a>【输入描述】</h3><p>第一行数字n, B,表示序列长度和目标乘积。</p><p>接下来一行n个正整数表示初始序列。</p><p>1≤n≤10^3 , 1≤B≤ 10^5，1≤Ai≤ 10^5.</p><h3 id="【输出描述】-4"><a href="#【输出描述】-4" class="headerlink" title="【输出描述】"></a>【输出描述】</h3><p>一行一个数字表示答案</p><h3 id="【示例】-4"><a href="#【示例】-4" class="headerlink" title="【示例】"></a>【示例】</h3><h5 id="示例1：-4"><a href="#示例1：-4" class="headerlink" title="示例1："></a>示例1：</h5><p><strong>输入：</strong></p><blockquote><p>5 12<br>1 3 9 2 6</p></blockquote><p><strong>输出：</strong></p><blockquote><p>10</p></blockquote><p><strong>说明：</strong><br>把3变为1需要2的代价，把9变为1需要8的代价，总代价为10。</p><h5 id="示例2：-2"><a href="#示例2：-2" class="headerlink" title="示例2："></a>示例2：</h5><p><strong>输入：</strong></p><blockquote><p>3 15<br>3 8 7</p></blockquote><p><strong>输出：</strong></p><blockquote><p>9</p></blockquote><p><strong>说明：</strong></p><p>把8变为5需要3的代价，把7变为1需要6的代价，总代价为9。</p><h3 id="【解决思路及要点】-4"><a href="#【解决思路及要点】-4" class="headerlink" title="【解决思路及要点】"></a>【解决思路及要点】</h3><ul><li>dp解决，dp[i][j]表示表示让前i个数字乘积为j的最小代价。</li><li>需要大量用到数的因子，故生成一个从1-B的所有数的因子的集合。</li><li>具体转移方程和其它细节在注释中。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution5</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner sc=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> n=sc.nextInt();</span><br><span class="line">        <span class="keyword">int</span> B=sc.nextInt();</span><br><span class="line">        <span class="keyword">int</span>[] a=<span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            a[i]=sc.nextInt();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(solve(a,B));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span>[] a,<span class="keyword">int</span> B)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n=a.length-<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//该集合是1-B的所有数的因子的集合</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; v=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//初始化集合</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=B;i++)&#123;</span><br><span class="line">            v.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//得到1-B所有数的因子的集合</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=B;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;=B;j+=i)&#123;</span><br><span class="line">                v.get(j).add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//m为B的因子的个数</span></span><br><span class="line">        <span class="keyword">int</span> m=v.get(B).size();</span><br><span class="line">        <span class="keyword">int</span>[] num=<span class="keyword">new</span> <span class="keyword">int</span>[B+<span class="number">1</span>];</span><br><span class="line">        <span class="comment">//从前往后记录B的因子的下标【等于可以从一个因子得到相应的下标，也可以用哈希表实现】</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            num[v.get(B).get(i)]=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//dp数组</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp=<span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>][m];</span><br><span class="line">        <span class="comment">//初始化dp[0]为最大值</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)&#123;</span><br><span class="line">            dp[<span class="number">0</span>][i]= (<span class="keyword">int</span>) <span class="number">1e9</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="comment">//初始化dp[i][j]为最大值</span></span><br><span class="line">                dp[i][j]= (<span class="keyword">int</span>) <span class="number">1e9</span>;</span><br><span class="line">                <span class="comment">//k遍历B的第j个因子的所有因子</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;v.get(v.get(B).get(j)).size();k++)&#123;</span><br><span class="line">                    <span class="comment">//dp[i-1][num[v.get(v.get(B).get(j)).get(k)]]是前i-1个数乘积为B的第j个因子的第k个因子的最小代价</span></span><br><span class="line">                    <span class="comment">//Math.abs(a[i]-v.get(B).get(j)/v.get(v.get(B).get(j)).get(k))是 第i个数-B的第j个因子/B的第j个因子的第k个因子 的绝对值</span></span><br><span class="line">                    <span class="comment">//这两个之和就是转换的最小代价</span></span><br><span class="line">                    dp[i][j]=Math.min(dp[i][j],dp[i-<span class="number">1</span>][num[v.get(v.get(B).get(j)).get(k)]]</span><br><span class="line">                            +Math.abs(a[i]-v.get(B).get(j)/v.get(v.get(B).get(j)).get(k)));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//最终答案是前n个数字乘积为B的最小代价</span></span><br><span class="line">        <span class="keyword">return</span> dp[n][m-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="【题目剖析】-2"><a href="#【题目剖析】-2" class="headerlink" title="【题目剖析】"></a>【题目剖析】</h3><ul><li>这个题开始我是完全没有做出来，想到dp的思路，但始终找不到转移的点。</li><li>这个题感觉还是比较难的dp了，估计在两小时内做出的人比较少，这场比试真正拉开算法能力强的人与普通人差距的题目。</li><li>算是一个难度dp了。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="算法" scheme="http://codehao.top/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="笔试" scheme="http://codehao.top/tags/%E7%AC%94%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>研究生学位论文格式与书写规范</title>
    <link href="http://codehao.top/cl15275mc0031iwlab7jdcrc8/"/>
    <id>http://codehao.top/cl15275mc0031iwlab7jdcrc8/</id>
    <published>2022-03-15T13:32:04.786Z</published>
    <updated>2022-03-19T12:44:58.142Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="学位论文是研究生培养质量和学术水平的集中体现。高质量、高水平的学位论文不仅在内容上有创造性和创新性，而且在表达方式上应具有一定的规范性和严谨性。为了保证研究生学位论文的质量，特作如下规定。"><a href="#学位论文是研究生培养质量和学术水平的集中体现。高质量、高水平的学位论文不仅在内容上有创造性和创新性，而且在表达方式上应具有一定的规范性和严谨性。为了保证研究生学位论文的质量，特作如下规定。" class="headerlink" title="学位论文是研究生培养质量和学术水平的集中体现。高质量、高水平的学位论文不仅在内容上有创造性和创新性，而且在表达方式上应具有一定的规范性和严谨性。为了保证研究生学位论文的质量，特作如下规定。"></a>学位论文是研究生培养质量和学术水平的集中体现。高质量、高水平的学位论文不仅在内容上有创造性和创新性，而且在表达方式上应具有一定的规范性和严谨性。为了保证研究生学位论文的质量，特作如下规定。</h2><p><strong>一、学位论文版式、格式</strong></p><p>（一）论文开本及版芯</p><p>论文开本大小：210mm×297mm（A4纸）</p><p>版芯要求：左边距：30mm，右边距：25mm，上边距：30mm，下边距：25mm，页眉边距：23mm，页脚边距：18mm</p><p>（二）论文用中文撰写</p><p>（三）标题：论文分三级标题</p><p>一级标题：黑体，三号或16pt，段前、段后间距为1行</p><p>二级标题：黑体，四号或14pt，段前、段后间距为1行</p><p>三级标题：黑体，小四号或12pt，段前、段后间距为1行</p><p>上述段前、段后间距可适当调节，以便于控制正文合适的换页位置</p><p>（四）正文字体：正文采用五号宋体，行间距为18磅；图、表标题采用小五号黑体；表格中文字、图例说明采用小五号宋体；表注采用六号宋体</p><p>（五）页眉、页脚文字均采用小五号宋体，页眉左侧为“博（硕）士学位论文”，右侧为一级标题名称；页眉下横线为上粗下细文武线；单面复印时页码排在页脚居中位置，双面复印时页码分别按左右侧排</p><p>（六）文中表格均采用标准表格形式（如三线表，可参照正式出版物中的表格形式）</p><p>（七）文中所列图形应有所选择，照片不得直接粘贴，须经扫描后以图片形式插入</p><p>（八）文中英文、罗马字符一般采用Time New Roman正体，按规定应采用斜体的采用斜体</p><p><strong>二、学位论文的各组成部分与排列顺序</strong></p><p>学位论文，一般由封面、独创性声明及版权授权书、中文摘要、英文摘要、目录、插图和附表清单、主要符号表、引言（第一章）、正文、结论（最后一章）、参考文献、致谢、附录和作者简历等部分组成并按前后顺序排列。</p><p>（一）封面：硕士学位论文封面颜色为浅草绿色，博士学位论文封面颜色为湖水蓝色。研究生学位论文封面（见附件1）、书脊（见附件3）要求如下：</p><p>1、学位论文题目应能概括论文的主要内容，切题、简洁，不超过26字，可分两行排列，中英文对照；</p><p>2、未经学校遴选且在研究生部备案的合作指导教师，不得在学位论文上署名；署名的合作指导教师人数不超过2人；</p><p>3、学科门类：哲学、经济学、法学、教育学、文学、历史学、理学、工学、农学、医学、军事学、管理学；学位级别：硕士、博士；</p><p>4、专业名称、专业领域名称、研究方向应严格按照专业目录和培养方案填写；</p><p>5、分类号：按《中国图书资料分类法》要求填写；</p><p>6、密级：涉密论文，由各系学位评定分委员会根据国家规定的密级范围和法定程序审查确定密级，并注明相应保密年限；</p><p>7、日期：学位论文完成时间。</p><p>（二）独创性声明和关于论文使用授权的说明（见附件2）附于学位论文摘要之前，研究生和指导教师本人必须签字。</p><p>（三）中文摘要（见附件3）：硕士论文摘要的字数一般为500个左右，博士论文摘要的字数为800-1000个。内容包括研究工作目的、研究方法、所取得的结果和结论，应突出本论文的创造性成果或新见解，语言精炼。摘要应当具有独立性，即不阅读论文的全文，就能获得论文所能提供的主要信息。</p><p>为便于文献检索，应在论文摘要后另起一行注明本文的关键词（3－5）个。</p><p>（四）英文摘要（见附件3）：与中文摘要对应。</p><p>（五）目录（见附件4）：应是论文的提纲，也是论文组成部分的小标题。目录一般列至二级标题，以阿拉伯数字分级标出。</p><p>（六）插图和附表清单：论文中如果图、表较多，可以分别列出清单列于目录页之后。图表的清单应有序号、图表名称和页码。</p><p>（七）符号、标志、缩略词、计量单位、名词、术语等注释说明，可以集中列于图表的清单之后。</p><p>（八）引言（第一章）：在论文正文前。内容包括：该研究工作的实用价值和理论意义；国内外已有的文献综述；本研究要解决的问题。</p><p>（九）正文：是学位论文的主体。写作内容可因研究课题的性质而不同，一般包括：理论分析、计算方法、实验装置和测试方法、对实验结果或调研结果的分析与讨论，本研究方法与已有研究方法的比较等方面。内容应简炼、重点突出，不要叙述专业方面的常识性内容。各章节之间应密切联系，形成一个整体。</p><p>（十）结论（最后一章）：结论应明确、简炼、完整、准确，要认真阐述自己的研究工作在本领域中的地位、作用以及自己新见解的意义。应当严格区分研究生的成果与导师的科研成果的界限。</p><p>如果不可能得出明确结论，也可以没有结论而进行必要的讨论。</p><p>（十一）参考文献：引用他人的成果必须标明出处。所有引用过的文献，应按引用的顺序编号排列。参考文献一律放在结论之后，不得放在各章之后。</p><p>（十二）致谢：致谢对象限于对课题研究、学位论文完成等方面有较重要帮助的人员。</p><p>（十三）附录：凡不宜放在论文正文中，但又与论文有关的研究过程或资料，如较为冗长的公式推导、重复性或者辅助性数据图表、计算程序及有关说明等，均应放入附录。</p><p>（十四）作者简历：内容一般包括：姓名、性别、出生日期、籍贯、最后学历（学位）、毕业院校、工作经历；在学期间参加的研究项目、发表论文、申请专利、获奖情况等。学术论文应正式发表，或有正式录用函。著作及学术论文等的书写格式要求与参考文献相同。</p><p><strong>三、书写要求</strong></p><p>（一） 语言表述</p><p>论文应层次分明、数据可靠、文字简炼、说明透彻、推理严谨、立论正确，避免使用文学性质的带感情色彩的非学术性词语。论文中如出现非通用性的新名词、新术语、新概念，应作相应解释。</p><p>（二）层次和标题</p><p>层次应清楚，标题应简明扼要，重点突出。具体格式如下：</p><p>1  □□□□□（一级标题，居中，单列一行）</p><p>1.1  □□□□□（二级标题，左对齐，单列一行）</p><p>1.1.1  □□□□□（三级标题，左对齐，单列一行）</p><p>其它标题或需突出的重点，可用五号黑体（或加粗），可单列一行，也可放在段首。</p><p>（三）篇眉和页码</p><p>从第一章开始书写篇眉，篇眉下为上粗下细文武线。页码从第一章开始按阿拉伯数字连续编排。第一章之前的页码用罗马数字单独编排。</p><p>（四）图、表、公式等</p><p>图形要精选，要具有自明性，切忌与表及文字表述重复。图形坐标比例不宜过大，同一图形中不同曲线的图标应采用不同的形状和不同颜色的连线。图中术语、符号、单位等应与正文中表述一致。图序、标题、图例说明居中置于图的下方。</p><p>表中参数应标明量和单位。表序、标题居中置于表的上方。表注置于表的下方。</p><p>图、表应与说明文字相配合，图形不能跨页显示，表格一般放在同一页内显示。</p><p>公式一般居中对齐，公式编号用小括号括起，右对齐，其间不加线条。</p><p>文中的图、表、公式、附注等一律用阿拉伯数字按章节（或连续）编号，如图1-1，表2-2，公式（3-10）等。</p><p>（五）参考文献</p><p>参考文献可顺序编码，也可按“著者-出版年”编码。建议根据《中国高校自然科学学报编排规范》的要求书写参考文献，并按顺序编码，即按文中引用的顺序编码。作者姓名写至第三位，余者写“，等”或“，<em>et al</em>.”。</p><p>几种主要参考文献著录表的格式：</p><p>连续出版物：序号 作者. 文题. 刊名，年，卷号（期号）：起~止页码</p><p>专（译）著：序号 作者. 书名（，译者）. 出版地：出版者，出版年，起~止页码</p><p>论 文 集：序号 作者. 文题. 见(in)：编者，编(eds). 文集名. 出版地：出版者，出版年，起~止页码</p><p>学 位 论 文：序号 作者. 文题：[XX学位论文]. 授予单位所在地：授予单位，授予年</p><p>专    利：序号 申请者. 专利名. 国名，专利文献种类，专利号，出版日期</p><p>技 术 标 准：序号 发布单位. 技术标准代号. 技术标准名称. 出版地：出版者，出版日期</p><p>举例如下：</p><p>[1] 闫志坚，陈敏，安渊，等.大针茅+羊草退化草场改良技术的研究.中国草地，2002，24（3）：7~14</p><p>[2] 朱文学. 粮食干燥原理及品质分析. 北京：高等教育出版社，2001，57~108</p><p>[3] Dupont B. Bone marrow transplantation in severe combined immunodeficiency with an unrelated MLC compatible donor. In：White H J.，Smith R，eds. Proceedings of the Third Annual Meeting of the International Society for Experimental Hematology. Houston：International Society for Experimental Hematology, 1974. 44~46</p><p>[4] 欧阳忠. 中国股市及农业板块的弱市场有效性假设的分析和应用：[硕士学位论文]. 北京：中国农业大学，2002</p><p>[5] 姜锡洲. 一种温热外敷药制备方法. 中国专利，881056073，1980-07-26</p><p>[6] 中华人民共和国国家技术监督局. GB3100~3102. 中华人民共和国国家标准—量与单位. 北京：中国标准出版社，1994-11-01</p><p>（六）量和单位</p><p>应严格执行GB3100~3102：93有关量和单位的规定（参阅《常用量和单位》.计量出版社，1996）。单位名称的书写，可采用国际通用符号，也可用中文名称，但全文应统一，不要两种混用。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="研究生" scheme="http://codehao.top/tags/%E7%A0%94%E7%A9%B6%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>疫情数据分析和预测</title>
    <link href="http://codehao.top/cl15275ve003diwla7ovd4155/"/>
    <id>http://codehao.top/cl15275ve003diwla7ovd4155/</id>
    <published>2022-03-15T13:32:04.754Z</published>
    <updated>2020-11-19T07:26:58.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="疫情数据分析和预测"><a href="#疫情数据分析和预测" class="headerlink" title="疫情数据分析和预测"></a>疫情数据分析和预测</h1><p>疫情数据分析和预测是医学和流行病学应对大范围流行病时的重要判断手段，在医治隔离、预防响应、物资生产调配等抗疫措施上起到参考作用。</p><p>以下将通过已知模型尝试寻找合适拟合模型并对目前全球疫情发展作出一定程度的预测。</p><h4 id="一、逻辑斯蒂模型（Logistic）"><a href="#一、逻辑斯蒂模型（Logistic）" class="headerlink" title="一、逻辑斯蒂模型（Logistic）"></a>一、逻辑斯蒂模型（Logistic）</h4><p>（1）模型描述：当一个物种迁入到一个新生态系统中后，其数量会发生变化。假设该物种的起始数量小于环境的最大容纳量，则数量会增长。该物种在此生态系统中有天敌、食物、空间等资源也不足（非理想环境），则增长函数满足逻辑斯谛方程，图像呈S形，此方程是描述在资源有限的条件下种群增长规律的一个最佳数学模型。</p><p>（2）一般疾病的传播是S型增长的过程，因为疾病传播的过程中会受到一定的阻力（医治、切断传播途径等措施）。</p><p>此处采用最小二乘法，对logistic增长函数进行拟合。以下将检验最小二乘法拟合的逻辑斯蒂模型是否能贴合实际。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> curve_fit</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logistic_increase_function</span><span class="params">(t,K,P0,r)</span>:</span></span><br><span class="line">    t0=<span class="number">11</span></span><br><span class="line">    <span class="comment">#r 0.05/0.55/0.65</span></span><br><span class="line">    r = <span class="number">0.45</span></span><br><span class="line">    <span class="comment"># t:time   t0:initial time    P0:initial_value    K:capacity  r:increase_rate</span></span><br><span class="line">    exp_value=np.exp(r*(t-t0))</span><br><span class="line">    <span class="keyword">return</span> (K*exp_value*P0)/(K+(exp_value<span class="number">-1</span>)*P0)</span><br><span class="line"> </span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">1.11日41例</span></span><br><span class="line"><span class="string">1.18日45例</span></span><br><span class="line"><span class="string">1.19日62例</span></span><br><span class="line"><span class="string">1.20日291例</span></span><br><span class="line"><span class="string">1.21日440例</span></span><br><span class="line"><span class="string">1.22日571例</span></span><br><span class="line"><span class="string">1.23日835例</span></span><br><span class="line"><span class="string">1.24日1297例</span></span><br><span class="line"><span class="string">1.25日1985例</span></span><br><span class="line"><span class="string">1.26日2762例</span></span><br><span class="line"><span class="string">1.27日4535例</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#  日期及感染人数</span></span><br><span class="line">t=[<span class="number">11</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span> ,<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>,  <span class="number">25</span>,  <span class="number">26</span>,  <span class="number">27</span>]</span><br><span class="line">t=np.array(t)</span><br><span class="line">P=[<span class="number">41</span>,<span class="number">45</span>,<span class="number">62</span>,<span class="number">291</span>,<span class="number">440</span>,<span class="number">571</span>,<span class="number">835</span>,<span class="number">1297</span>,<span class="number">1985</span>,<span class="number">2762</span>,<span class="number">4535</span>]</span><br><span class="line">P=np.array(P)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 用最小二乘法估计拟合</span></span><br><span class="line"><span class="comment"># 现有数据曲线拟合检验</span></span><br><span class="line">popt1, pcov1 = curve_fit(logistic_increase_function, t, P)</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取popt里面是拟合系数</span></span><br><span class="line">print(<span class="string">"K:capacity  P0:initial_value   r:increase_rate   t:time"</span>)</span><br><span class="line">print(popt1)</span><br><span class="line"><span class="comment">#拟合后预测的P值</span></span><br><span class="line"></span><br><span class="line">P_predict = logistic_increase_function(t,popt1[<span class="number">0</span>],popt1[<span class="number">1</span>],popt1[<span class="number">2</span>])</span><br><span class="line"><span class="comment">#未来预测</span></span><br><span class="line">future=[<span class="number">11</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span> ,<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>,  <span class="number">25</span>,  <span class="number">26</span>,  <span class="number">27</span>,<span class="number">28</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">41</span>,<span class="number">51</span>,<span class="number">61</span>,<span class="number">71</span>,<span class="number">81</span>,<span class="number">91</span>,<span class="number">101</span>]</span><br><span class="line">future=np.array(future)</span><br><span class="line">future_predict=logistic_increase_function(future,popt1[<span class="number">0</span>],popt1[<span class="number">1</span>],popt1[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#近期情况预测</span></span><br><span class="line">tomorrow=[<span class="number">28</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">35</span>,<span class="number">37</span>,<span class="number">40</span>]</span><br><span class="line">tomorrow=np.array(tomorrow)</span><br><span class="line">tomorrow_predict=logistic_increase_function(tomorrow,popt1[<span class="number">0</span>],popt1[<span class="number">1</span>],popt1[<span class="number">2</span>])</span><br><span class="line"><span class="comment">#绘图</span></span><br><span class="line">plot1 = plt.plot(t, P, <span class="string">'s'</span>,label=<span class="string">"confimed infected people number"</span>)</span><br><span class="line">plot2 = plt.plot(t, P_predict, <span class="string">'r'</span>,label=<span class="string">'predict infected people number'</span>)</span><br><span class="line">plot3 = plt.plot(tomorrow, tomorrow_predict, <span class="string">'s'</span>,label=<span class="string">'tomorrow predict infected people number'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'time'</span>)</span><br><span class="line"></span><br><span class="line">plt.ylabel(<span class="string">'confimed infected people number'</span>)</span><br><span class="line"> </span><br><span class="line">plt.legend(loc=<span class="number">0</span>) <span class="comment">#指定legend的位置右下角</span></span><br><span class="line"> </span><br><span class="line">print(logistic_increase_function(np.array(<span class="number">28</span>),popt1[<span class="number">0</span>],popt1[<span class="number">1</span>],popt1[<span class="number">2</span>]))</span><br><span class="line">print(logistic_increase_function(np.array(<span class="number">29</span>),popt1[<span class="number">0</span>],popt1[<span class="number">1</span>],popt1[<span class="number">2</span>]))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="http://a1.qpic.cn/psc?/V521UhRD0Xfs5U1VlCKg0JxjNS195Zxt/ruAMsa53pVQWN7FLK88i5mmmTgqOjDq5yDLflH6BZmK169z8GrwOmLGv*nS3tSdMWIDKSkLJdYux5jvzoK8trsyEJykGsEO6eHhEmXm4RbY!/b&ek=1&kp=1&pt=0&bo=kgEGAQAAAAADF6Y!&tl=1&vuin=2420944664&tm=1605769200&sce=60-2-2&rf=viewer_4"  alt="img"></p><p>本次拟合采用了1月11日到1月27日的累计确诊病例数据作为原始数据，采用最小二乘法拟合逻辑斯蒂曲线，最后经过对逻辑斯蒂模型中R值（增长速率，到达K值的速度）的拟合调整，发现在0.45附近得到的曲线比较贴合我国1月至2月疫情实际情况。2月9日的预测值在4万左右，与实际情况十分贴近，也证明了模型的一定可靠性。</p><p>将本模型推广，进行全球范围内典型新冠肺炎爆发国家的疫情拟合与未来疫情预测，同时将通过R值的大小反应出该国疫情应对的有效程度。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> curve_fit</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logistic_increase_function</span><span class="params">(t,K,P0,r)</span>:</span></span><br><span class="line">    t0=<span class="number">11</span></span><br><span class="line">    <span class="comment">#r </span></span><br><span class="line">    r = <span class="number">0.08</span></span><br><span class="line">    <span class="comment"># t:time   t0:initial time    P0:initial_value    K:capacity  r:increase_rate</span></span><br><span class="line">    exp_value=np.exp(r*(t-t0))</span><br><span class="line">    <span class="keyword">return</span> (K*exp_value*P0)/(K+(exp_value<span class="number">-1</span>)*P0)</span><br><span class="line">  </span><br><span class="line"><span class="comment">#  日期及感染人数</span></span><br><span class="line"></span><br><span class="line">n = <span class="string">"../dataSets\\countrydata.csv"</span></span><br><span class="line">data = pd.read_csv(n)</span><br><span class="line"><span class="comment"># 修改国家可以得到不同的曲线拟合情况</span></span><br><span class="line">data = data[data[<span class="string">'countryName'</span>] == <span class="string">'日本'</span>]</span><br><span class="line">date_list = list(data[<span class="string">'dateId'</span>])</span><br><span class="line">date_list = list(map(<span class="keyword">lambda</span> x:str(x),date_list))</span><br><span class="line"></span><br><span class="line">confirm_list = list(data[<span class="string">'confirmedCount'</span>])</span><br><span class="line"></span><br><span class="line">time_array = np.array(range(<span class="number">19</span>,len(date_list)+<span class="number">19</span>))</span><br><span class="line">long_time_array = np.array(range(<span class="number">19</span>,len(date_list)+<span class="number">190</span>))</span><br><span class="line">confirm_array = np.array(confirm_list)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 用最小二乘法估计拟合</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 现有数据曲线拟合预测</span></span><br><span class="line">popt, pcov = curve_fit(logistic_increase_function, time_array, confirm_array)</span><br><span class="line"><span class="comment">#获取popt里面是拟合系数</span></span><br><span class="line">print(<span class="string">"K:capacity  P0:initial_value   r:increase_rate   t:time"</span>)</span><br><span class="line">print(popt)</span><br><span class="line"><span class="comment">#拟合后预测的P值</span></span><br><span class="line">P_predict = logistic_increase_function(long_time_array,popt[<span class="number">0</span>],popt[<span class="number">1</span>],popt[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#未来预测</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#近期情况预测</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#绘图</span></span><br><span class="line">plot1 = plt.plot(time_array, confirm_array, <span class="string">'s'</span>,label=<span class="string">"confimed infected people number"</span>)</span><br><span class="line">plot2 = plt.plot(long_time_array, P_predict, <span class="string">'r'</span>,label=<span class="string">'predict infected people number'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'time'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'confimed infected people number'</span>)</span><br><span class="line"> </span><br><span class="line">plt.legend(loc=<span class="number">0</span>) <span class="comment">#指定legend的位置右下角</span></span><br><span class="line"> </span><br><span class="line">print(logistic_increase_function(np.array(<span class="number">28</span>),popt[<span class="number">0</span>],popt[<span class="number">1</span>],popt[<span class="number">2</span>]))</span><br><span class="line">print(logistic_increase_function(np.array(<span class="number">29</span>),popt[<span class="number">0</span>],popt[<span class="number">1</span>],popt[<span class="number">2</span>]))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="data:image/png;base64,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"  alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import math</span><br><span class="line">import pandas as pd</span><br><span class="line"> </span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from scipy.optimize import curve_fit</span><br><span class="line"> </span><br><span class="line">def logistic_increase_function(t,K,P0,r):</span><br><span class="line">    t0&#x3D;11</span><br><span class="line">    #r 中国0.25 美国0.05 英国0.08 意大利0.08 德国0.09 韩国0.11</span><br><span class="line">    r &#x3D; 0.05</span><br><span class="line">    # t:time   t0:initial time    P0:initial_value    K:capacity  r:increase_rate</span><br><span class="line">    exp_value&#x3D;np.exp(r*(t-t0))</span><br><span class="line">    return (K*exp_value*P0)&#x2F;(K+(exp_value-1)*P0)</span><br><span class="line"> </span><br><span class="line">#  日期及感染人数</span><br><span class="line"></span><br><span class="line">n &#x3D; &quot;..&#x2F;dataSets\\countrydata.csv&quot;</span><br><span class="line">data &#x3D; pd.read_csv(n)</span><br><span class="line"># 修改国家可以得到不同的曲线拟合情况</span><br><span class="line">data &#x3D; data[data[&#39;countryName&#39;] &#x3D;&#x3D; &#39;美国&#39;]</span><br><span class="line">date_list &#x3D; list(data[&#39;dateId&#39;])</span><br><span class="line">date_list &#x3D; list(map(lambda x:str(x),date_list))</span><br><span class="line"></span><br><span class="line">confirm_list &#x3D; list(data[&#39;confirmedCount&#39;])</span><br><span class="line"></span><br><span class="line">time_array &#x3D; np.array(range(19,len(date_list)+19))</span><br><span class="line">long_time_array &#x3D; np.array(range(19,len(date_list)+190))</span><br><span class="line">confirm_array &#x3D; np.array(confirm_list)</span><br><span class="line"> </span><br><span class="line"># 用最小二乘法估计拟合</span><br><span class="line"></span><br><span class="line"># 现有数据曲线拟合预测</span><br><span class="line">popt, pcov &#x3D; curve_fit(logistic_increase_function, time_array, confirm_array)</span><br><span class="line">#获取popt里面是拟合系数</span><br><span class="line">print(&quot;K:capacity  P0:initial_value   r:increase_rate   t:time&quot;)</span><br><span class="line">print(popt)</span><br><span class="line">#拟合后预测的P值</span><br><span class="line">P_predict &#x3D; logistic_increase_function(long_time_array,popt[0],popt[1],popt[2])</span><br><span class="line"></span><br><span class="line">#未来预测</span><br><span class="line"></span><br><span class="line">#近期情况预测</span><br><span class="line"></span><br><span class="line">#绘图</span><br><span class="line">plot1 &#x3D; plt.plot(time_array, confirm_array, &#39;s&#39;,label&#x3D;&quot;confimed infected people number&quot;)</span><br><span class="line">plot2 &#x3D; plt.plot(long_time_array, P_predict, &#39;r&#39;,label&#x3D;&#39;predict infected people number&#39;)</span><br><span class="line">plt.xlabel(&#39;time&#39;)</span><br><span class="line">plt.ylabel(&#39;confimed infected people number&#39;)</span><br><span class="line"> </span><br><span class="line">plt.legend(loc&#x3D;0) #指定legend的位置右下角</span><br><span class="line"> </span><br><span class="line">print(logistic_increase_function(np.array(28),popt[0],popt[1],popt[2]))</span><br><span class="line">print(logistic_increase_function(np.array(29),popt[0],popt[1],popt[2]))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="data:image/png;base64,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xIgRvPjii4Dzl/egQYO44IILOPPMM1m+fDk9evSgWbNmPPbYYzlxfPDBB8THx9OiRQvuuusujhxxJg2ZMGECp512GhdeeCGLFi0q8Bx8/6r2GuOOHTu49tpradOmDW3atMk59oEDB7j11ls555xziI2NZcaMGQwdOpT09HRatGjBTTfddMzxjhgxgr59+9K5c2eaNWvGuHHjct574YUXaNOmDbGxsQwfPjynfMyYMTRv3pzmzZvzyiuvAJCSksIZZ5xBv379iI2NpWfPnhw8eDDf582ZM4f27dvTqlUrrrvuOg4cOJCvTseOHRkyZAjx8fGcdtppfPfdd/m+W4ArrriCBQsWABAVFcWQIUNo3bo1F198McuWLaNjx46cfPLJzJ49O2efzZs3061bN04//XSefPLJnPLCvsOoqCieeOIJ2rZty5IlSwr8Dr3yknh2ikgfEansbn1wVvU0pvjeew86doTatbmm74v80OhMv9XLcmsnUH766SeeeeYZ5s2bx48//sirr74KwMCBA7n55ptJTk7mpptu4r777svZZ9u2bSxcuJDPP/+coUOHAk5XV2RkJCtXrqRXr175Pqdq1ap8++233H333XTv3p033niD1atXM3HiRHbt2sWaNWuYNm0aixYtYuXKlVSuXJkpU6awbds2hg8fzqJFi0hISODnn3/2dF5eYrz//vsZNGgQy5cvZ8aMGdxxxx0APP3009SuXZtVq1aRnJxM586dGTVqVM6+U6ZMKZV4k5OT+eKLL1iyZAlPPfUUW7duZc6cOaxfv55ly5axcuVKkpKS+Pbbb0lKSmLChAksXbqU77//nnHjxrFixQoA1q5dS//+/UlOTqZWrVq8+eabuT5n586djBw5krlz5/LDDz8QFxfHmDEFL3GWlZXFsmXLeOWVV3IliMKkpaXRsWNHkpKSiI6O5rHHHiMhIYHPPvuMJ554IqfesmXLmDJlCitXruSTTz4hMTGx0O8w+7jNmzdn6dKlnH/++UXG4Y+XrrbbgNeBl3FGsy12y4zxLiMDBg50Es/FF8PUqax4canfXSpqa2fevHn07NmT+vXrA3DccccBsGTJEj791BlM2rdvXx5++OGcfa6++moqVarEWWedxZ9//unpc7K7wc455xzOPvtsGjZsCMDJJ5/M5s2bWbhwIUlJSbRp0waA9PR0jj/+eJYuXUrH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+fPn54qtY8eOvPjii8TFxREVFcX999/P559/TmRkJLNmzWLbtm08/PDDOcsVLFmyhO+++47hw4eTmZnJKaecwoQJE4iKimL58uXcf//9pKWlUa1aNRISEnjiiSdIT09n4cKFDBs2jCuuuIJ7772XVatWkZWVxYgRI+jevTvp6enceuut/Pzzz5x55pmkp6cX+F3GxMTQq1evnPP48MMPOfXUU9mxYwd33313ztISr7zyCh06dGD37t3cdttt/Prrr9SoUYN33nmH2NhYRowYwS+//MLvv//O5s2befjhh7nzzjtzfdaRI0cYOnQoCxYsIDMzkwEDBuSb3y0lJYVLL72U888/n8WLF9OoUSNmzZpFZGRkru92586dxMXFkZKSwsSJE5k5cyZHjhxh9erVPPjggxw6dIj333+fatWq8eWXX+ZMJPvBBx9w3333sX//fsaPH098fDxpaWkFfocTJ07kiy++ICMjg7S0NObNK3r+xNJiiac8OnQIfvsN1q+HVavgxx8hOdmZrDN7YsG//Q06dIABA5zHuDg4hgkAi5twspXppBNCa9eu5b333qNDhw7cdtttvPnmmzl31FevXp2FCxcCzvxkb7/9Ns2aNWPp0qX885//ZN68edx///3cc8893HzzzbzxxhsFfsY777zDb7/9xooVK6hSpQq7d+/muOOOY8yYMcyfPz9nduzCpKWl0a5dO5555hkefvhhxo0bx2OPPcZTTz1FYmIir7/+eq7p/2vWrMno0aMZM2YMQ4cOpVevXkybNo02bdqwf/9+atSokWtfgEceeYTOnTszfvx49u7dS3x8PBdffDH//ve/qVGjBsnJySQnJ/udMqZWrVosW7aMyZMn88ADD/D555/nLL9w/vnns2nTJrp27cqaNWsYPnw4LVu2ZObMmcybN4+bb745Z7645ORkvv/+e9LS0mjZsiWXX557do333nuP2rVrs3z5cjIzM+nQoQNdunShadOmueqtX7+eqVOnMm7cOK6//npmzJhBnz59/H7Xq1evZsWKFWRkZHDqqacyevRoVqxYwaBBg3LOK/s3Wbx4Md9++y233XYbq1ev5plnninwOwRnxvPk5OScxBUslnjCUWYmbN0Kv//ubJs3O7MFbNjgbJs2/ZVgAGJiIDYWevaEc891utFiYnJNY1MSJU022cLiuo6flkkg+ZtWP3tt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"  alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import math</span><br><span class="line">import pandas as pd</span><br><span class="line"> </span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from scipy.optimize import curve_fit</span><br><span class="line"> </span><br><span class="line">def logistic_increase_function(t,K,P0,r):</span><br><span class="line">    t0&#x3D;11</span><br><span class="line">    #r </span><br><span class="line">    r &#x3D; 0.09</span><br><span class="line">    # t:time   t0:initial time    P0:initial_value    K:capacity  r:increase_rate</span><br><span class="line">    exp_value&#x3D;np.exp(r*(t-t0))</span><br><span class="line">    return (K*exp_value*P0)&#x2F;(K+(exp_value-1)*P0)</span><br><span class="line"> </span><br><span class="line">#  日期及感染人数</span><br><span class="line"></span><br><span class="line">n &#x3D; &quot;..&#x2F;dataSets\\countrydata.csv&quot;</span><br><span class="line">data &#x3D; pd.read_csv(n)</span><br><span class="line"># 修改国家可以得到不同的曲线拟合情况</span><br><span class="line">data &#x3D; data[data[&#39;countryName&#39;] &#x3D;&#x3D; &#39;德国&#39;]</span><br><span class="line">date_list &#x3D; list(data[&#39;dateId&#39;])</span><br><span class="line">date_list &#x3D; list(map(lambda x:str(x),date_list))</span><br><span class="line"></span><br><span class="line">confirm_list &#x3D; list(data[&#39;confirmedCount&#39;])</span><br><span class="line"></span><br><span class="line">time_array &#x3D; np.array(range(19,len(date_list)+19))</span><br><span class="line">long_time_array &#x3D; np.array(range(19,len(date_list)+190))</span><br><span class="line">confirm_array &#x3D; np.array(confirm_list)</span><br><span class="line"> </span><br><span class="line"># 用最小二乘法估计拟合</span><br><span class="line"></span><br><span class="line"># 现有数据曲线拟合预测</span><br><span class="line">popt, pcov &#x3D; curve_fit(logistic_increase_function, time_array, confirm_array)</span><br><span class="line">#获取popt里面是拟合系数</span><br><span class="line">print(&quot;K:capacity  P0:initial_value   r:increase_rate   t:time&quot;)</span><br><span class="line">print(popt)</span><br><span class="line">#拟合后预测的P值</span><br><span class="line">P_predict &#x3D; logistic_increase_function(long_time_array,popt[0],popt[1],popt[2])</span><br><span class="line"></span><br><span class="line">#未来预测</span><br><span class="line"></span><br><span class="line">#近期情况预测</span><br><span class="line"></span><br><span class="line">#绘图</span><br><span class="line">plot1 &#x3D; plt.plot(time_array, confirm_array, &#39;s&#39;,label&#x3D;&quot;confimed infected people number&quot;)</span><br><span class="line">plot2 &#x3D; plt.plot(long_time_array, P_predict, &#39;r&#39;,label&#x3D;&#39;predict infected people number&#39;)</span><br><span class="line">plt.xlabel(&#39;time&#39;)</span><br><span class="line">plt.ylabel(&#39;confimed infected people number&#39;)</span><br><span class="line"> </span><br><span class="line">plt.legend(loc&#x3D;0) #指定legend的位置右下角</span><br><span class="line"> </span><br><span class="line">print(logistic_increase_function(np.array(28),popt[0],popt[1],popt[2]))</span><br><span class="line">print(logistic_increase_function(np.array(29),popt[0],popt[1],popt[2]))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="data:image/png;base64,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zcO5/8UYE3zFJhgRaQlMxEkMCiwE7lbV9CJ3LISqLiRwH8mnRewzAZgQoDwR6BSg/CBwZUniq7JUYdQoaNAAJhzzUVd5ceMTAjYXVpRLRd9///18+umnXHTRRbRr1446depw3XXXlekxpk6dSmJiIi+88EK+8jlz5rB69WpGjx7tOcYnn3zyuI79j3/8g7/97W9lEm956Nu3L0899RRxcXHlfmx/ofwMwFsn/2vAGxz9wb7WLQv9/ypTdmbOhAUL4L//hcaFz9qvqgrri6oofVT//e9/ycjIoFatWuV+7Msuu4zLLrus2O1KE2NJEowpvZycHCIiSn6BQS99ME1V9TVVzXZvUwHrEa9MNm+Gu+6C+Hi4+WZPu1SG/peKYPr06cTExNC5c2dGjBgBwMaNGznvvPOIiYnhvPPOY9OmTQDccMMN3HXXXfTq1YtTTjmFd999F3B+4LOysoiPj2fWrFmMGzeOp556CnD+kr733nvp06cPHTp0YNmyZQwZMoT27dvz8MMP58Xx+uuv0717d2JjY7ntttvIyXFaoV977TVOO+00zj33XBYtWhTwHKZOncqdd955XDFmZGTwxz/+kW7dutGtW7e89963bx833ngjZ511FjExMbz33nuMHj2aAwcOEBsby5/+9KdSxztu3DhGjBhB//79ad++PZMnT8577cknn6Rbt27ExMQwduzYvPKnn36aTp060alTJ5599lkAUlNTOeOMM7j++uuJiYlh6NCh7N+//5jjzZ07l549e9K1a1euvPJK9u3bd8w2ffv25cEHH6R79+6cdtppLFiw4JjPFuCSSy5h/vz5AERFRfHggw9y9tlnc/7557N06VL69u3LKaecwpw5c/L2SUtLY9CgQZx++un8/e9/zysv7DOMiori0UcfJT4+nsWLFwf8DL3ykmC2i8i1IhLh3q4FMkt1VFNxqDpJ5eBBmDYN3L9WiuvgrwjNQuHuxx9/ZMKECXz11VesXLmS5557DoA777yT6667juTkZP70pz9x11135e2zZcsWFi5cyMcff5zXJDVnzhwiIyNZsWIFw4YNO+Y4NWvW5Ntvv+X2229n8ODBvPjii6SkpDB16lQyMzNZs2YNs2bNYtGiRaxYsYKIiAhmzpzJli1bGDt2LIsWLSIhIYHVq1d7Oi8vMd59993ce++9LFu2jPfee49bbrkFgMcff5wGDRqwatUqkpOT6d+/P0888UTevjNnziyTeJOTk/nkk09YvHgxjz32GJs3b2bu3LmsW7eOpUuXsmLFCpKSkvj2229JSkritddeY8mSJXz//fdMnjyZ5cuXA/Dzzz8zcuRIkpOTqV+/Pi+99FK+42zfvp3x48czb948fvjhB+Li4nj66cCX0srOzmbp0qU8++yz+RJBYbKysujbty9JSUnUq1ePhx9+mISEBD744AMeffTRvO2WLl3KzJkzWbFiBe+88w6JiYmFfoa+9+3UqRNLlizhnHPOKTaOonhpIrsJeAFnyRUFvnPLTGXw3//C5587y8KcfnpecVFNP1Z7KRtfffUVQ4cOpUmTJgA0atQIgMWLF/P+++8DMGLECB7wW03h8ssvp1q1anTs2JGtW7d6Oo6v+eqss87izDPPpFkzZ8DmKaecQlpaGgsXLiQpKYlu3boBcODAAU488USWLFlC37598Q3hHzZsGGvXri32eF5inDdvXr4EsGfPHvbu3cu8efN466238spPOOGEY/b98ssvSx3v4MGDiYyMJDIykn79+rF06VIWLlzI3Llz6dLFuUr8vn37WLduHfv27eOKK66gbt26AAwZMoQFCxZw2WWX0apVK3r37g3Atddey/PPP899992Xd5zvv/+e1atX521z+PBhevbsGTCmIUOc2R9nn302qampAbfxV7NmTQYNclbHOuuss6hVqxY1atTgrLPOyrf/BRdcQGO32XvIkCEsXLiQ6tWrB/wMASIiIvjjH/9Y7PG98DKKbBNQfAOrCT/LlsE998CAAfB//+d5N6u9lA1V9TT0038b//4LryPvfftUq1Yt3/7VqlUjOzsbVeX666/nn//8Z779PvzwwxINTfUSY25uLosXLyYyMjJfuZfPpCziLbidiKCqjBkzhttuuy3fa74mMa/vUzDWCy64gDfffLPYmHyfW0REBNnZ2QBUr16d3NzcvG3856HUqFEj73j+363vey0qxsI+Q3Bm7Jem38Wfl7XIpolIQ7/nJ4jIlDI5ugmdrVthyBA4+WSng7+al9bSqquwWltpanPnnXceb7/9NpmZTovzjh3OXOBevXrl/RU/c+bMUjdTeInj3XffZdu2bXlxbNy4kfj4eObPn09mZiZHjhzhnXfK7rqDAwYMyDeyacWKFQHLd+7cCTg/pkeOHCmzeGfPns3B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"  alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import math</span><br><span class="line">import pandas as pd</span><br><span class="line"> </span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from scipy.optimize import curve_fit</span><br><span class="line"> </span><br><span class="line">def logistic_increase_function(t,K,P0,r):</span><br><span class="line">    t0&#x3D;11</span><br><span class="line">    #r 中国0.25 美国0.05 英国0.08 意大利0.08 德国0.09 韩国0.11</span><br><span class="line">    r &#x3D; 0.11</span><br><span class="line">    # t:time   t0:initial time    P0:initial_value    K:capacity  r:increase_rate</span><br><span class="line">    exp_value&#x3D;np.exp(r*(t-t0))</span><br><span class="line">    return (K*exp_value*P0)&#x2F;(K+(exp_value-1)*P0)</span><br><span class="line"> </span><br><span class="line">#  日期及感染人数</span><br><span class="line"></span><br><span class="line">n &#x3D; &quot;..&#x2F;dataSets\\countrydata.csv&quot;</span><br><span class="line">data &#x3D; pd.read_csv(n)</span><br><span class="line"># 修改国家可以得到不同的曲线拟合情况</span><br><span class="line">data &#x3D; data[data[&#39;countryName&#39;] &#x3D;&#x3D; &#39;韩国&#39;]</span><br><span class="line">date_list &#x3D; list(data[&#39;dateId&#39;])</span><br><span class="line">date_list &#x3D; list(map(lambda x:str(x),date_list))</span><br><span class="line"></span><br><span class="line">confirm_list &#x3D; list(data[&#39;confirmedCount&#39;])</span><br><span class="line"></span><br><span class="line">time_array &#x3D; np.array(range(19,len(date_list)+19))</span><br><span class="line">long_time_array &#x3D; np.array(range(19,len(date_list)+190))</span><br><span class="line">confirm_array &#x3D; np.array(confirm_list)</span><br><span class="line"> </span><br><span class="line"># 用最小二乘法估计拟合</span><br><span class="line"></span><br><span class="line"># 现有数据曲线拟合预测</span><br><span class="line">popt, pcov &#x3D; curve_fit(logistic_increase_function, time_array, confirm_array)</span><br><span class="line">#获取popt里面是拟合系数</span><br><span class="line">print(&quot;K:capacity  P0:initial_value   r:increase_rate   t:time&quot;)</span><br><span class="line">print(popt)</span><br><span class="line">#拟合后预测的P值</span><br><span class="line">P_predict &#x3D; logistic_increase_function(long_time_array,popt[0],popt[1],popt[2])</span><br><span class="line"></span><br><span class="line">#未来预测</span><br><span class="line"></span><br><span class="line">#近期情况预测</span><br><span class="line"></span><br><span class="line">#绘图</span><br><span class="line">plot1 &#x3D; plt.plot(time_array, confirm_array, &#39;s&#39;,label&#x3D;&quot;confimed infected people number&quot;)</span><br><span class="line">plot2 &#x3D; plt.plot(long_time_array, P_predict, &#39;r&#39;,label&#x3D;&#39;predict infected people number&#39;)</span><br><span class="line">plt.xlabel(&#39;time&#39;)</span><br><span class="line">plt.ylabel(&#39;confimed infected people number&#39;)</span><br><span class="line"> </span><br><span class="line">plt.legend(loc&#x3D;0) #指定legend的位置右下角</span><br><span class="line"> </span><br><span class="line">print(logistic_increase_function(np.array(28),popt[0],popt[1],popt[2]))</span><br><span class="line">print(logistic_increase_function(np.array(29),popt[0],popt[1],popt[2]))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZIAAAEGCAYAAABPdROvAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4xLjMsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+AADFEAAAgAElEQVR4nO3deXhU9fX48fchhDXsiwUBAxZkCSFA2C2yKGBdwK2gFXFB1GLdfqJYF6iCxdZaBbdqFbBSRUWFr1sBhSKIhEQggCiLIESQJSj7FnJ+f9ybOAkzk0tmJpNJzut55pmZz9w799wZmJP7WUVVMcYYY4qrQrQDMMYYE9sskRhjjAmJJRJjjDEhsURijDEmJJZIjDHGhKRitAMoafXr19fExMRoh2GMMTElIyNjj6o28PdauUskiYmJpKenRzsMY4yJKSLyfaDXrGrLGGNMSCyRGGOMCYklEmOMMSGxRGKMMSYklkiMMcaEpNz12jImmNQJ89hz8Ljf1+onVCL9oQtKOCJjSj9LJKbcC5Y8fHnZxpjyyBKJKbe8JhBjTHCWSEy5YwnEmPCyRGLKDUsgxkSGJRJTpliyMKbkWSIxMSeiyUKVCppLBVXiNBfRXOJyc6mA0qBqHOzZc8r2fh8X9TxS2xoTTJ06UKNG2N/WEokptfwmDFVqHT1Iq4PZ/OpANnWP7KfGsUPUPHrIuT92iJrHDpNw7DCVTp6gcs5xKp08kX+rnOM+zjlBRT1JBdVfkoUqFSjiR/kvkTtfYyLuhRfg1lvD/raWSEyp4Zs4Kp7MofXuLZy3+3t+nb2NX2dvo8XeLM7cv5sqOf6vRo5WrMSBytXYXzmBg5WqcqxiPIfjq/Bz1Rocj4vneFw8xyrG5z/OqRBHboUK5IqQKxU4KRVQEU5KBapWjucP/VtBXBxUqPDLfYUKIFLwwL7Pg71WUtsaE0jPnhF5W0skJmoKXHGo0mHHeoZvWk7XrLV02LGeaieOAXC8QkW21GnMt/XPYv6vu7EroS4/JtRjZ426ZFerzf7K1TlQuTrHK8aHHJMNOjTm9FkiMVGRl0Ta7dzElavnM3D9Uhof2MNJqcDaM1owM3kA6We2ZV3D5myt/Sty4iL7T9USiDHFZ4nElJj8KxBVBq5fyi1ps+i0/VuOVqzEouadeLL3cD49uyv7qoa/MTAQSyDGhM4SiSkReUmkx/er+NOCV2m/cxOb6zTiz/1vZlZSf/ZXSYjYsS1ZGBNZlkhMiTi5azd/X/AKV6z5jK21zuCei+5mdts+nKwQF5b3t2RhTPRYIjERlTphHs2+WcXHs/9CvcP7mNJjKM/2+B3H4isX6/0sYRhT+lgiMRGTOmEegxa9x7hPX+KHmg0ZfN0/+PqMFqf1HpY4jCn9LJGYyFDlmv9O557FM5h/dhfuufj/eWoHscRhTOyxRGLCLvWxuYz88CXuWTaLd5L6c/+Fd3hqC7EkYkxsskRiwm7wwre5ddksXk+5kIcH3IZK4BWdLXkYE/uCrtkuIhVEpFhj6kXkVRHZJSJrfMrqisg8Edng3tfxee0BEdkoIt+KyECf8s4istp9bbKIMxeEiFQWkZlu+TIRSSxOnCbM3n2XBz97hY9a9SwyiQCWRIwpA4L+L1fVXODvxXzvacCgQmVjgU9VtSXwqfscEWkLDAPaufs8LyJ5dSEvAKOAlu4t7z1vAn5S1V8D/wCeKGacJlzWrePosGtY0fgc7r74/xWZROonVCqhwIwxkRT8f7pjrohckXcl4JWqLgL2FioeDEx3H08HhviUv6mqx1R1M7AR6CoijYCaqrpUVRV4rdA+ee/1DtD/dGM04dNj/Id83eciDlWszK2X/Slo9976CZXYMukiuxoxpozw0kZyD1AdOCkiRwABVFVrFuN4Z6jqDpw32CEiDd3yM4EvfbbLcstOuI8Ll+fts819rxwR2QfUAwotGAEiMgrnqoZmzZoVI2xTlJs+fJm2uzZz4xWPsDuhbtBtLYEYU7YUeUWiqjVUtYKqxqtqTfd5cZJIMP6uJDRIebB9Ti1UfUlVU1U1tUGDBsUM0QT0xReMTJ/N9E4X8dmvuwbd1KqzjCl7irwicauLfg80V9XHRKQp0EhV04pxvJ0i0si9GmkE7HLLs4CmPts1Aba75U38lPvukyUiFYFanFqVZiItJwdGj2Z7jfpMOu+GoJtumXRRCQVljClJXtpIngd6ANe4zw8CzxXzeHOAEe7jEcBsn/Jhbk+s5jiN6mluNdgBEenuJrTrCu2T915XAp+57SimJL34IqxcyYR+IzlSqUq0ozHGRIGXNpJuqtpJRFYAqOpPIlJk/YSIvAH0AeqLSBYwDpgEvCUiNwFbgavc91wrIm8BXwM5wGhVPem+1W04PcCqAh+7N4BXgH+LyEacK5FhHs7FhNOePfDQQyxr0ZGPzukVdFOr0jKm7PKSSE64XXEVQEQaALlF7aSqVwd4qX+A7ScCE/2UpwNJfsqP4iYiEyVPPknu/v08dMXIoEu92qBDY8o2L4lkMvAecIaITMSpRnooolGZ0m/3bnj2Wea06c2GBmcF3MzaRYwp+4pMJKo6Q0Qy+OVKYoiqrotsWKbUe/JJcg8fZkpPq1E0przzOtdWNSCveqtq5MIxMcHnamRTvaZFb2+MKdOK7LUlIo/gjCCvC9QHpoqIVW2VYy8OuxcOH2ZKD7saMcZ4uyK5GujoNm4jIpOAr4AJkQzMlFLHj3NZ2gf8r3knNtUPfjViPbWMKR+8jCPZAvgOEKgMbIpINKZUS50wj9uvepgzDu5lWudLgm5rPbWMKT8CXpGIyBScNpFjwFoRmec+vwBYXDLhmdJkz8HjjMj4gC21G7GwReeg21oSMab8CFa1le7eZ+B0/82zMGLRmFKt3c5NdPnhax7rN7LIxaqMMeVHwESiqtMDvWbKp99lzuVYXDxvtz8/6HZ2NWJM+eKl19bFIrJCRPaKyH4ROSAi+0siOFN6dB//EZes+5x5Lbuzv0pCwO3sasSY8sdLr62ngcuB1TYpYvmUOmEeKau/pO6R/bzbrq/fbWwEuzHll5dEsg1YY0mk/EmdMI89B48DcNnaz9hTrRaLmnc6ZTu7CjGmfPOSSO4DPhKR/+H04AJAVZ+KWFSmVMhLIjWPHuT8jWn8J2UQOXGn/pOxNhFjyjcviWQizhokVQD707OcSJ0wL//xhd8uofLJE7wXoFrLGFO+eUkkdVV1QMQjMaVK3tUIwG+/XcKW2o3I/FXLKEZkjCmtvIxsny8ilkjKqRrHDtHj+0z+26qH3zVHrH3EGOMlkYwGPhGRI9b9t3zwrdbqu2k5lXJz+G/LHqdsZ9OgGGPA23okNUoiEFN6+FZrDVy/lN3Va7PizHMKbGNJxBiTp8hEIiK9/ZWr6qLwh2NKk8onjtHnuwxmt+1TYEoUGzNijPHlpbF9jM/jKkBXnPm3+kUkIlNqnPv9SqqfOOq0j7isTcQYU5iXqq0C84WLSFPgrxGLyESVb/vI+RuWsb9SNb44Kzm/zKqzjDGFeWlsLywLSAp3ICb6fEeyo8p5m79iSWIKJ+LioxuYMaZU89JGkrcuCTiJJwVYFcmgTHT4NrL/OnsbjQ/sYUrPX5bTtWotY4w/XtpI0n0e5wBvqOqSCMVjosS3SgvgvM1fARSYW8uqtYwx/nhpI7F1Scq4AlVarvO+y2Bj3Sb8UKthlKIyxsQKL+uR9BKReSKyXkS+E5HNIvJdSQRnSkbhJFL5xDG6Zq31O9OvMcYU5qVq6xXgbpwuvycjG44paYWrtAC6bVtDlZzjBRKJtY8YYwLx0mtrn6p+rKq7VDU77xbKQUXkbhFZKyJrROQNEakiInXdK58N7n0dn+0fEJGNIvKtiAz0Ke8sIqvd1yaL+JkMygRV+GoEoPfmrzgWF8+XzZzOeTaK3RgTjJdEskBE/iYiPUSkU96tuAcUkTOBO4BUVU0C4oBhwFjgU1VtCXzqPkdE2rqvtwMGAc+LSJz7di8Ao4CW7m1QceMqj/xdjQD0+n4V6U3acDS+CmCN7MaY4LxUbXVz71N9ypTQRrZXBKqKyAmgGrAdeADo474+HVgI3A8MBt5U1WPAZhHZCHQVkS1ATVVdCiAirwFDgI9DiKtc8Xc1UvvIftrs3sKTv7kWsCotY0zRvPTaCutqRqr6g4g8CWwFjgBzVXWuiJyhqjvcbXaISF53oTOBL33eIsstO+E+Llx+ChEZhXPlQrNmzcJ5OjEr0NVI121rAfiyWXur0jLGeFKcke0hcds+BgPNgcZAdRG5Ntgufso0SPmphaovqWqqqqY2aNDgdEMuk/xdjQB037qaIxUrk/mrVpZEjDGelHgiAc4HNqvqblU9AbwL9AR2ikgjAPd+l7t9FtDUZ/8mOFVhWe7jwuWmCIGuRgC6b1tNxpmtqVm7eglGZIyJZdFIJFuB7iJSze1l1R9YB8wBRrjbjABmu4/nAMNEpLKINMdpVE9zq8EOiEh3932u89nHBBHoaqTWkQO03rWFZU2T7GrEGOOZl7m2qgH/D2imqjeLSEvgHFX9oDgHVNVlIvIO8BXOlCsrgJeABOAtEbkJJ9lc5W6/VkTeAr52tx+tqnnjWW4DpgFVcRrZraE9BN22raECyrpzbCCiMcY7L722puIMRsxblCILeBsoViIBUNVxwLhCxcdwrk78bT8RmOinPB2biThsum1bw9GKlfjXc6OjHYoxJoZ4qdo6W1X/itNLClU9gv+GbhMDgrWPdNu2htVN20DlyiUYkTEm1nlJJMdFpCpujygRORvn6sHEoEDtI9WPHabNrs10ufbSEo7IGBPrvFRtjQM+AZqKyAygF3B9JIMykRHsaqTDjvXEaS706lWCERljygIvAxLnichXQHecKq07VXVPxCMzYRfoagSg8w/rQAS6dQu4jTHG+BMwkfiZT2uHe99MRJqp6leRC8uUtNQf1kG7dlC7drRDMcbEmGBXJH8P8lqoc22ZUkQ0l44/fAM3DI92KMaYGBQwkYR7ji1TerXcs5Waxw9Dz57RDsUYE4O8DEisAvwBOBfnSuRz4EVVPRrh2EwYBWtoT/1hnfPAGtqNMcXgpdfWa8ABYIr7/Grg37gjz01sCNbQ3nPnt9CwIbRoUYIRGWPKCi+J5BxV7eDzfIGIrIpUQKbkXXxwi1OtZQtMGmOKwcuAxBUi0j3viYh0A5ZELiRTkmoePQgbN1q3X2NMsXldIfE6EdnqPm8GrBOR1YCqanLEojMRl/TjRudBamrwDY0xJgAvicTWQS/DkvMSSSeb8dcYUzxeRrZ/LyIdgN+4RZ+rqrWRxJCgPbb2bHIa2evWLcGIjDFlSZFtJCJyJzADaOjeXheRP0Y6MBM+wXpsnX9om1VrGWNC4qVq6yagm6oeAhCRJ4Cl/NId2MSoOof3wZYt8Ic/RDsUY0wM89JrS4CTPs9PYuuRlAntraHdGBMGXldIXCYi77nPhwCvRC4kU1LaW0O7MSYMvDS2PyUiC3GmSBHgBlVdEenATOS137kRWrWCWrWiHYoxJoZ5qdoCqAYcUNVngCwRaR7BmEyY1U+o5Lc8ZedGq9YyxoTMy6SN44BU4Bycaq544HWclRJNDEh/6IJTC3fuhCd2WyIxxoTMyxXJZcClwCEAVd0O1IhkUKYEZGQ49507RzcOY0zM89LYflxVVUQUQESqRzgmE0apE+b5HUcydvlb3CoCHTtGISpjTFni5YrkLRH5J1BbRG4G5gMvRzYsEy6BBiOevfUbaN0aatjFpTEmNF56bT0pIhcA+4FWwCOqGnjODRMTkn/cCJddFO0wjDFlgJeqLYDVQFWcFRJXRy4cUxIaHsjmjIN7raHdGBMWXubaGgmkAZcDVwJfisiNkQ7MRE6yjWg3xoSRlzaSMUBHVb1eVUcAnYH7QzmoiNQWkXdE5BsRWSciPUSkrojME5EN7n0dn+0fEJGNIvKtiAz0Ke8sIqvd1yaL2BJ/XrT/cQMnpQKkpEQ7FGNMGeAlkWThrNme5wCwLcTjPgN8oqqtgQ7AOmAs8KmqtgQ+dZ8jIm2BYUA7nLVRnheROPd9XgBGAS3dm62dUoi/wYjtf9zIdw3PgmrVohCRMaas8dJG8gPOXFuzcdpIBgNpInIPOFOonM4BRaQm0Bu43t3/OHBcRAYDfdzNpgMLca58BgNvquoxYLOIbAS6isgWoKaqLnXf9zWcecA+Pp14yrpTBiOqwtQb4SJraDfGhIeXRLLJveWZ7d4Xt99oC2A3MNVdMCsDuBM4Q1V3AKjqDhFp6G5/JvClz/5ZbtkJ93Hh8lOIyCicKxeaNWtWzLDLiKws2LXL2keMMWHjpfvvnyNwzE7AH1V1mYg8g1uNFYC/dg8NUn5qoepLwEsAqampfrcpawINRLxyaxpPgo1oN8aEjddJG8MpC8hS1WXu83dwEstOEWkE4N7v8tm+qc/+TYDtbnkTP+WGwAMRE7d8AxUrQnJyCUdkjCmrSjyRqOqPwDYROcct6g98DcwBRrhlI/ilCm0OMExEKruzDrcE0txqsAMi0t3trXWdzz4mgOQdGyApCapWjXYoxpgywuuAxHD7IzBDRCoB3wE34CS1t0TkJmArcBWAqq4Vkbdwkk0OMFpV81ZsvA2YhjNY8mOsoT04VWcxq/OHRjsSY0wZEjCRiMgUArQ5AKjqHcU9qKquxJmavrD+AbafCEz0U54OJBU3jvKmyb6d1Dl6wBrajTFhFaxqKx2nR1UVnDaMDe4thYJruJsYYSPajTGREPCKRFWnA4jI9UBfVT3hPn8RmFsi0Zliq59Q6ZQG9+QfN3A8Lp5KSXYRZ4wJHy9tJI1xxozsdZ8nuGWmFPO7KuL5/4COHaBy5ZIPyBhTZnlJJJOAFSKywH1+HjA+YhGZkPkdQ6LK6iVfUuP64dEJyhhTZnkZkDhVRD4GurlFY90uvKaU8jeG5Kyfd1Dj6CEbiGiMCTsv08gLcD7QQVVnA5VEpGvEIzNhlbxjg/PAGtqNMWHmZUDi80AP4Gr3+QHguYhFZCKi/Y8bORYXD+3aRTsUY0wZ4yWRdFPV0cBRAFX9CTh1bnJTqiX/uIGvG7aA+Phoh2KMKWO8JJIT7vofCiAiDYDciEZlwko0l6Sdm8hs9Otoh2KMKYO8JJLJwHtAQxGZCCwG/hLRqExICi9m1WLvDyQcP8Lms9pEKSJjTFkmqkXPqi4irXGmLxGcVQzXRTqwSElNTdX09PRoh1GyXn8dhg+H1audCRuNMeY0iUiGqvrtrVNk918R+beqDge+8VNmYkFGhrOsbuvW0Y7EGFMGeRmQWKCbj9teYoMRSil/gxHfemculeo3J6VitCZ7NsaUZQHbSETkARE5ACSLyH73dgBnwSlb96OUKpxEKuSeJGnnJlY0aBGliIwxZV3ARKKqf1HVGsDfVLWme6uhqvVU9YESjNGE4OzsLKqdOEbmr1pGOxRjTBnlpddWmojUynsiIrVFZEgEYzJhlDd1vCUSY0ykeEkk41R1X94TVf0ZGBe5kEw4tf9xAwcrVWVzXZuw2RgTGV4Sib9trNU2RiT/uIG1Z5xNboW4aIdijCmjvCSSdBF5SkTOFpEWIvIPnJUTTSnkOxix4skc2u7aTOavfn3KIEVjjAmXIgckikh14GGcGYDBWR1xoqoeinBsEVGuBiSuWgUpKfCf/8DVVxe9vTHGBBDSgEQ3YYwVkQRVPRj26Ezk5CVMW4PEGBNBXtYj6SkiXwNfu887iMjzEY/MhC4tDWrXhpbWY8sYEzle2kj+AQwEsgFUdRXQO5JBmTBJS4MuXUAk2pEYY8owT72vVHWbFPwxOhmZcEwofKdHqXLiKGtWZfJC96uYPmEe6Q9dEOXojDFllZdEsk1EegIqIpWAO4CYnf23LPOdHqXdzu+oqLmsatTK7xruxhgTLl6qtm4FRgNnAllAivvclGId3DXaVzWy9hFjTGQFm7TxCfdhX1X9vaqeoaoNVfVaVc0O9cAiEiciK0TkA/d5XRGZJyIb3Ps6Pts+ICIbReRbERnoU95ZRFa7r00WscaAPB12rOeHGg3YnVA32qEYY8q4YFckvxWReCBSEzTeScEqsrE4i2a1BD51nyMibYFhONPZDwKed6eyB3gBGAW0dG+DIhRrzOmwY71djRhjSkSwRPIJsIdfppE/4HsfykFFpAlwEfAvn+LBwHT38XRgiE/5m6p6TFU3AxuBriLSCKipqkvVGVX5ms8+5VrtI/tJ/HkHmY1aRTsUY0w5EGwa+TGqWgv40GcK+fz7EI/7NHAfkOtTdoaq7nCPvQNo6JafCWzz2S7LLctrsylcXm7lTYPyS/tIqwLlxhgTCV5Gtg8O5wFF5GJgl6pmiEgfL7v4CytIub9jjsKpAqNZs2YeI409+V18H82Ad4Q3/jkaaoaa840xJjgva7ZfDjyBc4Ug7k1DuCrpBVwqIr8FqgA1ReR1YKeINFLVHW611S53+yygqc/+TYDtbnkTP+WnUNWXgJfAmWurmHGXar5jSP71zgc0q9uUAY9/Tv2ESjaGxBgTUV66//4VuFRVa4WjaktVH1DVJqqaiNOI/pmqXgvMAUa4m43gl+V85wDDRKSyiDTHaVRPc6u/DohId7e31nWU4yWA88eKqNJhx4b8ai0bQ2KMiTQvAxJ3qmpJDECcBLwlIjcBW4GrAFR1rYi8hTPXVw4wWlXzRtbfBkwDqgIfu7dy7cz9u2lw+GdWNbaGdmNMyfCSSNJFZCbwPnAsr1BV3w314Kq6EFjoPs4G+gfYbiIw0U95OpAUahxlSYcd6wFYZUvrGmNKiJdEUhM4DAzwKVMg5ERiwq/j9m84FhfPNw0Tox2KMaac8NJr64aSCMSER+cf1rGqUUtOxMVHOxRjTDkRMJGIyH2q+lcRmYKfbrWqekdEIzOnpX5CJQ78dICkHzfxapfBBcqNMSaSgl2R5DWwl5N1aWNb+kMXwOLF8FQOt/7pOm699KJoh2SMKScCJhJV/T/3fnqgbUwps2SJc9+jR3TjMMaUK17GkZhYsWQJtGoFDRpEOxJjTDliiaSsUIUvvoBevaIdiTGmnPG01K4p3VInzKPm99/xWXY29+9IYObYDwFsehRjTIkI1mvLb2+tPNZrq/TYc/A4fX9w+kakn9m2QLkxxkRasKqtdCADZ2LFTsAG95YCnAyyn4mC1Kyv+blKAt/VK9cz6RtjoiBYr63pACJyPc5yuyfc5y8Cc0skOuNZ922rWdY0CRVr9jLGlCwvvzqNgRo+zxPcMlNKNN6/i7N+/pEvm7WPdijGmHLIS2P7JGCFiCxwn58HjI9YROa0ddu6BsASiTEmKrzMtTVVRD4GurlFY1X1x8iGZU5H3x1r+alKDb5pkFig3KZHMcaUBC8rJApwPtBCVR8VkWYi0lVV0yIfnvHi0p/Ww4Xns/mJS6IdijGmHPLSRvI80AO42n1+AHguYhGZ0/P997B5M/TpE+1IjDHllJc2km6q2klEVgCo6k8iYnUmpcX//ufcWyIxxkSJlyuSEyIShzs4UUQaALkRjcp4t2AB1K0LSbZQpDEmOrwkksnAe0BDEZkILAYej2hUxhtVmDsX+vWDCjZ+xBgTHV56bc0QkQyc9dQFGKKq64rYzZSEtWth+3YYNCjakRhjyjGvkzbuBD53t68qIp1U9avIhWU8+eQT537gwOjGYYwp17x0/30MuB7YxC+TOCrQL3JhGU8++YSNDRM5/9lVwKoCL9nMv8aYkuLliuR3wNmqalPJliaHDsHnn/NZB/9L6trMv8aYkuKlhXYNUDvSgZjTtHAhHD/O/1p0jnYkxphyzssVyV9w5tpaAxzLK1TVSyMWlSnaf/8LVauS3qRt0dsaY0wEeUkk04EngNXY+JHSQRU++AD69uVYRRsbaoyJLi+JZI+qTo54JMa7zExnWpQ//Qk2RjsYY0x556WNJENE/iIiPUSkU96tuAcUkaYiskBE1onIWhG50y2vKyLzRGSDe1/HZ58HRGSjiHwrIgN9yjuLyGr3tcnuBJNl37vvOgMQL7004Ay/NvOvMaakiGrAZdmdDX5Zh8SXqmqxuv+KSCOgkap+JSI1cJbzHYLTxXivqk4SkbFAHVW9X0TaAm8AXXEW1JoPtFLVkyKSBtwJfAl8BExW1Y+DHT81NVXT09OLE3rpkZwMtWvDokXRjsQYU06ISIaqpvp7zcvI9r7hDEZVdwA73McHRGQdcCYwGOjjbjYdWAjc75a/qarHgM0ishHoKiJbgJqquhRARF7DSUhBE0nM27gRVq+Gp56KdiTGGAMESSQicq2qvi4i9/h7XVVD/iUTkUSgI7AMOMNNMqjqDhFp6G52Js4VR54st+yE+7hwub/jjAJGATRr1izUsKPrvfec+8sui24cxhjjCnZFUs29rxFkm2ITkQRgFnCXqu4P0rzh7wUNUn5qoepLwEvgVG2dfrSlyHvvQceOkJhI6oR5fgce2qh2Y0xJCpZIznbvv1bVt8N5UBGJx0kiM1T1Xbd4p4g0cq9GGgG73PIsoKnP7k2A7W55Ez/lZdemTbB0KTzuTL4caPS6jWo3xpSkYL22fuv+4D8QzgO6PateAdYVqh6bA4xwH48AZvuUDxORyiLSHGgJpLnVYAdEpLv7ntf57FM2vf46iMDvfx/tSIwxJl+wK5JPgD1AdRHZ71MuOL22ahbzmL2A4cBqEVnplv0JmAS8JSI3AVuBq3AOtFZE3gK+BnKA0ap60t3vNmAaUBWnkb3sNrSrwr//DX37Qqy38xhjypSAiURVxwBjRGS2qg4O1wFVdTH+2zfAWfPE3z4TgYl+ytOB8rE04NKlTtXWww9HOxJjjCmgyAGJ4UwiJgSvvQZVq8Lll0c7EmOMKaDIRCIil7ujzfeJyH4ROVCoqstE2uHDMHOm0+W3xi+d6GxUuzGmNPAy19ZfgUtsed0omjEDfv4Zbr21QLF18fXmxIkTZGVlcfTo0WiHYkypV6VKFZo0aUJ8fLznfbwkkp2WRKJIFaZMgQ4d4Nxzox1NTMrKyqJGjRokJiZSXqZjM6Y4VJXs7GyysrJo3ry55/28JJJ0EZkJvE/B9UjeDbyLCZv//c+ZEuWVV5yuvy4bjOjd0doGQSgAABfNSURBVKNHLYkY44GIUK9ePXbv3n1a+3lJJDWBw8AAnzIFLJGUhClToF49uPrqAsU2GPH0WBIxxpvi/F/xMmnjDcWKxoRu40Z4/30YM8bpsWWMMaWQl15bTUTkPRHZJSI7RWSWiDQpaj8TBo89BpUrw113RTuSciN1wjwSx354yi11wrxohwbAmDFjaNeuHWPGjOHFF1/ktddeC/sxpk2bxu23335K+Zw5c5g0adJpxXi6Hnen/zkdgeItCX369KE0LEsRzc8AvFVtTQX+gzvSHLjWLbOK+Ehav96ZEuXuu+FXv4p2NOVGaa8y/Oc//8nu3bupXLlyiR/70ksv5dJLLy1yu1BifPzxx/nTn/5UnPBMCE6ePElcXFyx9/eyQmIDVZ2qqjnubRrQoNhHNN489hhUqQL33XfKS6Xlr2Pj3WuvvUZycjIdOnRg+PDhAHz//ff079+f5ORk+vfvz9atWwG4/vrrueOOO+jZsyctWrTgnXfeAZwf8kOHDtGtWzdmzpzJ+PHjefLJJwHnL+O7776b3r1706ZNG5YvX87ll19Oy5Yteeihh/LjeP311+natSspKSnccsstnDzpzDY0depUWrVqxXnnnceSJUv8noPvX71eY9y9ezdXXHEFXbp0oUuXLvnvffDgQW644Qbat29PcnIys2bNYuzYsRw5coSUlBR+784nF0q848ePZ/jw4fTr14+WLVvy8ssv57/2t7/9jS5dupCcnMy4cePyy5966imSkpJISkri6aefBmDLli20bt2aESNGkJyczJVXXsnhw4dPOd7cuXPp0aMHnTp14qqrruLgwYOnbNOnTx/uv/9+unbtSqtWrfj8889P+WwBLr74YhYuXAhAQkIC999/P507d+b8888nLS2NPn360KJFC+bMmZO/z7Zt2xg0aBDnnHMOf/7zn/PLA32GCQkJPPLII3Tr1o2lS5f6/Qy98pJI9ojItSIS596uBbJDOqoJbvVq+M9/YPRoaNjwlJeD/XVsgxFLn7Vr1zJx4kQ+++wzVq1axTPPPAPA7bffznXXXUdmZia///3vueOOO/L32bFjB4sXL+aDDz5g7NixgFO1VLVqVVauXMnQoUNPOU6lSpVYtGgRt956K4MHD+a5555jzZo1TJs2jezsbNatW8fMmTNZsmQJK1euJC4ujhkzZrBjxw7GjRvHkiVLmDdvHl9//bWn8/IS45133sndd9/N8uXLmTVrFiNHjgTgscceo1atWqxevZrMzEz69evHpEmT8vedMWNGWOLNzMzkww8/ZOnSpTz66KNs376duXPnsmHDBtLS0li5ciUZGRksWrSIjIwMpk6dyrJly/jyyy95+eWXWbFiBQDffvsto0aNIjMzk5o1a/L8888XOM6ePXuYMGEC8+fP56uvviI1NZWnAiw+l5OTQ1paGk8//XSBH/xADh06RJ8+fcjIyKBGjRo89NBDzJs3j/fee49HHnkkf7u0tDRmzJjBypUrefvtt0lPTw/4Gea9b1JSEsuWLePcEIcWeKnauhF4FvgHTm+tL9wyEwmqTgKpUwfuv/+0d7euv6XPZ599xpVXXkn9+vUBqFu3LgBLly7l3Xedzo/Dhw/nPp+rzyFDhlChQgXatm3Lzp07PR0nr9qpffv2tGvXjkaNGgHQokULtm3bxuLFi8nIyKBLly4AHDlyhIYNG7Js2TL69OlDgwZORcPQoUNZv359kcfzEuP8+fML/NDv37+fAwcOMH/+fN5888388jp16pyy76effhpyvIMHD6Zq1apUrVqVvn37kpaWxuLFi5k7dy4dO3YEnKujDRs2cPDgQS677DKqV68OwOWXX87nn3/OpZdeStOmTenVqxcA1157LZMnT+bee+/NP86XX37J119/nb/N8ePH6dGjh9+YLnenOercuTNbtmzxu42vSpUqMWjQIMD5bitXrkx8fDzt27cvsP8FF1xAvXr18o+xePFiKlas6PczBIiLi+OKK64o8vheeOm1tRUoumLUhMfrr8Pnn8PLLzvdfk3MU1VPXSp9t/FtX1D1thZb3j4VKlQosH+FChXIyclBVRkxYgR/+ctfCuz3/vvvF6vLp5cYc3NzWbp0KVUL9Tr08pmEI97C24kIqsoDDzzALbfcUuC1vKosr+9TONYLLriAN954o8iY8j63uLg4cnJyAKhYsSK5ubn52/jOwhAfH59/PN/vNu97DRZjoM8QnBHsobSL+PLSa2u6iNT2eV5HRF4Ny9FNQT//7HT17doVbvR/0WftI5EVifnL+vfvz1tvvUV2tlMjvHfvXgB69uyZ/1f5jBkzQq5e8BLHO++8w65du/Lj+P777+nWrRsLFy4kOzubEydO8Pbb4VvHbsCAATz77LP5z1euXOm3/KeffgKcH80TJ06ELd7Zs2dz9OhRsrOzWbhwIV26dGHgwIG8+uqr+W0YP/zwA7t27aJ37968//77HD58mEOHDvHee+/xm9/8BoCtW7fmtyO88cYbp3xX3bt3Z8mSJWzcuBGAw4cPe7qqy5OYmMjKlSvJzc1l27ZtpKWled43z7x589i7dy9Hjhzh/fffp1evXgE/w3DzUrWVrKo/5z1R1Z9EpGPYIynvVJ25tPbsgQ8/hAr+c3xp6T1UVkWiarBdu3Y8+OCDnHfeecTFxdGxY0emTZvG5MmTufHGG/nb3/5GgwYNmDp1atiP7att27ZMmDCBAQMGkJubS3x8PM899xzdu3dn/Pjx9OjRg0aNGtGpU6f8BtlQTZ48mdGjR5OcnExOTg69e/fmxRdf5KGHHmL06NEkJSURFxfHuHHjuPzyyxk1ahTJycl06tSJGTNmhBxv165dueiii9i6dSsPP/wwjRs3pnHjxqxbty6/6ikhIYHXX3+dTp06cf3119O1a1cARo4cSceOHdmyZQtt2rRh+vTp3HLLLbRs2ZLbbrutwHEaNGjAtGnTuPrqqzl2zJkAZMKECbRq1crT59SrVy+aN29O+/btSUpKolOnTqf9WZ977rkMHz6cjRs3cs0115CampofR+HP8Kyzzjrt9w9GirpsFpFVQB9V/cl9Xhf4n6q2D2skJSQ1NVVLQ7/vU0yd6lyFTJgADz4YcLPEsR8GfM2mR/Fv3bp1tGnTJtphmBI2fvx4EhISCrRlFMeWLVu4+OKLWbNmTZgiK/38/Z8RkQxVTfW3vZcrkr8DX4jIOziN7b/DzyJTJgTr1sEf/wh9+oDb+8Wfoqq1LIkYY6LBS2P7ayKSDvTDWdnwclX11j/QFG3nTrjoIqhe3VlKN0jjl1VrGePd+PHjw/I+iYmJ5epqpDi8XJHgJg5LHuF26BBcfDH8+KMzy28Tm3nGGBN7PCUSEwH798Mll8BXXzkTM7r9vIvLBiIaY6LFEkk07NkDgwbBqlXO6oeXXBLyW1r7iDEmWrxMkWLCaflySE2FtWudK5FhwzztZuNHjDGllSWSknLyJPzjH85yuapOm8hFF3ne3ebXMr4SEhIA2L59O1deeWXQbZ9++mm/kwyCM1aiqLm1du/eTbdu3ejYsWP+JINerVy5ko8++ui09oHoTc++ZcsWkpKSSvy4/pSWKeq9sERSEpYvh27d4J57YMAAp13EHfTkhXX7LR+KMwiwcePG+TPvBhIskfzrX/+ibdu2Qff/9NNPad26NStWrMgf6e1VcROJCY3v1CklwRJJJK1YAZdd5iSNrCx4802YM+e059Cybr9hdNddznidcN6KWHgs2DTkiYmJPProo5x77rm8/fbbbNq0iUGDBtG5c2d+85vf8M033wCwefNmevToQZcuXXj44YcLvHfeX9AnT57k3nvvzZ+afcqUKUyePJnt27fTt29f+vbte0psvn/1JiQk8OCDD9KhQwe6d+/Ozp07WblyJffddx8fffQRKSkpHDlyJOB06cuXL6dnz5506NCBrl27sm/fPh555BFmzpxJSkoKM2fO5NChQ9x444106dKFjh07Mnv2bMCZTHDYsGEkJyczdOhQjhw54vezTExMzJ+GvWvXrvlTkgSarn7v3r0MGTKE5ORkunfvTmZmJhB8ivk8J0+eZMyYMfnTzf/zn//0+922adOGm2++mXbt2jFgwID82H0/2z179pCYmAg4U8YPGTKESy65hObNm/Pss8/y1FNP0bFjR7p3754/hQ44U8D37NmTpKSk/GlTAn2G06ZN46qrruKSSy5hwADfldEjzxJJuP30E0ybBj17QqdOsGABPPqos1DV0KFwmpPjWdtI2RBsGvIqVaqwePFihg0bxqhRo5gyZQoZGRk8+eST/OEPfwDgzjvv5LbbbmP58uX8KsBCZy+99BKbN29mxYoVBaamb9y4MQsWLGDBggVBYzx06BDdu3dn1apV9O7dm5dffpmUlBQeffRRhg4dysqVKzl06JDf6dKPHz/O0KFDeeaZZ1i1ahXz58+nevXqBfYdOnQoEydOpF+/fixfvpwFCxYwZswY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"  alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="研究生" scheme="http://codehao.top/tags/%E7%A0%94%E7%A9%B6%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>实用工具&amp;学习网站</title>
    <link href="http://codehao.top/cl15275m8002riwla1bq731qt/"/>
    <id>http://codehao.top/cl15275m8002riwla1bq731qt/</id>
    <published>2022-03-15T13:32:04.732Z</published>
    <updated>2020-06-09T04:17:26.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="实用工具-amp-学习网站"><a href="#实用工具-amp-学习网站" class="headerlink" title="实用工具&amp;学习网站"></a>实用工具&amp;学习网站</h2><table><thead><tr><th>名称</th><th>网址</th><th>用途</th></tr></thead><tbody><tr><td>Bilibili站</td><td><a href="http://www.bilibili.com" target="_blank" rel="noopener">www.bilibili.com</a></td><td>大量免费学习视频平台</td></tr><tr><td>中国大学MOOC</td><td><a href="http://www.icourse163.org" target="_blank" rel="noopener">www.icourse163.org</a></td><td>全国各大高校优质IT课程平台</td></tr><tr><td>IMOOC(慕课)</td><td><a href="http://www.imooc.com" target="_blank" rel="noopener">www.imooc.com</a></td><td>互联网IT技能免费学习平台</td></tr><tr><td>极客时间</td><td><a href="https://time.geekbang.org" target="_blank" rel="noopener">https://time.geekbang.org</a></td><td>面向IT领域的知识服务产品</td></tr><tr><td>极客学院</td><td><a href="http://www.jikexueyuan.com" target="_blank" rel="noopener">www.jikexueyuan.com</a></td><td>中国专业IT职业在线教育平台</td></tr><tr><td>网易云课堂</td><td><a href="https://study.163.com" target="_blank" rel="noopener">https://study.163.com</a></td><td>在线实用技能学习平台</td></tr><tr><td>知乎</td><td><a href="http://www.zhihu.com" target="_blank" rel="noopener">www.zhihu.com</a></td><td>基于问答的内容生产平台</td></tr><tr><td>GitHub</td><td><a href="https://github.com" target="_blank" rel="noopener">https://github.com</a></td><td>开源的托管服务仓库</td></tr><tr><td>我要自学网</td><td><a href="http://www.51zxw.net" target="_blank" rel="noopener">www.51zxw.net</a></td><td>免费全面的视频教程平台</td></tr><tr><td>w3school</td><td><a href="http://www.w3school.com.cn" target="_blank" rel="noopener">www.w3school.com.cn</a></td><td>全球最大的中文 Web 技术教程平台</td></tr><tr><td>菜鸟教程</td><td><a href="http://www.runoob.com" target="_blank" rel="noopener">www.runoob.com</a></td><td>编程的基础技术教程平台</td></tr><tr><td>CSDN</td><td><a href="http://www.csdn.net" target="_blank" rel="noopener">www.csdn.net</a></td><td>中文IT技术交流平台</td></tr><tr><td>掘金</td><td><a href="https://juejin.im" target="_blank" rel="noopener">https://juejin.im</a></td><td>帮助开发者成长的社区</td></tr><tr><td>博客园</td><td><a href="http://www.cnblogs.com" target="_blank" rel="noopener">www.cnblogs.com</a></td><td>面向开发者的知识分享社区</td></tr><tr><td>思否（segmentfault）</td><td><a href="https://segmentfault.com" target="_blank" rel="noopener">https://segmentfault.com</a></td><td>新一代开发者社区和专业的技术媒体</td></tr><tr><td>stackoverflow</td><td><a href="https://stackoverflow.com" target="_blank" rel="noopener">https://stackoverflow.com</a></td><td>程序相关的IT技术问答网站</td></tr><tr><td>开源中国</td><td><a href="http://www.oschina.net" target="_blank" rel="noopener">www.oschina.net</a></td><td>中文开源技术社区</td></tr><tr><td>V2ex</td><td><a href="http://www.v2ex.com" target="_blank" rel="noopener">www.v2ex.com</a></td><td>创意工作者的社区</td></tr><tr><td>infoQ</td><td><a href="http://www.infoq.cn" target="_blank" rel="noopener">www.infoq.cn</a></td><td>实践驱动的社区资讯站点</td></tr><tr><td>有道词典</td><td><a href="http://www.youdao.com" target="_blank" rel="noopener">www.youdao.com</a></td><td>全能免费语言翻译软件</td></tr><tr><td>印象笔记</td><td><a href="http://www.yinxiang.com" target="_blank" rel="noopener">www.yinxiang.com</a></td><td>笔记记录平台</td></tr><tr><td>有道云文档</td><td><a href="https://note.youdao.com" target="_blank" rel="noopener">https://note.youdao.com</a></td><td>线上资料库</td></tr><tr><td>ProcessOn</td><td><a href="http://www.processon.com" target="_blank" rel="noopener">www.processon.com</a></td><td>在线协作绘图平台</td></tr><tr><td>xmind</td><td><a href="http://www.xmind.cn" target="_blank" rel="noopener">www.xmind.cn</a></td><td>商业思维导图软件</td></tr><tr><td>鸠摩搜索</td><td><a href="http://www.jiumodiary.com" target="_blank" rel="noopener">www.jiumodiary.com</a></td><td>电子书搜索引擎</td></tr><tr><td>脚本之家</td><td><a href="http://www.jb51.net/books" target="_blank" rel="noopener">www.jb51.net/books</a></td><td>网站建设资源、脚本编程学习类网站</td></tr><tr><td>牛客网  校招</td><td><a href="http://www.nowcoder.com" target="_blank" rel="noopener">www.nowcoder.com</a></td><td>面向IT程序员的专业笔试、面试题库平台</td></tr><tr><td>LeetCode</td><td><a href="https://leetcode-cn.com" target="_blank" rel="noopener">https://leetcode-cn.com</a></td><td>最完善的算法题解平台</td></tr><tr><td>lintcode</td><td><a href="http://www.lintcode.com" target="_blank" rel="noopener">www.lintcode.com</a></td><td>专注代码面试的在线评测系统</td></tr><tr><td>数据结构模拟</td><td><a href="http://www.cs.usfca.edu" target="_blank" rel="noopener">www.cs.usfca.edu</a></td><td>动画演示算法平台</td></tr><tr><td>拉钩</td><td><a href="http://www.lagou.com" target="_blank" rel="noopener">www.lagou.com</a></td><td>互联网从业者的招聘网站</td></tr><tr><td>Open Access Library</td><td><a href="http://www.oalib.com/" target="_blank" rel="noopener">http://www.oalib.com/</a></td><td>全新的英文学术期刊论文搜索引擎</td></tr><tr><td>Pexels</td><td><a href="https://www.pexels.com/zh-cn/" target="_blank" rel="noopener">https://www.pexels.com/zh-cn/</a></td><td>高质量照片库平台</td></tr><tr><td>微云图册</td><td><a href="https://images.gowapp.com/" target="_blank" rel="noopener">https://images.gowapp.com/</a></td><td>超快的批量传图工具（图床）</td></tr><tr><td>Iconfont</td><td><a href="https://www.iconfont.cn/" target="_blank" rel="noopener">https://www.iconfont.cn/</a></td><td>阿里巴巴矢量图标库</td></tr><tr><td>MaHua</td><td><a href="http://mahua.jser.me/" target="_blank" rel="noopener">http://mahua.jser.me/</a></td><td>在线markdown编辑器</td></tr><tr><td>知网研学</td><td><a href="https://x.cnki.net/" target="_blank" rel="noopener">https://x.cnki.net/</a></td><td>文献资源在线管理写作平台</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Tools" scheme="http://codehao.top/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>基于 Jupyter Notebook 和Plotly的交互式COVID-19实时追踪可视化系统（下）</title>
    <link href="http://codehao.top/cl15275m3002iiwla9fhs9zq1/"/>
    <id>http://codehao.top/cl15275m3002iiwla9fhs9zq1/</id>
    <published>2022-03-15T13:32:04.679Z</published>
    <updated>2020-06-20T10:28:22.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="基于-Jupyter-Notebook-和Plotly的交互式COVID-19实时追踪可视化系统"><a href="#基于-Jupyter-Notebook-和Plotly的交互式COVID-19实时追踪可视化系统" class="headerlink" title="基于 Jupyter Notebook 和Plotly的交互式COVID-19实时追踪可视化系统"></a>基于 Jupyter Notebook 和Plotly的交互式COVID-19实时追踪可视化系统</h3><h2 id="3-“散点图”图表"><a href="#3-“散点图”图表" class="headerlink" title="3.“散点图”图表"></a>3.“散点图”图表</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">renamed_columns_map = &#123;</span><br><span class="line">    <span class="string">"Country/Region"</span>: <span class="string">"country"</span>,</span><br><span class="line">    <span class="string">"Province/State"</span>: <span class="string">"location"</span>,</span><br><span class="line">    <span class="string">"Lat"</span>: <span class="string">"latitude"</span>,</span><br><span class="line">    <span class="string">"Long"</span>: <span class="string">"longitude"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">confirmed_cases_df = (</span><br><span class="line">    pd.read_csv(confirmed_cases_url)</span><br><span class="line">    .rename(columns=renamed_columns_map)</span><br><span class="line">    .rename(columns=reformat_dates)</span><br><span class="line">    .fillna(method=<span class="string">"bfill"</span>, axis=<span class="number">1</span>)</span><br><span class="line">)</span><br><span class="line">deaths_df = (</span><br><span class="line">    pd.read_csv(deaths_url)</span><br><span class="line">    .rename(columns=renamed_columns_map)</span><br><span class="line">    .rename(columns=reformat_dates)</span><br><span class="line">    .fillna(method=<span class="string">"bfill"</span>, axis=<span class="number">1</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">display(confirmed_cases_df.head())</span><br><span class="line">display(deaths_df.head())</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="https://oss.gowapp.com/images/2005/31/png/e452b5524dff417182c3e1878cea7990/4.png?x-oss-process=image/resize,w_850,limit_0"  alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">fig = go.Figure()</span><br><span class="line"></span><br><span class="line">geo_data_cols = [<span class="string">"country"</span>, <span class="string">"location"</span>, <span class="string">"latitude"</span>, <span class="string">"longitude"</span>]</span><br><span class="line">geo_data_df = confirmed_cases_df[geo_data_cols]</span><br><span class="line">dates_list = (</span><br><span class="line">    confirmed_cases_df.filter(regex=<span class="string">r"(\d&#123;2&#125;/\d&#123;2&#125;/\d&#123;4&#125;)"</span>, axis=<span class="number">1</span>)</span><br><span class="line">    .columns</span><br><span class="line">    .to_list()</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">＃创建日期的映射- &gt;数据帧，其中每个DF持有的情况下，每个国家的死亡日常计数</span><br><span class="line">cases_by_date = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> date <span class="keyword">in</span> dates_list:</span><br><span class="line">    ＃得到的所有情况pd.Series当天</span><br><span class="line">    confirmed_cases_day_df = (</span><br><span class="line">        confirmed_cases_df.filter(like=date, axis=<span class="number">1</span>)</span><br><span class="line">        .rename(columns=<span class="keyword">lambda</span> col: <span class="string">"confirmed_cases"</span>)</span><br><span class="line">        .astype(<span class="string">"uint32"</span>)</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    ＃得到所有死亡人数的pd.Series当天</span><br><span class="line">    deaths_day_df = (</span><br><span class="line">        deaths_df.filter(like=date, axis=<span class="number">1</span>)</span><br><span class="line">        .rename(columns=<span class="keyword">lambda</span> col: <span class="string">"deaths"</span>)</span><br><span class="line">        .astype(<span class="string">"uint32"</span>)</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    cases_df = confirmed_cases_day_df.join(deaths_day_df)  ＃合并案例和死亡dfs </span><br><span class="line">    cases_df = geo_data_df.join(cases_df)  ＃添加地理数据</span><br><span class="line">    cases_df = cases_df[cases_df[<span class="string">"confirmed_cases"</span>] &gt; <span class="number">0</span>]  ＃删除没有案例的任何行</span><br><span class="line">    </span><br><span class="line">    cases_by_date[date] = cases_df</span><br><span class="line">    </span><br><span class="line">＃每个数据帧看起来是这样的：</span><br><span class="line">cases_by_date[dates_list[<span class="number">-1</span>]].head()</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="https://oss.gowapp.com/images/2005/31/png/53075ebd2b29435eaefdf3d15aa9cdd3/5.png?x-oss-process=image/resize,w_850,limit_0"  alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">＃生成每一天的数据</span><br><span class="line">fig.data = []</span><br><span class="line"><span class="keyword">for</span> date, df <span class="keyword">in</span> cases_by_date.items():</span><br><span class="line">    df[<span class="string">"confirmed_cases_norm"</span>] = np.log1p(df[<span class="string">"confirmed_cases"</span>])</span><br><span class="line">    df[<span class="string">"text"</span>] = (</span><br><span class="line">        date</span><br><span class="line">        + <span class="string">"&lt;br&gt;"</span></span><br><span class="line">        + df[<span class="string">"country"</span>]</span><br><span class="line">        + <span class="string">"&lt;br&gt;"</span></span><br><span class="line">        + df[<span class="string">"location"</span>]</span><br><span class="line">        + <span class="string">"&lt;br&gt;Confirmed cases: "</span></span><br><span class="line">        + df[<span class="string">"confirmed_cases"</span>].astype(str)</span><br><span class="line">        + <span class="string">"&lt;br&gt;Deaths: "</span></span><br><span class="line">        + df[<span class="string">"deaths"</span>].astype(str)</span><br><span class="line">    )</span><br><span class="line">    fig.add_trace(</span><br><span class="line">        go.Scattergeo(</span><br><span class="line">            name=<span class="string">""</span>,</span><br><span class="line">            lat=df[<span class="string">"latitude"</span>],</span><br><span class="line">            lon=df[<span class="string">"longitude"</span>],</span><br><span class="line">            visible=<span class="literal">False</span>,</span><br><span class="line">            hovertemplate=df[<span class="string">"text"</span>],</span><br><span class="line">            showlegend=<span class="literal">False</span>,</span><br><span class="line">            marker=&#123;</span><br><span class="line">                <span class="string">"size"</span>: df[<span class="string">"confirmed_cases_norm"</span>] * <span class="number">100</span>,</span><br><span class="line">                <span class="string">"color"</span>: <span class="string">"red"</span>,</span><br><span class="line">                <span class="string">"opacity"</span>: <span class="number">0.75</span>,</span><br><span class="line">                <span class="string">"sizemode"</span>: <span class="string">"area"</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        )</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">＃整理出注释和滑块步骤</span><br><span class="line">annotation_text_template = <span class="string">"&lt;b&gt;Worldwide Totals&lt;/b&gt;"</span> \</span><br><span class="line">                           <span class="string">"&lt;br&gt;&#123;date&#125;&lt;br&gt;&lt;br&gt;"</span> \</span><br><span class="line">                           <span class="string">"Confirmed cases: &#123;confirmed_cases:,d&#125;&lt;br&gt;"</span> \</span><br><span class="line">                           <span class="string">"Deaths: &#123;deaths:,d&#125;&lt;br&gt;"</span> \</span><br><span class="line">                           <span class="string">"Mortality rate: &#123;mortality_rate:.1%&#125;"</span></span><br><span class="line">annotation_dict = &#123;</span><br><span class="line">    <span class="string">"x"</span>: <span class="number">0.03</span>,</span><br><span class="line">    <span class="string">"y"</span>: <span class="number">0.35</span>,</span><br><span class="line">    <span class="string">"width"</span>: <span class="number">175</span>,</span><br><span class="line">    <span class="string">"height"</span>: <span class="number">110</span>,</span><br><span class="line">    <span class="string">"showarrow"</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">"text"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="string">"valign"</span>: <span class="string">"middle"</span>,</span><br><span class="line">    <span class="string">"visible"</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">"bordercolor"</span>: <span class="string">"black"</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">steps = []</span><br><span class="line"><span class="keyword">for</span> i, data <span class="keyword">in</span> enumerate(fig.data):</span><br><span class="line">    step = &#123;</span><br><span class="line">        <span class="string">"method"</span>: <span class="string">"update"</span>,</span><br><span class="line">        <span class="string">"args"</span>: [</span><br><span class="line">            &#123;<span class="string">"visible"</span>: [<span class="literal">False</span>] * len(fig.data)&#125;,</span><br><span class="line">            &#123;<span class="string">"annotations"</span>: [dict(annotation_dict) <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(fig.data))]&#125;,</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">"label"</span>: dates_list[i],</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ＃将第i个跟踪和注释框切换到可见</span><br><span class="line">    step[<span class="string">"args"</span>][<span class="number">0</span>][<span class="string">"visible"</span>][i] = <span class="literal">True</span></span><br><span class="line">    step[<span class="string">"args"</span>][<span class="number">1</span>][<span class="string">"annotations"</span>][i][<span class="string">"visible"</span>] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    df = cases_by_date[dates_list[i]]</span><br><span class="line">    confirmed_cases = df[<span class="string">"confirmed_cases"</span>].sum()</span><br><span class="line">    deaths = df[<span class="string">"deaths"</span>].sum()</span><br><span class="line">    mortality_rate = deaths / confirmed_cases</span><br><span class="line">    step[<span class="string">"args"</span>][<span class="number">1</span>][<span class="string">"annotations"</span>][i][<span class="string">"text"</span>] = annotation_text_template.format(</span><br><span class="line">        date=dates_list[i],</span><br><span class="line">        confirmed_cases=confirmed_cases,</span><br><span class="line">        deaths=deaths,</span><br><span class="line">        mortality_rate=mortality_rate,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    steps.append(step)</span><br><span class="line"></span><br><span class="line">sliders = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"active"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">"currentvalue"</span>: &#123;<span class="string">"prefix"</span>: <span class="string">"Date: "</span>&#125;,</span><br><span class="line">        <span class="string">"steps"</span>: steps,</span><br><span class="line">        <span class="string">"len"</span>: <span class="number">0.9</span>,</span><br><span class="line">        <span class="string">"x"</span>: <span class="number">0.05</span>,</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">first_annotation_dict = &#123;**annotation_dict&#125;</span><br><span class="line">first_annotation_dict.update(</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"visible"</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">"text"</span>: annotation_text_template.format(</span><br><span class="line">            date=<span class="string">"10/01/2020"</span>, confirmed_cases=<span class="number">44</span>, deaths=<span class="number">1</span>, mortality_rate=<span class="number">0.0227</span></span><br><span class="line">        ),</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">fig.layout.title = &#123;<span class="string">"text"</span>: <span class="string">"Covid-19 Global Case Tracker"</span>, <span class="string">"x"</span>: <span class="number">0.5</span>&#125;</span><br><span class="line">fig.update_layout(</span><br><span class="line">    height=<span class="number">650</span>,</span><br><span class="line">    margin=&#123;<span class="string">"t"</span>: <span class="number">50</span>, <span class="string">"b"</span>: <span class="number">20</span>, <span class="string">"l"</span>: <span class="number">20</span>, <span class="string">"r"</span>: <span class="number">20</span>&#125;,</span><br><span class="line">    annotations=[go.layout.Annotation(**first_annotation_dict)],</span><br><span class="line">    sliders=sliders,</span><br><span class="line">)</span><br><span class="line">fig.data[<span class="number">0</span>].visible = <span class="literal">True</span>  ＃设置第一个数据点可见</span><br><span class="line"></span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="http://m.qpic.cn/psc?/V112BMY13Y8uCR/q8Q4MIggA9NuFR1Fl4CvlmcVV8KKcnTCETKpPxSbLkTUAfL0GBfJp6U8mTMHEzvU3RRcfvKa3VVK0qezff4OUeYauUxvbTrR3RDZcNTxfy8!/b&bo=MAJDAQAAAAACdyM!&rf=viewer_4"  alt=""></p><h2 id="4-参考："><a href="#4-参考：" class="headerlink" title="4.参考："></a>4.参考：</h2><ul><li><p>[Michael]: <a href="https://mfreeborn.github.io/" target="_blank" rel="noopener">https://mfreeborn.github.io/</a></p></li><li><p>[Jupyter Notebook]: <a href="https://jupyter.org/" target="_blank" rel="noopener">https://jupyter.org/</a></p></li><li><p>[Plotly]: <a href="https://pypi.org/project/plotly/" target="_blank" rel="noopener">https://pypi.org/project/plotly/</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="可视化" scheme="http://codehao.top/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>基于 Jupyter Notebook 和Plotly的交互式COVID-19实时追踪可视化系统（上）</title>
    <link href="http://codehao.top/cl15275m5002niwla8bmv3ctx/"/>
    <id>http://codehao.top/cl15275m5002niwla8bmv3ctx/</id>
    <published>2022-03-15T13:32:04.675Z</published>
    <updated>2020-06-20T10:28:10.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="基于-Jupyter-Notebook-和Plotly的交互式COVID-19实时追踪可视化系统（上）"><a href="#基于-Jupyter-Notebook-和Plotly的交互式COVID-19实时追踪可视化系统（上）" class="headerlink" title="基于 Jupyter Notebook 和Plotly的交互式COVID-19实时追踪可视化系统（上）"></a>基于 Jupyter Notebook 和Plotly的交互式COVID-19实时追踪可视化系统（上）</h2><p>2019年末，一种新型冠状病毒在中国湖北武汉爆发，此病毒目前被命名为严重急性呼吸综合征冠状病毒2（SARS-CoV-2）。该疫情目前已经蔓延到中国各个省份以及213个国家和地区，截止至2020年5月31日全球累计确诊人数现已超过600万。Michael Freeborn开发了一个在线的交互式仪表盘用于实时可视化和追踪2019新型冠状病毒疫情（COVID-19）的确诊病例。</p><h2 id="1-项目准备"><a href="#1-项目准备" class="headerlink" title="1.项目准备"></a>1.项目准备</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timezone</span><br><span class="line"><span class="string">f"Last updated: <span class="subst">&#123;datetime.now(tz=timezone.utc):%d %B %Y %H:%M:%S %Z&#125;</span>"</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> plotly.graph_objects <span class="keyword">as</span> go</span><br><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> display</span><br><span class="line"><span class="keyword">from</span> plotly.subplots <span class="keyword">import</span> make_subplots</span><br><span class="line"></span><br><span class="line">pd.options.display.max_columns = <span class="number">12</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">date_pattern = re.compile(<span class="string">r"\d&#123;1,2&#125;/\d&#123;1,2&#125;/\d&#123;2&#125;"</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reformat_dates</span><span class="params">(col_name: str)</span> -&gt; str:</span></span><br><span class="line">    ＃对于作为日期的列，以日/月/年格式输出</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> date_pattern.sub(datetime.strptime(col_name, <span class="string">"%m/%d/%y"</span>).strftime(<span class="string">"%d/%m/%Y"</span>), col_name, count=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        <span class="keyword">return</span> col_name</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">＃此github仓库包含所有冠状病毒病例的时间序列数据：https://github.com/CSSEGISandData/COVID<span class="number">-19</span> </span><br><span class="line">confirmed_cases_url = <span class="string">"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv"</span></span><br><span class="line">deaths_url = <span class="string">"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv"</span></span><br></pre></td></tr></table></figure><h2 id="2-整体图表"><a href="#2-整体图表" class="headerlink" title="2.整体图表"></a>2.整体图表</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">renamed_columns_map = &#123;</span><br><span class="line">    <span class="string">"Country/Region"</span>: <span class="string">"country"</span>,</span><br><span class="line">    <span class="string">"Province/State"</span>: <span class="string">"location"</span>,</span><br><span class="line">    <span class="string">"Lat"</span>: <span class="string">"latitude"</span>,</span><br><span class="line">    <span class="string">"Long"</span>: <span class="string">"longitude"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cols_to_drop = [<span class="string">"location"</span>, <span class="string">"latitude"</span>, <span class="string">"longitude"</span>]</span><br><span class="line"></span><br><span class="line">confirmed_cases_df = (</span><br><span class="line">    pd.read_csv(confirmed_cases_url)</span><br><span class="line">    .rename(columns=renamed_columns_map)</span><br><span class="line">    .rename(columns=reformat_dates)</span><br><span class="line">    .drop(columns=cols_to_drop)</span><br><span class="line">)</span><br><span class="line">deaths_df = (</span><br><span class="line">    pd.read_csv(deaths_url)</span><br><span class="line">    .rename(columns=renamed_columns_map)</span><br><span class="line">    .rename(columns=reformat_dates)</span><br><span class="line">    .drop(columns=cols_to_drop)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">display(confirmed_cases_df.head())</span><br><span class="line">display(deaths_df.head())</span><br></pre></td></tr></table></figure><p> <img src="/" class="lazyload" data-src="https://oss.gowapp.com/images/2005/31/png/03f5050e83624670a8ad986702c46caf/1.png?x-oss-process=image/resize,w_850,limit_0"  alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">＃仅提取相关的地理数据，然后将其加入另一个具有国家/地区代码的.csv。</span><br><span class="line">＃所需的绘图功能的国家代码来标识在地图上的国家</span><br><span class="line">geo_data_df = confirmed_cases_df[[<span class="string">"country"</span>]].drop_duplicates()</span><br><span class="line">country_codes_df = (</span><br><span class="line">    pd.read_csv(</span><br><span class="line">        <span class="string">"country_code_mapping.csv"</span>,</span><br><span class="line">        usecols=[<span class="string">"country"</span>, <span class="string">"alpha-3_code"</span>],</span><br><span class="line">        index_col=<span class="string">"country"</span>)</span><br><span class="line">)</span><br><span class="line">geo_data_df = geo_data_df.join(country_codes_df, how=<span class="string">"left"</span>, on=<span class="string">"country"</span>).set_index(<span class="string">"country"</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">＃我的国家/地区代码.csv文件和COVID<span class="number">-19</span>数据源在某些国家/地区的名称上存在分歧。这</span><br><span class="line">＃数据框应该是空的，否则就意味着我需要修改国名在.csv匹配</span><br><span class="line">geo_data_df[(pd.isnull(geo_data_df[<span class="string">"alpha-3_code"</span>])) &amp; (~geo_data_df.index.isin(</span><br><span class="line">    [<span class="string">"Diamond Princess"</span>, <span class="string">"MS Zaandam"</span>, <span class="string">"West Bank and Gaza"</span>]</span><br><span class="line">))]</span><br></pre></td></tr></table></figure><img src="/" class="lazyload" data-src="https://oss.gowapp.com/images/2005/31/png/fea7057e47354023a5ef9c06ed17d091/2.png?x-oss-process=image/resize,w_850,limit_0"  style="zoom:33%;" /><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">dates_list = (</span><br><span class="line">    deaths_df.filter(regex=<span class="string">r"(\d&#123;2&#125;/\d&#123;2&#125;/\d&#123;4&#125;)"</span>, axis=<span class="number">1</span>)</span><br><span class="line">    .columns</span><br><span class="line">    .to_list()</span><br><span class="line">)</span><br><span class="line">＃创建日期的映射- &gt;数据帧，其中，每个DF保持箱子每个国家的每日计数和死亡</span><br><span class="line">cases_by_date = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> date <span class="keyword">in</span> dates_list:</span><br><span class="line">    confirmed_cases_day_df = (</span><br><span class="line">        confirmed_cases_df</span><br><span class="line">        .filter(like=date, axis=<span class="number">1</span>)</span><br><span class="line">        .rename(columns=<span class="keyword">lambda</span> col: <span class="string">"confirmed_cases"</span>)</span><br><span class="line">    )</span><br><span class="line">    deaths_day_df = deaths_df.filter(like=date, axis=<span class="number">1</span>).rename(columns=<span class="keyword">lambda</span> col: <span class="string">"deaths"</span>)</span><br><span class="line">    cases_df = confirmed_cases_day_df.join(deaths_day_df).set_index(confirmed_cases_df[<span class="string">"country"</span>])</span><br><span class="line"></span><br><span class="line">    date_df = (</span><br><span class="line">        geo_data_df.join(cases_df)</span><br><span class="line">        .groupby(<span class="string">"country"</span>)</span><br><span class="line">        .agg(&#123;<span class="string">"confirmed_cases"</span>: <span class="string">"sum"</span>, <span class="string">"deaths"</span>: <span class="string">"sum"</span>, <span class="string">"alpha-3_code"</span>: <span class="string">"first"</span>&#125;)</span><br><span class="line">    )</span><br><span class="line">    date_df = date_df[date_df[<span class="string">"confirmed_cases"</span>] &gt; <span class="number">0</span>].reset_index()</span><br><span class="line">    </span><br><span class="line">    cases_by_date[date] = date_df   </span><br><span class="line">＃每一天的数据框看起来是这样的：</span><br><span class="line">cases_by_date[dates_list[<span class="number">-1</span>]].head()</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="https://oss.gowapp.com/images/2005/31/png/15911697d7694104b7a4be22f45b1100/3.png?x-oss-process=image/resize,w_850,limit_0"  alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">＃当我们为地图动画制作帧时的辅助函数</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">frame_args</span><span class="params">(duration)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">"frame"</span>: &#123;<span class="string">"duration"</span>: duration&#125;,</span><br><span class="line">        <span class="string">"mode"</span>: <span class="string">"immediate"</span>,</span><br><span class="line">        <span class="string">"fromcurrent"</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">"transition"</span>: &#123;<span class="string">"duration"</span>: duration, <span class="string">"easing"</span>: <span class="string">"linear"</span>&#125;,</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">fig = make_subplots(rows=<span class="number">2</span>, cols=<span class="number">1</span>, specs=[[&#123;<span class="string">"type"</span>: <span class="string">"scattergeo"</span>&#125;], [&#123;<span class="string">"type"</span>: <span class="string">"xy"</span>&#125;]], row_heights=[<span class="number">0.8</span>, <span class="number">0.2</span>])</span><br><span class="line"></span><br><span class="line">＃设置地理数据，滑块，播放和暂停按钮以及标题</span><br><span class="line">fig.layout.geo = &#123;<span class="string">"showcountries"</span>: <span class="literal">True</span>&#125;</span><br><span class="line">fig.layout.sliders = [&#123;<span class="string">"active"</span>: <span class="number">0</span>, <span class="string">"steps"</span>: []&#125;]</span><br><span class="line">fig.layout.updatemenus = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"type"</span>: <span class="string">"buttons"</span>,</span><br><span class="line">        <span class="string">"buttons"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">"label"</span>: <span class="string">"&amp;#9654;"</span>,  <span class="comment"># play symbol</span></span><br><span class="line">                <span class="string">"method"</span>: <span class="string">"animate"</span>,</span><br><span class="line">                <span class="string">"args"</span>: [<span class="literal">None</span>, frame_args(<span class="number">100</span>)],</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">"label"</span>: <span class="string">"&amp;#9724;"</span>,</span><br><span class="line">                <span class="string">"method"</span>: <span class="string">"animate"</span>,  <span class="comment"># stop symbol</span></span><br><span class="line">                <span class="string">"args"</span>: [[<span class="literal">None</span>], frame_args(<span class="number">0</span>)],</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">"showactive"</span>: <span class="literal">False</span>,</span><br><span class="line">        <span class="string">"direction"</span>: <span class="string">"left"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">fig.layout.title = &#123;<span class="string">"text"</span>: <span class="string">"Covid-19 Global Case Tracker"</span>, <span class="string">"x"</span>: <span class="number">0.5</span>&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">frames = []</span><br><span class="line">steps = []</span><br><span class="line">＃设置颜色条刻度值，范围从<span class="number">1</span>到最大数。确诊病例任何国家迄今</span><br><span class="line">max_country_confirmed_cases = cases_by_date[dates_list[<span class="number">-1</span>]][<span class="string">"confirmed_cases"</span>].max()</span><br><span class="line"></span><br><span class="line">＃考虑到案例数量的显着差异，我们希望标度为对数</span><br><span class="line">high_tick = np.log1p(max_country_confirmed_cases)</span><br><span class="line">low_tick = np.log1p(<span class="number">1</span>)</span><br><span class="line">log_tick_values = np.geomspace(low_tick, high_tick, num=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">＃但是，我们希望尺度上的/ labels /是实际的案例数（即不是log（n_cases））</span><br><span class="line">visual_tick_values = np.expm1(log_tick_values).astype(int)</span><br><span class="line">＃由于舍入误差- ＃明确设置最大CBAR值，否则它可能是最大</span><br><span class="line">visual_tick_values[<span class="number">-1</span>] = max_country_confirmed_cases  </span><br><span class="line">visual_tick_values = [<span class="string">f"<span class="subst">&#123;val:,&#125;</span>"</span> <span class="keyword">for</span> val <span class="keyword">in</span> visual_tick_values]</span><br><span class="line"></span><br><span class="line">＃生成折线图数据</span><br><span class="line">元组的列表＃：[（confirmed_cases，死亡），...] </span><br><span class="line">cases_deaths_totals = [(df.filter(like=<span class="string">"confirmed_cases"</span>).astype(<span class="string">"uint32"</span>).agg(<span class="string">"sum"</span>)[<span class="number">0</span>], </span><br><span class="line">                        df.filter(like=<span class="string">"deaths"</span>).astype(<span class="string">"uint32"</span>).agg(<span class="string">"sum"</span>)[<span class="number">0</span>]) </span><br><span class="line">                          <span class="keyword">for</span> df <span class="keyword">in</span> cases_by_date.values()]</span><br><span class="line"></span><br><span class="line">confirmed_cases_totals = [daily_total[<span class="number">0</span>] <span class="keyword">for</span> daily_total <span class="keyword">in</span> cases_deaths_totals]</span><br><span class="line">deaths_totals =[daily_total[<span class="number">1</span>] <span class="keyword">for</span> daily_total <span class="keyword">in</span> cases_deaths_totals]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">＃该循环为每个帧生成数据</span><br><span class="line"><span class="keyword">for</span> i, (date, data) <span class="keyword">in</span> enumerate(cases_by_date.items(), start=<span class="number">1</span>):</span><br><span class="line">    df = data</span><br><span class="line"></span><br><span class="line">    ＃z比例尺（用于计算每个国家的颜色）需要为对数</span><br><span class="line">    df[<span class="string">"confirmed_cases_log"</span>] = np.log1p(df[<span class="string">"confirmed_cases"</span>])</span><br><span class="line"></span><br><span class="line">    df[<span class="string">"text"</span>] = (</span><br><span class="line">        date</span><br><span class="line">        + <span class="string">"&lt;br&gt;"</span></span><br><span class="line">        + df[<span class="string">"country"</span>]</span><br><span class="line">        + <span class="string">"&lt;br&gt;Confirmed cases: "</span></span><br><span class="line">        + df[<span class="string">"confirmed_cases"</span>].apply(<span class="keyword">lambda</span> x: <span class="string">"&#123;:,&#125;"</span>.format(x))</span><br><span class="line">        + <span class="string">"&lt;br&gt;Deaths: "</span></span><br><span class="line">        + df[<span class="string">"deaths"</span>].apply(<span class="keyword">lambda</span> x: <span class="string">"&#123;:,&#125;"</span>.format(x))</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    ＃创建Choropleth图表</span><br><span class="line">    choro_trace = go.Choropleth(</span><br><span class="line">        **&#123;</span><br><span class="line">            <span class="string">"locations"</span>: df[<span class="string">"alpha-3_code"</span>],</span><br><span class="line">            <span class="string">"z"</span>: df[<span class="string">"confirmed_cases_log"</span>],</span><br><span class="line">            <span class="string">"zmax"</span>: high_tick,</span><br><span class="line">            <span class="string">"zmin"</span>: low_tick,</span><br><span class="line">            <span class="string">"colorscale"</span>: <span class="string">"reds"</span>,</span><br><span class="line">            <span class="string">"colorbar"</span>: &#123;</span><br><span class="line">                <span class="string">"ticks"</span>: <span class="string">"outside"</span>,</span><br><span class="line">                <span class="string">"ticktext"</span>: visual_tick_values,</span><br><span class="line">                <span class="string">"tickmode"</span>: <span class="string">"array"</span>,</span><br><span class="line">                <span class="string">"tickvals"</span>: log_tick_values,</span><br><span class="line">                <span class="string">"title"</span>: &#123;<span class="string">"text"</span>: <span class="string">"&lt;b&gt;Confirmed Cases&lt;/b&gt;"</span>&#125;,</span><br><span class="line">                <span class="string">"len"</span>: <span class="number">0.8</span>,</span><br><span class="line">                <span class="string">"y"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="string">"yanchor"</span>: <span class="string">"top"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">"hovertemplate"</span>: df[<span class="string">"text"</span>],</span><br><span class="line">            <span class="string">"name"</span>: <span class="string">""</span>,</span><br><span class="line">            <span class="string">"showlegend"</span>: <span class="literal">False</span></span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    ＃创建已确认的案例trace </span><br><span class="line">    confirmed_cases_trace = go.Scatter(</span><br><span class="line">        x=dates_list,</span><br><span class="line">        y=confirmed_cases_totals[:i],</span><br><span class="line">        mode=<span class="string">"markers"</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="string">"lines"</span>,</span><br><span class="line">        name=<span class="string">"Total Confirmed Cases"</span>,</span><br><span class="line">        line=&#123;<span class="string">"color"</span>: <span class="string">"Red"</span>&#125;,</span><br><span class="line">        hovertemplate=<span class="string">"%&#123;x&#125;&lt;br&gt;Total confirmed cases: %&#123;y:,&#125;&lt;extra&gt;&lt;/extra&gt;"</span></span><br><span class="line">    )</span><br><span class="line">        </span><br><span class="line">    ＃创建死亡跟踪</span><br><span class="line">    deaths_trace = go.Scatter(</span><br><span class="line">        x=dates_list,</span><br><span class="line">        y=deaths_totals[:i],</span><br><span class="line">        mode=<span class="string">"markers"</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="string">"lines"</span>,</span><br><span class="line">        name=<span class="string">"Total Deaths"</span>,</span><br><span class="line">        line=&#123;<span class="string">"color"</span>: <span class="string">"Black"</span>&#125;,</span><br><span class="line">        hovertemplate=<span class="string">"%&#123;x&#125;&lt;br&gt;Total deaths: %&#123;y:,&#125;&lt;extra&gt;&lt;/extra&gt;"</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">        ＃第一帧是个什么人物最初显示..</span><br><span class="line">        fig.add_trace(choro_trace, row=<span class="number">1</span>, col=<span class="number">1</span>)</span><br><span class="line">        fig.add_traces([confirmed_cases_trace, deaths_trace], rows=[<span class="number">2</span>, <span class="number">2</span>], cols=[<span class="number">1</span>, <span class="number">1</span>])</span><br><span class="line">    ＃...和所有其他帧被附加到`frames`列表和滑块</span><br><span class="line">    frames.append(&#123;<span class="string">"data"</span>: [choro_trace, confirmed_cases_trace, deaths_trace], <span class="string">"name"</span>: date&#125;)</span><br><span class="line"></span><br><span class="line">    steps.append(</span><br><span class="line">        &#123;<span class="string">"args"</span>: [[date], frame_args(<span class="number">50</span>)], <span class="string">"label"</span>: date, <span class="string">"method"</span>: <span class="string">"animate"</span>,&#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">＃整理轴和最终确定图表准备好用于显示</span><br><span class="line">fig.update_xaxes(range=[<span class="number">0</span>, len(dates_list)<span class="number">-1</span>], visible=<span class="literal">False</span>)</span><br><span class="line">fig.update_yaxes(range=[<span class="number">0</span>, max(confirmed_cases_totals)])</span><br><span class="line">fig.frames = frames</span><br><span class="line">fig.layout.sliders[<span class="number">0</span>].steps = steps</span><br><span class="line">fig.layout.geo.domain = &#123;<span class="string">"x"</span>: [<span class="number">0</span>,<span class="number">1</span>], <span class="string">"y"</span>: [<span class="number">0.2</span>, <span class="number">1</span>]&#125;</span><br><span class="line">fig.update_layout(</span><br><span class="line">    height=<span class="number">650</span>, </span><br><span class="line">    legend=&#123;<span class="string">"x"</span>: <span class="number">0.05</span>, <span class="string">"y"</span>: <span class="number">0.175</span>, <span class="string">"yanchor"</span>: <span class="string">"top"</span>, <span class="string">"bgcolor"</span>: <span class="string">"rgba(0, 0, 0, 0)"</span>&#125;)</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="http://m.qpic.cn/psc?/V112BMY13Y8uCR/q8Q4MIggA9NuFR1Fl4Cvloes4EWj261us7TNm0.g8yDeO6Y2aqd1y8k3QlBMAnmr8FT3nNRqmqUsLF1AYA6aJk*W*stUm5atFj6IACL8DjY!/b&bo=MAJnAQAAAAACl.c!&rf=viewer_4"  alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="可视化" scheme="http://codehao.top/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>在hexo博客中加入豆瓣读书功能</title>
    <link href="http://codehao.top/cl15275l7001riwla0dhdfnl4/"/>
    <id>http://codehao.top/cl15275l7001riwla0dhdfnl4/</id>
    <published>2022-03-15T13:32:04.639Z</published>
    <updated>2020-06-20T10:44:34.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-douban</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>将下面的配置写入站点的配置文件 <code>_config.yml</code> 里(不是主题的配置文件).</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">douban:</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">mythsman</span></span><br><span class="line">  <span class="attr">builtin:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">book:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">'This is my book title'</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">'This is my book quote'</span></span><br><span class="line">  <span class="attr">movie:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">'This is my movie title'</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">'This is my movie quote'</span></span><br><span class="line">  <span class="attr">game:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">'This is my game title'</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">'This is my game quote'</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><ul><li><strong>user</strong>: 你的豆瓣ID.打开豆瓣，登入账户，然后在右上角点击 “个人主页” ，这时候地址栏的URL大概是这样：”<a href="https://www.douban.com/people/xxxxxx/&quot;" target="_blank" rel="noopener">https://www.douban.com/people/xxxxxx/&quot;</a> ，其中的”xxxxxx”就是你的个人ID了。</li><li><strong>builtin</strong>: 是否将生成页面的功能嵌入<code>hexo s</code>和<code>hexo g</code>中，默认是<code>false</code>,另一可选项为<code>true</code>(1.x.x版本新增配置项)。</li><li><strong>title</strong>: 该页面的标题.</li><li><strong>quote</strong>: 写在页面开头的一段话,支持html语法.</li><li><strong>timeout</strong>: 爬取数据的超时时间，默认是 10000ms ,如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大一点。</li></ul><p>如果只想显示某一个页面(比如movie)，那就把其他的配置项注释掉即可。</p><h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><p>我们只需要在<code>GitBash</code>中输入以下命令：<code>hexo clean &amp;&amp; hexo douban -bgm &amp;&amp; hexo g &amp;&amp; hexo s</code>即可，注意其中开启hexo-douban的命令中，<code>-bgm</code>代表的是book、game、movie三个参数，如果只需要其中的一部分就只带你想要的那些参数。</p><p>另外注意的是，由于<code>hexo douban</code>的简写也是<code>hexo d</code>，与<code>hexo deploy</code>的简写指令<code>hexo d</code>冲突，因此在进行二者部署的时候，只能都打全名而不能打简写形式。</p><h2 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h2><p>可以用下面的方法来更新:</p><ol><li>修改package.json内hexo-douban的版本号至最新</li><li>重新安装最新版本<code>npm install hexo-douban --save</code></li></ol><p>或者使用<code>npm install hexo-douban --update --save</code>直接更新。</p><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>如果上面的配置和操作都没问题，就可以在生成站点之后打开 <code>//yourblog/books</code> 和 <code>//yourblog/movies</code>, <code>//yourblog/games</code>, 来查看结果.</p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>如果上面的显示没有问题就可以在主题的配置文件 <code>_config.yml</code> 里添加如下配置来为这些页面添加菜单链接.</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives</span></span><br><span class="line">  <span class="attr">Books:</span> <span class="string">/books</span>     <span class="comment">#This is your books page</span></span><br><span class="line">  <span class="attr">Movies:</span> <span class="string">/movies</span>   <span class="comment">#This is your movies page</span></span><br><span class="line">  <span class="attr">Games:</span> <span class="string">/games</span>   <span class="comment">#This is your games page</span></span><br></pre></td></tr></table></figure><p>注意添加完成之后按钮并不是中文的，这是由于在<code>languages</code>文件夹下面的<code>zh-CN</code>（中文语言配置文件）没有添加上述对应的中文参数信息，所以我们需要主动添加。</p><p>语言文件夹在你的主题配置文件夹下面，比如我的是使用的next主题，则是在<code>E:\blog\hexo\themes\next\languages</code>目录下，找到<code>zh-CN</code>文件，在menu菜单下添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">books:</span> <span class="string">阅读</span></span><br><span class="line">  <span class="attr">movies:</span> <span class="string">电影</span></span><br><span class="line">  <span class="attr">games:</span> <span class="string">游戏</span></span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/mythsman/hexo-douban#hexo-douban" target="_blank" rel="noopener">hexo-douban</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="hexo优化" scheme="http://codehao.top/categories/hexo%E4%BC%98%E5%8C%96/"/>
    
    
      <category term="Hexo" scheme="http://codehao.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>中国科学引文数据库 （CSCD）</title>
    <link href="http://codehao.top/cl15275m4002kiwla46zs85cv/"/>
    <id>http://codehao.top/cl15275m4002kiwla46zs85cv/</id>
    <published>2022-03-15T13:32:04.615Z</published>
    <updated>2020-07-21T14:45:44.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="中国科学引文数据库-（CSCD）"><a href="#中国科学引文数据库-（CSCD）" class="headerlink" title="中国科学引文数据库 （CSCD）"></a>中国科学引文数据库 （CSCD）</h3><p>​        由于疫情影响，我们无法返校回京，在家呆至5个月的学习效率和在校的学习效率可想而知（SAD）。但是由于毕业时间愈来愈近，我需要利用接下来的时间将毕业的要求逐一解决，首先了解一些CSCD期刊的发表情况，并收集一些CSCD期刊。</p><p>​         CSCD收录我国<a href="https://baike.baidu.com/item/数学/107037" target="_blank" rel="noopener">数学</a>、<a href="https://baike.baidu.com/item/物理/127205" target="_blank" rel="noopener">物理</a>、<a href="https://baike.baidu.com/item/化学/127240" target="_blank" rel="noopener">化学</a>、<a href="https://baike.baidu.com/item/天文学/402068" target="_blank" rel="noopener">天文学</a>、<a href="https://baike.baidu.com/item/地学/6968403" target="_blank" rel="noopener">地学</a>、<a href="https://baike.baidu.com/item/生物学/1358" target="_blank" rel="noopener">生物学</a>、农林科学、<a href="https://baike.baidu.com/item/医药卫生/6889922" target="_blank" rel="noopener">医药卫生</a>、<a href="https://baike.baidu.com/item/工程技术/6998399" target="_blank" rel="noopener">工程技术</a>和<a href="https://baike.baidu.com/item/环境科学/337267" target="_blank" rel="noopener">环境科学</a>等领域出版的中英文科技核心期刊和优秀期刊千余种，被誉为“中国的SCI”。</p><h4 id="近期计划："><a href="#近期计划：" class="headerlink" title="近期计划："></a><strong>近期计划：</strong></h4><h4 id="1、搞清CSCD期刊与核心期刊的区别"><a href="#1、搞清CSCD期刊与核心期刊的区别" class="headerlink" title="1、搞清CSCD期刊与核心期刊的区别"></a>1、搞清CSCD期刊与核心期刊的区别</h4><p>在本质定义上：</p><p>①核心期刊是某学科的主要期刊。一般是指所含专业情报来信息量大，质量高，能够代表专业学科发展水平并受到本学科读者重视的专业期刊。</p><p>②CSCD一般指<a href="https://www.baidu.com/s?wd=中国科学引文数据库&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao" target="_blank" rel="noopener">中国科学引文数据库</a>，收录我国数学、物理、化学、天文学、地学、生物学、农林科学、医药卫生、工程技术和环境科学等领域出版的中英文科技核心期刊和优秀期刊。</p><p>在范围上：</p><p>核心期刊中会有部分被收录到CSCD中，并且CSCD中，并不全是源核心期刊，因此，二者只是有交集。</p><h4 id="2、整理部分CSCD期刊（作参考对象）"><a href="#2、整理部分CSCD期刊（作参考对象）" class="headerlink" title="2、整理部分CSCD期刊（作参考对象）"></a>2、整理部分CSCD期刊（作参考对象）</h4><p><a href="http://www.zhongwenhexinqikan.com/CSCD/jisuanji/" target="_blank" rel="noopener">查找链接</a></p><table><thead><tr><th align="center"></th><th></th></tr></thead><tbody><tr><td align="center"><img src="/" class="lazyload" data-src="http://free-cn-01.cdn.bilnn.com/ddimg/jfs/t1/112023/30/3858/989347/5eaa6459E37c358a7/ee59a2eac60b7fd7.png"  style="zoom: 50%;" /></td><td></td></tr></tbody></table><h4 id="3、进一步确定研究方向，抓紧撰写初稿。"><a href="#3、进一步确定研究方向，抓紧撰写初稿。" class="headerlink" title="3、进一步确定研究方向，抓紧撰写初稿。"></a>3、进一步确定研究方向，抓紧撰写初稿。</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="研究生" scheme="http://codehao.top/tags/%E7%A0%94%E7%A9%B6%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>vue项目实战--LAM系统（四）</title>
    <link href="http://codehao.top/cl15275l00014iwla5h2g120d/"/>
    <id>http://codehao.top/cl15275l00014iwla5h2g120d/</id>
    <published>2022-03-15T13:32:04.558Z</published>
    <updated>2020-09-07T01:46:58.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="Vue项目实战-LAM系统（四）"><a href="#Vue项目实战-LAM系统（四）" class="headerlink" title="Vue项目实战-LAM系统（四）"></a>Vue项目实战-LAM系统（四）</h3><p>1.完成商品分类 </p><p>2.完成参数管理 </p><h3 id="1-商品分类"><a href="#1-商品分类" class="headerlink" title="1.商品分类"></a>1.商品分类</h3><h4 id="A-新建分支goods-cate"><a href="#A-新建分支goods-cate" class="headerlink" title="A.新建分支goods_cate"></a>A.新建分支goods_cate</h4><p>新建分支goods_cate并推送到码云<br>git checkout -b goods_cate<br>git push -u origin goods_cate</p><h4 id="B-创建子级路由"><a href="#B-创建子级路由" class="headerlink" title="B.创建子级路由"></a>B.创建子级路由</h4><p>创建categories子级路由组件并设置路由规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import Cate from &#39;.&#x2F;components&#x2F;goods&#x2F;Cate.vue&#39;</span><br><span class="line"></span><br><span class="line">path: &#39;&#x2F;home&#39;, component: Home, redirect: &#39;&#x2F;welcome&#39;, children: [</span><br><span class="line">    &#123; path: &quot;&#x2F;welcome&quot;, component: Welcome &#125;,</span><br><span class="line">    &#123; path: &quot;&#x2F;users&quot;, component: Users &#125;,</span><br><span class="line">    &#123; path: &quot;&#x2F;rights&quot;, component: Rights &#125;,</span><br><span class="line">    &#123; path: &quot;&#x2F;roles&quot;, component: Roles  &#125;,</span><br><span class="line">    &#123; path: &quot;&#x2F;categories&quot;, component: Cate  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="C-添加组件基本布局"><a href="#C-添加组件基本布局" class="headerlink" title="C.添加组件基本布局"></a>C.添加组件基本布局</h4><p>在Cate.vue组件中添加面包屑导航以及卡片视图中的添加分类按钮</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;商品分类&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;!-- 面包屑导航 --&gt;</span><br><span class="line">        &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb-item :to&#x3D;&quot;&#123; path: &#39;&#x2F;home&#39; &#125;&quot;&gt;首页&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;商品管理&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;商品分类&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">        &lt;el-card&gt;</span><br><span class="line">            &lt;!-- 添加分类按钮区域 --&gt;</span><br><span class="line">            &lt;el-row&gt;</span><br><span class="line">                &lt;el-col&gt;</span><br><span class="line">                    &lt;el-button type&#x3D;&quot;primary&quot;&gt;添加分类&lt;&#x2F;el-button&gt;</span><br><span class="line">                &lt;&#x2F;el-col&gt;</span><br><span class="line">            &lt;&#x2F;el-row&gt;</span><br><span class="line">            &lt;!-- 分类表格  --&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 分页 --&gt;</span><br><span class="line">        &lt;&#x2F;el-card&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure><h4 id="D-请求分类数据"><a href="#D-请求分类数据" class="headerlink" title="D.请求分类数据"></a>D.请求分类数据</h4><p>请求分类数据并将数据保存在data中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F; 商品分类数据列表</span><br><span class="line">      cateList: [],</span><br><span class="line">      &#x2F;&#x2F;查询分类数据的条件</span><br><span class="line">      queryInfo: &#123;</span><br><span class="line">        type: 3,</span><br><span class="line">        pagenum: 1,</span><br><span class="line">        pagesize: 5</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;保存总数据条数</span><br><span class="line">      total: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.getCateList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async getCateList() &#123;</span><br><span class="line">      &#x2F;&#x2F;获取商品分类数据</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;categories&#39;, &#123;</span><br><span class="line">        params: queryInfo</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">        return this.$message.error(&#39;获取商品列表数据失败&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">      &#x2F;&#x2F;将数据列表赋值给cateList</span><br><span class="line">      this.cateList &#x3D; res.data.result</span><br><span class="line">      &#x2F;&#x2F;保存总数据条数</span><br><span class="line">      this.total &#x3D; res.data.total</span><br><span class="line">      &#x2F;&#x2F;   console.log(res.data);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="E-使用插件展示数据"><a href="#E-使用插件展示数据" class="headerlink" title="E.使用插件展示数据"></a>E.使用插件展示数据</h4><p>使用第三方插件vue-table-with-tree-grid展示分类数据<br>    1).在vue 控制台中点击依赖-&gt;安装依赖-&gt;运行依赖-&gt;输入vue-table-with-tree-gird-&gt;点击安装<br>    2).打开main.js，导入vue-table-with-tree-grid<br>    import TreeTable from ‘vue-table-with-tree-grid’<br>    …..<br>    Vue.config.productionTip = false</p><pre><code>//全局注册组件Vue.component(&apos;tree-table&apos;, TreeTable)3).使用组件展示分类数据</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 分类表格</span><br><span class="line">:data(设置数据源) :columns(设置表格中列配置信息) :selection-type(是否有复选框)</span><br><span class="line">:expand-type(是否展开数据) show-index(是否设置索引列) index-text(设置索引列头)</span><br><span class="line">border(是否添加纵向边框) :show-row-hover(是否鼠标悬停高亮) --&gt;</span><br><span class="line">&lt;tree-table :data&#x3D;&quot;cateList&quot; :columns&#x3D;&quot;columns&quot; :selection-type&#x3D;&quot;false&quot;</span><br><span class="line">:expand-type&#x3D;&quot;false&quot; show-index index-text&#x3D;&quot;#&quot; border :show-row-hover&#x3D;&quot;false&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;tree-table&gt;</span><br><span class="line"></span><br><span class="line">在数据中添加columns:</span><br><span class="line">columns: [</span><br><span class="line">    &#123;label:&#39;分类名称&#39;,prop:&#39;cat_name&#39;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="F-自定义数据列"><a href="#F-自定义数据列" class="headerlink" title="F.自定义数据列"></a>F.自定义数据列</h4><p>使用vue-table-with-tree-grid定义模板列并添加自定义列</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;先在columns中添加一个列</span><br><span class="line">columns: [</span><br><span class="line">    &#123;label:&#39;分类名称&#39;,prop:&#39;cat_name&#39;&#125;,</span><br><span class="line">    &#x2F;&#x2F;type:&#39;template&#39;(将该列设置为模板列)，template:&#39;isok&#39;(设置该列模板的名称为isok)</span><br><span class="line">    &#123;label:&#39;是否有效&#39;,prop:&#39;&#39;,type:&#39;template&#39;,template:&#39;isok&#39;&#125;,</span><br><span class="line">    &#123;label:&#39;排序&#39;,prop:&#39;&#39;,type:&#39;template&#39;,template:&#39;order&#39;&#125;,</span><br><span class="line">    &#123;label:&#39;操作&#39;,prop:&#39;&#39;,type:&#39;template&#39;,template:&#39;opt&#39;&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">&lt;!-- 是否有效区域， 设置对应的模板列： slot&#x3D;&quot;isok&quot;(与columns中设置的template一致) --&gt;</span><br><span class="line">&lt;template slot&#x3D;&quot;isok&quot; slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">  &lt;i class&#x3D;&quot;el-icon-success&quot; v-if&#x3D;&quot;scope.row.cat_deleted &#x3D;&#x3D;&#x3D; false&quot; style&#x3D;&quot;color:lightgreen&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">  &lt;i class&#x3D;&quot;el-icon-error&quot; v-else style&#x3D;&quot;color:red&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;!-- 排序 --&gt;</span><br><span class="line">&lt;template slot&#x3D;&quot;order&quot; slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">  &lt;el-tag size&#x3D;&quot;mini&quot; v-if&#x3D;&quot;scope.row.cat_level&#x3D;&#x3D;&#x3D;0&quot;&gt;一级&lt;&#x2F;el-tag&gt;</span><br><span class="line">  &lt;el-tag size&#x3D;&quot;mini&quot; type&#x3D;&quot;success&quot; v-else-if&#x3D;&quot;scope.row.cat_level&#x3D;&#x3D;&#x3D;1&quot;&gt;二级&lt;&#x2F;el-tag&gt;</span><br><span class="line">  &lt;el-tag size&#x3D;&quot;mini&quot; type&#x3D;&quot;warning&quot; v-else&gt;三级&lt;&#x2F;el-tag&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 操作 --&gt;</span><br><span class="line">&lt;template slot&#x3D;&quot;opt&quot; slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">  &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-edit&quot;&gt;编辑&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot;&gt;删除&lt;&#x2F;el-button&gt; </span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure><h4 id="G-完成分页功能"><a href="#G-完成分页功能" class="headerlink" title="G.完成分页功能"></a>G.完成分页功能</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 分页 --&gt;</span><br><span class="line">&lt;el-pagination @size-change&#x3D;&quot;handleSizeChange&quot; @current-change&#x3D;&quot;handleCurrentChange&quot; :current-page&#x3D;&quot;queryInfo.pagenum&quot; :page-sizes&#x3D;&quot;[3, 5, 10, 15]&quot; :page-size&#x3D;&quot;queryInfo.pagesize&quot; layout&#x3D;&quot;total, sizes, prev, pager, next, jumper&quot; :total&#x3D;&quot;total&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-pagination&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;添加对应的事件函数</span><br><span class="line">methods:&#123;</span><br><span class="line">  .......</span><br><span class="line">  handleSizeChange(newSize)&#123;</span><br><span class="line">    &#x2F;&#x2F;当pagesize发生改变时触发</span><br><span class="line">    this.queryInfo.pagesize &#x3D; newSize;</span><br><span class="line">    this.getCateList();</span><br><span class="line">  &#125;,</span><br><span class="line">  handleCurrentChange(newPage)&#123;</span><br><span class="line">    &#x2F;&#x2F;当pagenum发生改变时触发</span><br><span class="line">    this.queryInfo.pagenum &#x3D; newPage;</span><br><span class="line">    this.getCateList();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="H-完成添加分类"><a href="#H-完成添加分类" class="headerlink" title="H.完成添加分类"></a>H.完成添加分类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">&lt;!-- 添加分类按钮区域 --&gt;</span><br><span class="line">&lt;el-row&gt;</span><br><span class="line">  &lt;el-col&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;showAddCateDialog&quot;&gt;添加分类&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;el-col&gt;</span><br><span class="line">&lt;&#x2F;el-row&gt;</span><br><span class="line">......</span><br><span class="line">&lt;!-- 添加分类对话框 --&gt;</span><br><span class="line">&lt;el-dialog title&#x3D;&quot;添加分类&quot; :visible.sync&#x3D;&quot;addCateDialogVisible&quot; width&#x3D;&quot;50%&quot;  @close&#x3D;&quot;addCateDialogClosed&quot;&gt;</span><br><span class="line">  &lt;!-- 添加分类表单 --&gt;</span><br><span class="line">  &lt;el-form :model&#x3D;&quot;addCateForm&quot; :rules&#x3D;&quot;addCateFormRules&quot; ref&#x3D;&quot;addCateFormRuleForm&quot; label-width&#x3D;&quot;100px&quot;&gt;</span><br><span class="line">    &lt;el-form-item label&#x3D;&quot;分类名称&quot; prop&#x3D;&quot;cat_name&quot;&gt;</span><br><span class="line">      &lt;el-input v-model&#x3D;&quot;addCateForm.cat_name&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">    &lt;&#x2F;el-form-item&gt;</span><br><span class="line">    &lt;el-form-item label&#x3D;&quot;父级分类&quot; prop&#x3D;&quot;cat_pid&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;&#x2F;el-form-item&gt;</span><br><span class="line">  &lt;&#x2F;el-form&gt;</span><br><span class="line">  &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;addCateDialogVisible &#x3D; false&quot;&gt;取 消&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;addCate&quot;&gt;确 定&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;用来显示或隐藏添加分类对话框</span><br><span class="line">addCateDialogVisible: false,</span><br><span class="line">&#x2F;&#x2F;添加分类的表单数据对象</span><br><span class="line">addCateForm:&#123;</span><br><span class="line">  &#x2F;&#x2F;分类名称</span><br><span class="line">  cat_name:&#39;&#39;,</span><br><span class="line">  &#x2F;&#x2F;添加分类的父级id，0则表示父级为0.添加一级分类</span><br><span class="line">  cat_pid:0,</span><br><span class="line">  &#x2F;&#x2F;添加分类的等级，0则表示添加一级分类</span><br><span class="line">  cat_level:0</span><br><span class="line">&#125;,</span><br><span class="line">&#x2F;&#x2F;添加分类校验规则</span><br><span class="line">addCateFormRules:&#123;</span><br><span class="line">  &#x2F;&#x2F;验证规则</span><br><span class="line">  cat_name:[ &#123;required:true , message:&#39;请输入分类名称&#39;,trigger:&#39;blur&#39;&#125; ]</span><br><span class="line">&#125;,</span><br><span class="line">&#x2F;&#x2F;保存1,2级父级分类的列表</span><br><span class="line">parentCateList:[]</span><br><span class="line">.......</span><br><span class="line">showAddCateDialog() &#123;</span><br><span class="line">  &#x2F;&#x2F;调用getParentCateList获取分类列表</span><br><span class="line">  this.getParentCateList()</span><br><span class="line">  &#x2F;&#x2F;显示添加分类对话框</span><br><span class="line">  this.addCateDialogVisible &#x3D; true</span><br><span class="line">&#125;,</span><br><span class="line">async getParentCateList()&#123;</span><br><span class="line">  &#x2F;&#x2F;获取父级分类数据列表</span><br><span class="line">  const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;categories&#39;, &#123;</span><br><span class="line">    params: &#123;type:2&#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">    return this.$message.error(&#39;获取商品分类列表数据失败&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">  this.parentCateList &#x3D; res.data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加级联菜单显示父级分类<br>先导入Cascader组件，并注册<br>然后添加使用级联菜单组件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form-item label&#x3D;&quot;父级分类&quot; prop&#x3D;&quot;cat_pid&quot;&gt;</span><br><span class="line">  &lt;!-- expandTrigger&#x3D;&#39;hover&#39;(鼠标悬停触发级联) v-model(设置级联菜单绑定数据) :options(指定级联菜单数据源)  :props(用来配置数据显示的规则) </span><br><span class="line">  clearable(提供“X”号完成删除文本功能) change-on-select(是否可以选中任意一级的菜单) --&gt;</span><br><span class="line">  &lt;el-cascader expandTrigger&#x3D;&#39;hover&#39; v-model&#x3D;&quot;selectedKeys&quot; :options&#x3D;&quot;parentCateList&quot; :props&#x3D;&quot;cascaderProps&quot; @change&#x3D;&quot;parentCateChange&quot; clearable change-on-select&gt;&lt;&#x2F;el-cascader&gt;</span><br><span class="line">&lt;&#x2F;el-form-item&gt;</span><br><span class="line"></span><br><span class="line">添加数据</span><br><span class="line">&#x2F;&#x2F;配置级联菜单中数据如何展示</span><br><span class="line">cascaderProps:&#123;</span><br><span class="line">  value:&#39;cat_id&#39;,</span><br><span class="line">  label:&#39;cat_name&#39;,</span><br><span class="line">  children:&#39;children&#39;,</span><br><span class="line">  expandTrigger:&#39;hover&#39;</span><br><span class="line">&#125;,</span><br><span class="line">&#x2F;&#x2F;绑定用户选择的分类值</span><br><span class="line">selectedKeys:[]</span><br><span class="line">.....</span><br><span class="line">methods:&#123;</span><br><span class="line">  .....</span><br><span class="line">  parentCateChange()&#123;</span><br><span class="line">    &#x2F;&#x2F;级联菜单中选择项发生变化时触发</span><br><span class="line">    console.log(this.selectedKeys)</span><br><span class="line">    &#x2F;&#x2F;如果用户选择了父级分类</span><br><span class="line">    if(this.selectedKeys.length &gt; 0)&#123;</span><br><span class="line">      &#x2F;&#x2F;则将数组中的最后一项设置为父级分类</span><br><span class="line">      this.addCateForm.cat_pid &#x3D; this.selectedKeys[this.selectedKeys.length - 1]</span><br><span class="line">      &#x2F;&#x2F;level也要跟着发生变化</span><br><span class="line">      this.addCateForm.cat_level &#x3D; this.selectedKeys.length</span><br><span class="line">      return</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      this.addCateForm.cat_pid &#x3D; 0</span><br><span class="line">      this.addCateForm.cat_level &#x3D; 0</span><br><span class="line">      return</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  addCateDialogClosed()&#123;</span><br><span class="line">    &#x2F;&#x2F;当关闭添加分类对话框时，重置表单</span><br><span class="line">    this.$refs.addCateFormRef.resetFields()</span><br><span class="line">    this.selectedKeys &#x3D; [];</span><br><span class="line">    this.addCateForm.cat_pid &#x3D; 0</span><br><span class="line">    this.addCateForm.cat_level &#x3D; 0</span><br><span class="line">  &#125;,</span><br><span class="line">  addCate() &#123;</span><br><span class="line">    &#x2F;&#x2F;点击确定，完成添加分类</span><br><span class="line">    console.log(this.addCateForm)</span><br><span class="line">    this.$refs.addCateFormRef.validate(async valid &#x3D;&gt; &#123;</span><br><span class="line">      if (!valid) return</span><br><span class="line">      &#x2F;&#x2F;发送请求完成添加分类</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.post(</span><br><span class="line">        &#39;categories&#39;,</span><br><span class="line">        this.addCateForm</span><br><span class="line">      )</span><br><span class="line"></span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 201) &#123;</span><br><span class="line">        return this.$message.error(&#39;添加分类失败&#39;)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      this.$message.success(&#39;添加分类成功&#39;)</span><br><span class="line">      this.getCateList()</span><br><span class="line">      this.addCateDialogVisible &#x3D; false</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="I-推送代码"><a href="#I-推送代码" class="headerlink" title="I.推送代码"></a>I.推送代码</h4><p>制作完添加分类之后，将代码提交到仓库，推送到码云,将goods_cate分支合并到master<br>git add .<br>git commit -m ‘完成商品分类’<br>git push<br>git checkout master<br>git merge goods_cate</p><h3 id="2-参数管理"><a href="#2-参数管理" class="headerlink" title="2.参数管理"></a>2.参数管理</h3><p>只允许给三级分类内容设置参数，参数分为动态参数和静态参数属性<br>####A.添加子级组件<br>添加Params.vue子组件，并在router.js中引入该组件并设置路由规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Params from &#39;.&#x2F;components&#x2F;goods&#x2F;Params.vue&#39;</span><br><span class="line">......</span><br><span class="line">path: &#39;&#x2F;home&#39;, component: Home, redirect: &#39;&#x2F;welcome&#39;, children: [</span><br><span class="line">  &#123; path: &quot;&#x2F;welcome&quot;, component: Welcome &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;users&quot;, component: Users &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;rights&quot;, component: Rights &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;roles&quot;, component: Roles  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;categories&quot;, component: Cate  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;params&quot;, component: Params  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="B-完成组件基本布局"><a href="#B-完成组件基本布局" class="headerlink" title="B.完成组件基本布局"></a>B.完成组件基本布局</h4><p>完成Params.vue组件的基本布局<br>其中警告提示信息使用了el-alert，在element.js引入该组件并注册</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;分类参数&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;!-- 面包屑导航 --&gt;</span><br><span class="line">        &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb-item :to&#x3D;&quot;&#123; path: &#39;&#x2F;home&#39; &#125;&quot;&gt;首页&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;商品管理&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;分类参数&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">        &lt;el-card&gt;</span><br><span class="line">            &lt;!-- 警告区域 :closable&#x3D;&quot;false&quot;(是否展示“X”号) show-icon(显示图标) --&gt;</span><br><span class="line">            &lt;el-alert title&#x3D;&quot;注意：只允许为第三级分类设置相关参数&quot; type&#x3D;&quot;warning&quot; :closable&#x3D;&quot;false&quot; show-icon&gt;</span><br><span class="line">            &lt;&#x2F;el-alert&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 选择商品分类区域 --&gt;</span><br><span class="line">            &lt;el-row class&#x3D;&quot;cat_opt&quot;&gt;</span><br><span class="line">                &lt;el-col&gt;</span><br><span class="line">                    &lt;span&gt;选择商品分类：&lt;&#x2F;span&gt;</span><br><span class="line">                    &lt;!-- 选择商品分类的级联选择框 --&gt;</span><br><span class="line">                &lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;el-col&gt;&lt;&#x2F;el-col&gt;</span><br><span class="line">            &lt;&#x2F;el-row&gt;</span><br><span class="line">        &lt;&#x2F;el-card&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure><h4 id="C-完成级联选择框"><a href="#C-完成级联选择框" class="headerlink" title="C.完成级联选择框"></a>C.完成级联选择框</h4><p>完成商品分类级联选择框</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 选择商品分类区域 --&gt;</span><br><span class="line">&lt;el-row class&#x3D;&quot;cat_opt&quot;&gt;</span><br><span class="line">    &lt;el-col&gt;</span><br><span class="line">        &lt;span&gt;选择商品分类：&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;!-- 选择商品分类的级联选择框 --&gt;</span><br><span class="line">        &lt;el-cascader expandTrigger&#x3D;&#39;hover&#39; v-model&#x3D;&quot;selectedCateKeys&quot; :options&#x3D;&quot;cateList&quot; :props&#x3D;&quot;cateProps&quot; @change&#x3D;&quot;handleChange&quot; clearable&gt;&lt;&#x2F;el-cascader&gt;</span><br><span class="line">    &lt;&#x2F;el-col&gt;</span><br><span class="line">    &lt;el-col&gt;&lt;&#x2F;el-col&gt;</span><br><span class="line">&lt;&#x2F;el-row&gt;</span><br><span class="line">......</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        &#x2F;&#x2F;分类列表</span><br><span class="line">        cateList:[],</span><br><span class="line">        &#x2F;&#x2F;用户在级联下拉菜单中选中的分类id</span><br><span class="line">        selectedCateKeys:[],</span><br><span class="line">        &#x2F;&#x2F;配置级联菜单中数据如何展示</span><br><span class="line">        cateProps: &#123;</span><br><span class="line">            value: &#39;cat_id&#39;,</span><br><span class="line">            label: &#39;cat_name&#39;,</span><br><span class="line">            children: &#39;children&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">      this.getCateList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">      async getCateList()&#123;</span><br><span class="line">        &#x2F;&#x2F;获取所有的商品分类列表</span><br><span class="line">        const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;categories&#39;)</span><br><span class="line"></span><br><span class="line">        if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">            return this.$message.error(&#39;获取分类数据失败&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;将数据列表赋值给cateList</span><br><span class="line">        this.cateList &#x3D; res.data</span><br><span class="line">        &#x2F;&#x2F; &#x2F;&#x2F;保存总数据条数</span><br><span class="line">        &#x2F;&#x2F; this.total &#x3D; res.data.total</span><br><span class="line">        &#x2F;&#x2F;   console.log(res.data);</span><br><span class="line">      &#125;,</span><br><span class="line">      handleChange()&#123;</span><br><span class="line">        &#x2F;&#x2F;当用户在级联菜单中选择内容改变时触发</span><br><span class="line">        console.log(this.selectedCateKeys);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="D-展示参数"><a href="#D-展示参数" class="headerlink" title="D.展示参数"></a>D.展示参数</h4><p>展示动态参数数据以及静态属性数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- tab页签区域 --&gt;</span><br><span class="line">&lt;el-tabs v-model&#x3D;&quot;activeName&quot; @tab-click&#x3D;&quot;handleTabClick&quot;&gt;</span><br><span class="line">  &lt;!-- 添加动态参数的面板 将标签页改为many --&gt;</span><br><span class="line">  &lt;el-tab-pane label&#x3D;&quot;动态参数&quot; name&#x3D;&quot;many&quot;&gt;</span><br><span class="line">    &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; :disabled&#x3D;&quot;isButtonDisabled&quot;&gt;添加参数&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;!-- 动态参数表格 --&gt;</span><br><span class="line">    &lt;el-table :data&#x3D;&quot;manyTableData&quot; border stripe&gt;</span><br><span class="line">      &lt;!-- 展开行 --&gt;</span><br><span class="line">      &lt;el-table-column type&#x3D;&quot;expand&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;!-- 索引列 --&gt;</span><br><span class="line">      &lt;el-table-column type&#x3D;&quot;index&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label&#x3D;&quot;参数名称&quot; prop&#x3D;&quot;attr_name&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label&#x3D;&quot;操作&quot;&gt;</span><br><span class="line">        &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">          &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-edit&quot;&gt;编辑&lt;&#x2F;el-button&gt;</span><br><span class="line">          &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot;&gt;删除&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;template&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;&#x2F;el-table&gt;</span><br><span class="line">  &lt;&#x2F;el-tab-pane&gt;</span><br><span class="line">  &lt;!-- 添加静态属性的面板 将标签页改为only --&gt;</span><br><span class="line">  &lt;el-tab-pane label&#x3D;&quot;静态属性&quot; name&#x3D;&quot;only&quot;&gt;</span><br><span class="line">    &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; :disabled&#x3D;&quot;isButtonDisabled&quot;&gt;添加属性&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;!-- 静态属性表格 --&gt;</span><br><span class="line">    &lt;el-table :data&#x3D;&quot;onlyTableData&quot; border stripe&gt;</span><br><span class="line">      &lt;!-- 展开行 --&gt;</span><br><span class="line">      &lt;el-table-column type&#x3D;&quot;expand&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;!-- 索引列 --&gt;</span><br><span class="line">      &lt;el-table-column type&#x3D;&quot;index&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label&#x3D;&quot;属性名称&quot; prop&#x3D;&quot;attr_name&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label&#x3D;&quot;操作&quot;&gt;</span><br><span class="line">        &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">          &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-edit&quot;&gt;编辑&lt;&#x2F;el-button&gt;</span><br><span class="line">          &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot;&gt;删除&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;template&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;&#x2F;el-table&gt;</span><br><span class="line">  &lt;&#x2F;el-tab-pane&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;el-tabs&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      ......</span><br><span class="line">      &#x2F;&#x2F;tab页签激活显示的页签项</span><br><span class="line">      activeName: &#39;many&#39;,</span><br><span class="line">      &#x2F;&#x2F;用来保存动态参数数据</span><br><span class="line">      manyTableData: [],</span><br><span class="line">      &#x2F;&#x2F;用来保存静态属性数据</span><br><span class="line">      onlyTableData: []  </span><br><span class="line">    &#125;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    .......</span><br><span class="line">    async handleChange() &#123;</span><br><span class="line">      &#x2F;&#x2F;当用户在级联菜单中选择内容改变时触发</span><br><span class="line">      console.log(this.selectedCateKeys)</span><br><span class="line">      &#x2F;&#x2F;发送请求，根据用户选择的三级分类和面板获取参数数据</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(</span><br><span class="line">        &#96;categories&#x2F;$&#123;this.cateId&#125;&#x2F;attributes&#96;,</span><br><span class="line">        &#123; params: &#123; sel: this.activeName &#125; &#125;</span><br><span class="line">      )</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">        return this.$message.error(&#39;获取参数列表数据失败&#39;)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      console.log(res.data)</span><br><span class="line">      if (this.activeName &#x3D;&#x3D;&#x3D; &#39;many&#39;) &#123;</span><br><span class="line">        &#x2F;&#x2F;获取的是动态参数</span><br><span class="line">        this.manyTableData &#x3D; res.data</span><br><span class="line">      &#125; else if (this.activeName &#x3D;&#x3D;&#x3D; &#39;only&#39;) &#123;</span><br><span class="line">        &#x2F;&#x2F;获取的是静态属性</span><br><span class="line">        this.onlyTableData &#x3D; res.data</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTabClick() &#123;</span><br><span class="line">      console.log(this.activeName)</span><br><span class="line">      this.handleChange()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    &#x2F;&#x2F;添加计算属性用来获取按钮禁用与否</span><br><span class="line">    isButtonDisabled() &#123;</span><br><span class="line">      return this.selectedCateKeys.length !&#x3D;&#x3D; 3</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;获取选中的三级分类id</span><br><span class="line">    cateId() &#123;</span><br><span class="line">      if (this.selectedCateKeys.length &#x3D;&#x3D;&#x3D; 3) &#123;</span><br><span class="line">        return this.selectedCateKeys[this.selectedCateKeys.length - 1]</span><br><span class="line">      &#125;</span><br><span class="line">      return null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="E-添加参数"><a href="#E-添加参数" class="headerlink" title="E.添加参数"></a>E.添加参数</h4><p>完成添加参数或属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 添加参数或属性对话框 --&gt;</span><br><span class="line">&lt;el-dialog :title&#x3D;&quot;&#39;添加&#39;+titleText&quot; :visible.sync&#x3D;&quot;addDialogVisible&quot; width&#x3D;&quot;50%&quot; @close&#x3D;&quot;addDialogClosed&quot;&gt;</span><br><span class="line">  &lt;!-- 添加表单 --&gt;</span><br><span class="line">  &lt;el-form :model&#x3D;&quot;addForm&quot; :rules&#x3D;&quot;addFormRules&quot; ref&#x3D;&quot;addFormRef&quot; label-width&#x3D;&quot;100px&quot;&gt;</span><br><span class="line">    &lt;el-form-item :label&#x3D;&quot;titleText&quot; prop&#x3D;&quot;attr_name&quot;&gt;</span><br><span class="line">      &lt;el-input v-model&#x3D;&quot;addForm.attr_name&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">    &lt;&#x2F;el-form-item&gt;</span><br><span class="line">  &lt;&#x2F;el-form&gt;</span><br><span class="line">  &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;addDialogVisible &#x3D; false&quot;&gt;取 消&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;addParams&quot;&gt;确 定&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      .......</span><br><span class="line">      &#x2F;&#x2F;控制添加参数.属性对话框的显示或隐藏</span><br><span class="line">      addDialogVisible: false,</span><br><span class="line">      &#x2F;&#x2F;添加参数的表单数据对象</span><br><span class="line">      addForm: &#123;</span><br><span class="line">        attr_name: &#39;&#39;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;添加表单验证规则</span><br><span class="line">      addFormRules: &#123;</span><br><span class="line">        attr_name: [&#123; required: true, message: &#39;请输入名称&#39;, trigger: &#39;blur&#39; &#125;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,methods: &#123;</span><br><span class="line">    .......</span><br><span class="line">    addParams() &#123;</span><br><span class="line">      &#x2F;&#x2F;当用户点击对话框中的确定时，校验表单</span><br><span class="line">      this.$refs.addFormRef.validate(async valid &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;校验不通过，return</span><br><span class="line">        if (!valid) return</span><br><span class="line">        &#x2F;&#x2F;校验通过，发送请求完成添加参数或者属性</span><br><span class="line">        const &#123; data: res &#125; &#x3D; this.$http.post(&#96;categories&#x2F;$&#123;this.cateId&#125;&#x2F;attributes&#96;,</span><br><span class="line">          &#123; </span><br><span class="line">            attr_name: this.addForm.attr_name, </span><br><span class="line">            attr_sel: this.activeName,</span><br><span class="line">            attr_vals: &quot;a,b,c&quot; </span><br><span class="line">          &#125;</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        console.log(res)</span><br><span class="line">        if (res.meta.status !&#x3D;&#x3D; 201) &#123;</span><br><span class="line">          return this.$message.error(&#39;添加&#39; + this.titleText + &#39;数据失败&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">        this.$message.success(&#39;添加&#39; + this.titleText + &#39;数据成功&#39;)</span><br><span class="line">        this.addDialogVisible &#x3D; false</span><br><span class="line">        this.getCateList()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="F-编辑参数"><a href="#F-编辑参数" class="headerlink" title="F.编辑参数"></a>F.编辑参数</h4><p>完成编辑参数或属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 修改参数或属性对话框 --&gt;</span><br><span class="line">&lt;el-dialog :title&#x3D;&quot;&#39;修改&#39;+titleText&quot; :visible.sync&#x3D;&quot;editDialogVisible&quot; width&#x3D;&quot;50%&quot; @close&#x3D;&quot;editDialogClosed&quot;&gt;</span><br><span class="line">  &lt;!-- 添加表单 --&gt;</span><br><span class="line">  &lt;el-form :model&#x3D;&quot;editForm&quot; :rules&#x3D;&quot;editFormRules&quot; ref&#x3D;&quot;editFormRef&quot; label-width&#x3D;&quot;100px&quot;&gt;</span><br><span class="line">    &lt;el-form-item :label&#x3D;&quot;titleText&quot; prop&#x3D;&quot;attr_name&quot;&gt;</span><br><span class="line">      &lt;el-input v-model&#x3D;&quot;editForm.attr_name&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">    &lt;&#x2F;el-form-item&gt;</span><br><span class="line">  &lt;&#x2F;el-form&gt;</span><br><span class="line">  &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;editDialogVisible &#x3D; false&quot;&gt;取 消&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;editParams&quot;&gt;确 定&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      .......</span><br><span class="line">      &#x2F;&#x2F;控制修改参数.属性对话框的显示或隐藏</span><br><span class="line">      editDialogVisible:false,</span><br><span class="line">      &#x2F;&#x2F;修改参数.属性对话框中的表单</span><br><span class="line">      editForm:&#123;</span><br><span class="line">        attr_name:&#39;&#39;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;修改表单的验证规则</span><br><span class="line">      editFormRules:&#123;</span><br><span class="line">        attr_name:[</span><br><span class="line">          &#123; required: true, message: &#39;请输入名称&#39;, trigger: &#39;blur&#39; &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,methods: &#123;</span><br><span class="line">    .......</span><br><span class="line">    async showEditDialog(attr_id)&#123;</span><br><span class="line">      &#x2F;&#x2F;发起请求获取需要修改的那个参数数据</span><br><span class="line">      const &#123;data:res&#125; &#x3D; await this.$http.get(&#96;categories&#x2F;$&#123;this.cateId&#125;&#x2F;attributes&#x2F;$&#123;attr_id&#125;&#96;,</span><br><span class="line">      &#123;params:&#123; attr_sel:this.activeName &#125;&#125;)</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">        return this.$message.error(&#39;获取参数数据失败&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">      this.editForm &#x3D; res.data;</span><br><span class="line">      &#x2F;&#x2F;显示修改参数.属性对话框</span><br><span class="line">      this.editDialogVisible &#x3D; true;</span><br><span class="line">    &#125;,</span><br><span class="line">    editDialogClosed()&#123;</span><br><span class="line">      &#x2F;&#x2F;当关闭修改参数.属性对话框时</span><br><span class="line">      this.$refs.editFormRef.resetFields()</span><br><span class="line">    &#125;,</span><br><span class="line">    editParams()&#123;</span><br><span class="line">      &#x2F;&#x2F;验证表单</span><br><span class="line">      this.$refs.editFormRef.validate(async valid &#x3D;&gt; &#123;</span><br><span class="line">        if(!valid) return;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;发送请求完成修改</span><br><span class="line">        const &#123;data:res&#125; &#x3D; await this.$http.put(&#96;categories&#x2F;$&#123;this.cateId&#125;&#x2F;attributes&#x2F;$&#123;this.editForm.attr_id&#125;&#96;,</span><br><span class="line">        &#123;attr_name:this.editForm.attr_name,attr_sel:this.activeName&#125;)</span><br><span class="line"></span><br><span class="line">        if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">          return this.$message.error(&#39;获取参数数据失败&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">        this.$message.success(&#39;修改&#39; + this.titleText + &#39;数据成功&#39;)</span><br><span class="line">        this.editDialogVisible &#x3D; false</span><br><span class="line">        this.handleChange();</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="G-删除参数"><a href="#G-删除参数" class="headerlink" title="G.删除参数"></a>G.删除参数</h4><p>删除参数或属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">给两个删除按钮添加事件</span><br><span class="line">&lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot; @click&#x3D;&quot;removeParams(scope.row.attr_id)&quot;&gt;删除&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot; @click&#x3D;&quot;removeParams(scope.row.attr_id)&quot;&gt;删除&lt;&#x2F;el-button&gt;</span><br><span class="line"></span><br><span class="line">添加对应的事件处理函数</span><br><span class="line">async removeParams(attr_id)&#123;</span><br><span class="line">  &#x2F;&#x2F;根据id删除对应的参数或属性</span><br><span class="line">  &#x2F;&#x2F;弹窗提示用户是否要删除</span><br><span class="line">  const confirmResult &#x3D; await this.$confirm(</span><br><span class="line">    &#39;请问是否要删除该&#39;+this.titleText,</span><br><span class="line">    &#39;删除提示&#39;,</span><br><span class="line">    &#123;</span><br><span class="line">      confirmButtonText: &#39;确认删除&#39;,</span><br><span class="line">      cancelButtonText: &#39;取消&#39;,</span><br><span class="line">      type: &#39;warning&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  ).catch(err &#x3D;&gt; err)</span><br><span class="line">  &#x2F;&#x2F;如果用户点击确认，则confirmResult 为&#39;confirm&#39;</span><br><span class="line">  &#x2F;&#x2F;如果用户点击取消, 则confirmResult获取的就是catch的错误消息&#39;cancel&#39;</span><br><span class="line">  if (confirmResult !&#x3D; &#39;confirm&#39;) &#123;</span><br><span class="line">    return this.$message.info(&#39;已经取消删除&#39;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;没有取消就是要删除，发送请求完成删除</span><br><span class="line">  const &#123;data:res&#125; &#x3D; await this.$http.delete(&#96;categories&#x2F;$&#123;this.cateId&#125;&#x2F;attributes&#x2F;$&#123;attr_id&#125;&#96;)</span><br><span class="line"></span><br><span class="line">  if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">    return this.$message.error(&#39;删除参数数据失败&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">  this.$message.success(&#39;删除&#39; + this.titleText + &#39;数据成功&#39;)</span><br><span class="line">  this.handleChange()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="前端" scheme="http://codehao.top/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Vue" scheme="http://codehao.top/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>vue项目实战--LAM系统（六）</title>
    <link href="http://codehao.top/cl15275ku000tiwlad3fw96nt/"/>
    <id>http://codehao.top/cl15275ku000tiwlad3fw96nt/</id>
    <published>2022-03-15T13:32:04.538Z</published>
    <updated>2020-09-08T11:42:10.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="Vue项目实战-LAM系统（六）"><a href="#Vue项目实战-LAM系统（六）" class="headerlink" title="Vue项目实战-LAM系统（六）"></a>Vue项目实战-LAM系统（六）</h3><blockquote><p>1.完成商品添加<br>2.完成订单列表<br>3.完成数据统计展示</p></blockquote><h3 id="1-添加商品"><a href="#1-添加商品" class="headerlink" title="1.添加商品"></a>1.添加商品</h3><h4 id="A-完成图片上传"><a href="#A-完成图片上传" class="headerlink" title="A.完成图片上传"></a>A.完成图片上传</h4><p>使用upload组件完成图片上传<br>在element.js中引入upload组件，并注册<br>因为upload组件进行图片上传的时候并不是使用axios发送请求<br>所以，我们需要手动为上传图片的请求添加token，即为upload组件添加headers属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;在页面中添加upload组件，并设置对应的事件和属性</span><br><span class="line">&lt;el-tab-pane label&#x3D;&quot;商品图片&quot; name&#x3D;&quot;3&quot;&gt;</span><br><span class="line">  &lt;!-- 商品图片上传</span><br><span class="line">  action:指定图片上传api接口</span><br><span class="line">  :on-preview ： 当点击图片时会触发该事件进行预览操作,处理图片预览</span><br><span class="line">  :on-remove : 当用户点击图片右上角的X号时触发执行</span><br><span class="line">  :on-success：当用户点击上传图片并成功上传时触发</span><br><span class="line">  list-type ：设置预览图片的方式</span><br><span class="line">  :headers ：设置上传图片的请求头 --&gt;</span><br><span class="line">  &lt;el-upload :action&#x3D;&quot;uploadURL&quot; :on-preview&#x3D;&quot;handlePreview&quot; :on-remove&#x3D;&quot;handleRemove&quot; :on-success&#x3D;&quot;handleSuccess&quot; list-type&#x3D;&quot;picture&quot; :headers&#x3D;&quot;headerObj&quot;&gt;</span><br><span class="line">    &lt;el-button size&#x3D;&quot;small&quot; type&#x3D;&quot;primary&quot;&gt;点击上传&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;el-upload&gt;</span><br><span class="line">&lt;&#x2F;el-tab-pane&gt;</span><br><span class="line">&#x2F;&#x2F;在el-card卡片视图下面添加对话框用来预览图片</span><br><span class="line">&lt;!-- 预览图片对话框 --&gt;</span><br><span class="line">&lt;el-dialog title&#x3D;&quot;图片预览&quot; :visible.sync&#x3D;&quot;previewVisible&quot; width&#x3D;&quot;50%&quot;&gt;</span><br><span class="line">  &lt;img :src&#x3D;&quot;previewPath&quot; class&#x3D;&quot;previewImg&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;在data中添加数据</span><br><span class="line">data()&#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    ......</span><br><span class="line">    &#x2F;&#x2F;添加商品的表单数据对象</span><br><span class="line">    addForm: &#123;</span><br><span class="line">      goods_name: &#39;&#39;,</span><br><span class="line">      goods_price: 0,</span><br><span class="line">      goods_weight: 0,</span><br><span class="line">      goods_number: 0,</span><br><span class="line">      goods_cat: [],</span><br><span class="line">      &#x2F;&#x2F;上传图片数组</span><br><span class="line">      pics: []</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;上传图片的url地址</span><br><span class="line">    uploadURL: &#39;http:&#x2F;&#x2F;127.0.0.1:8888&#x2F;api&#x2F;private&#x2F;v1&#x2F;upload&#39;,</span><br><span class="line">    &#x2F;&#x2F;图片上传组件的headers请求头对象</span><br><span class="line">    headerObj: &#123; Authorization: window.sessionStorage.getItem(&#39;token&#39;) &#125;,</span><br><span class="line">    &#x2F;&#x2F;保存预览图片的url地址</span><br><span class="line">    previewPath: &#39;&#39;,</span><br><span class="line">    &#x2F;&#x2F;控制预览图片对话框的显示和隐藏</span><br><span class="line">    previewVisible:false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#x2F;&#x2F;在methods中添加事件处理函数</span><br><span class="line">methods:&#123;</span><br><span class="line">  .......</span><br><span class="line">  handlePreview(file) &#123;</span><br><span class="line">    &#x2F;&#x2F;当用户点击图片进行预览时执行，处理图片预览</span><br><span class="line">    &#x2F;&#x2F;形参file就是用户预览的那个文件</span><br><span class="line">    this.previewPath &#x3D; file.response.data.url</span><br><span class="line">    &#x2F;&#x2F;显示预览图片对话框</span><br><span class="line">    this.previewVisible &#x3D; true</span><br><span class="line">  &#125;,</span><br><span class="line">  handleRemove(file) &#123;</span><br><span class="line">    &#x2F;&#x2F;当用户点击X号删除时执行</span><br><span class="line">    &#x2F;&#x2F;形参file就是用户点击删除的文件</span><br><span class="line">    &#x2F;&#x2F;获取用户点击删除的那个图片的临时路径</span><br><span class="line">    const filePath &#x3D; file.response.data.tmp_path</span><br><span class="line">    &#x2F;&#x2F;使用findIndex来查找符合条件的索引</span><br><span class="line">    const index &#x3D; this.addForm.pics.findIndex(item &#x3D;&gt; item.pic &#x3D;&#x3D;&#x3D; filePath)</span><br><span class="line">    &#x2F;&#x2F;移除索引对应的图片</span><br><span class="line">    this.addForm.pics.splice(index, 1)</span><br><span class="line">  &#125;,</span><br><span class="line">  handleSuccess(response) &#123;</span><br><span class="line">    &#x2F;&#x2F;当上传成功时触发执行</span><br><span class="line">    &#x2F;&#x2F;形参response就是上传成功之后服务器返回的结果</span><br><span class="line">    &#x2F;&#x2F;将服务器返回的临时路径保存到addForm表单的pics数组中</span><br><span class="line">    this.addForm.pics.push(&#123; pic: response.data.tmp_path &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="B-使用富文本插件"><a href="#B-使用富文本插件" class="headerlink" title="B.使用富文本插件"></a>B.使用富文本插件</h4><p>想要使用富文本插件vue-quill-editor，就必须先从依赖安装该插件<br>引入并注册vue-quill-editor，打开main.js，编写如下代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;导入vue-quill-editor（富文本编辑器）</span><br><span class="line">import VueQuillEditor from &#39;vue-quill-editor&#39;</span><br><span class="line">&#x2F;&#x2F;导入vue-quill-editor的样式</span><br><span class="line">import &#39;quill&#x2F;dist&#x2F;quill.core.css&#39;</span><br><span class="line">import &#39;quill&#x2F;dist&#x2F;quill.snow.css&#39;</span><br><span class="line">import &#39;quill&#x2F;dist&#x2F;quill.bubble.css&#39;</span><br><span class="line">......</span><br><span class="line">&#x2F;&#x2F;全局注册组件</span><br><span class="line">Vue.component(&#39;tree-table&#39;, TreeTable)</span><br><span class="line">&#x2F;&#x2F;全局注册富文本组件</span><br><span class="line">Vue.use(VueQuillEditor)</span><br></pre></td></tr></table></figure><p>使用富文本插件vue-quill-editor</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 富文本编辑器组件 --&gt;</span><br><span class="line">&lt;el-tab-pane label&#x3D;&quot;商品内容&quot; name&#x3D;&quot;4&quot;&gt;</span><br><span class="line">  &lt;!-- 富文本编辑器组件 --&gt;</span><br><span class="line">  &lt;quill-editor v-model&#x3D;&quot;addForm.goods_introduce&quot;&gt;&lt;&#x2F;quill-editor&gt;</span><br><span class="line">  &lt;!-- 添加商品按钮 --&gt;</span><br><span class="line">  &lt;el-button type&#x3D;&quot;primary&quot; class&#x3D;&quot;btnAdd&quot;&gt;添加商品&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-tab-pane&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;在数据中添加goods_introduce</span><br><span class="line">&#x2F;&#x2F;添加商品的表单数据对象</span><br><span class="line">addForm: &#123;</span><br><span class="line">  goods_name: &#39;&#39;,</span><br><span class="line">  goods_price: 0,</span><br><span class="line">  goods_weight: 0,</span><br><span class="line">  goods_number: 0,</span><br><span class="line">  goods_cat: [],</span><br><span class="line">  &#x2F;&#x2F;上传图片数组</span><br><span class="line">  pics: [],</span><br><span class="line">  &#x2F;&#x2F;商品的详情介绍</span><br><span class="line">  goods_introduce:&#39;&#39;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;在global.css样式中添加富文本编辑器的最小高度</span><br><span class="line">.ql-editor&#123;</span><br><span class="line">    min-height: 300px;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;给添加商品按钮添加间距</span><br><span class="line">.btnAdd&#123;</span><br><span class="line">  margin-top:15px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="C-添加商品"><a href="#C-添加商品" class="headerlink" title="C.添加商品"></a>C.添加商品</h4><p>完成添加商品的操作<br>在添加商品之前，为了避免goods_cat数组转换字符串之后导致级联选择器报错<br>我们需要打开vue控制条，点击依赖，安装lodash，把addForm进行深拷贝</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;打开Add.vue，导入lodash</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F;官方推荐将lodash导入为_</span><br><span class="line">import _ from &#39;lodash&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;给添加商品按钮绑定点击事件</span><br><span class="line">&lt;!-- 添加商品按钮 --&gt;</span><br><span class="line">&lt;el-button type&#x3D;&quot;primary&quot; class&#x3D;&quot;btnAdd&quot; @click&#x3D;&quot;add&quot;&gt;添加商品&lt;&#x2F;el-button&gt;</span><br><span class="line">&#x2F;&#x2F;编写点击事件完成商品添加</span><br><span class="line">add()&#123;</span><br><span class="line">  this.$refs.addFormRef.validate(async valid&#x3D;&gt;&#123;</span><br><span class="line">    if(!valid) return this.$message.error(&quot;请填写必要的表单项!&quot;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;将addForm进行深拷贝，避免goods_cat数组转换字符串之后导致级联选择器报错</span><br><span class="line">    const form &#x3D; _.cloneDeep(this.addForm)</span><br><span class="line">    &#x2F;&#x2F;将goods_cat从数组转换为&quot;1,2,3&quot;字符串形式</span><br><span class="line">    form.goods_cat &#x3D; form.goods_cat.join(&quot;,&quot;)</span><br><span class="line">    &#x2F;&#x2F;处理attrs数组，数组中需要包含商品的动态参数和静态属性</span><br><span class="line">    &#x2F;&#x2F;将manyTableData（动态参数）处理添加到attrs</span><br><span class="line">    this.manyTableData.forEach(item&#x3D;&gt;&#123;</span><br><span class="line">      form.attrs.push(&#123; attr_id:item.attr_id, attr_value:item.attr_vals.join(&quot; &quot;) &#125;) </span><br><span class="line">    &#125;)</span><br><span class="line">    &#x2F;&#x2F;将onlyTableData（静态属性）处理添加到attrs</span><br><span class="line">    this.onlyTableData.forEach(item&#x3D;&gt;&#123;</span><br><span class="line">      form.attrs.push(&#123; attr_id:item.attr_id, attr_value:item.attr_vals &#125;) </span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;发送请求完成商品的添加,商品名称必须是唯一的</span><br><span class="line">    const &#123;data:res&#125; &#x3D; await this.$http.post(&#39;goods&#39;,form)</span><br><span class="line">    if(res.meta.status !&#x3D;&#x3D; 201)&#123;</span><br><span class="line">      return this.$message.error(&#39;添加商品失败&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    this.$message.success(&#39;添加商品成功&#39;)</span><br><span class="line">    &#x2F;&#x2F;编程式导航跳转到商品列表</span><br><span class="line">    this.$router.push(&#39;&#x2F;goods&#39;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="D-推送代码"><a href="#D-推送代码" class="headerlink" title="D.推送代码"></a>D.推送代码</h4><p>推送goods_list分支到码云<br>将代码添加到暂存区：  git add .<br>将代码提交到本地仓库： git commit -m “完成商品功能开发”<br>将代码推送到码云：  git push<br>切换到master主分支： git checkout master<br>将goods_list分支代码合并到master: git merge goods_list<br>将master推送到码云：  git push</p><h3 id="2-订单列表"><a href="#2-订单列表" class="headerlink" title="2.订单列表"></a>2.订单列表</h3><h4 id="A-创建分支"><a href="#A-创建分支" class="headerlink" title="A.创建分支"></a>A.创建分支</h4><p>创建order子分支并推送到码云<br>创建order子分支: git checkout -b order<br>将order分支推送到码云： git push -u origin order</p><h4 id="B-创建路由"><a href="#B-创建路由" class="headerlink" title="B.创建路由"></a>B.创建路由</h4><p>创建订单列表路由组件并添加路由规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;在components中新建order文件夹，新建Order.vue组件，组件中添加代码如下</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;订单列表&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;!-- 面包屑导航 --&gt;</span><br><span class="line">        &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb-item :to&#x3D;&quot;&#123; path: &#39;&#x2F;home&#39; &#125;&quot;&gt;首页&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;订单管理&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;订单列表&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">        &lt;el-card&gt;</span><br><span class="line">            &lt;!-- 搜索栏 --&gt;</span><br><span class="line">            &lt;el-row :gutter&#x3D;&quot;20&quot;&gt;</span><br><span class="line">                &lt;el-col :span&#x3D;&quot;8&quot;&gt;</span><br><span class="line">                    &lt;el-input placeholder&#x3D;&quot;请输入内容&quot; v-model&#x3D;&quot;queryInfo.query&quot; clearable&gt;</span><br><span class="line">                        &lt;el-button slot&#x3D;&quot;append&quot; icon&#x3D;&quot;el-icon-search&quot; &gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">                    &lt;&#x2F;el-input&gt;</span><br><span class="line">                &lt;&#x2F;el-col&gt;</span><br><span class="line">            &lt;&#x2F;el-row&gt;</span><br><span class="line">        &lt;&#x2F;el-card&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        &#x2F;&#x2F;查询条件</span><br><span class="line">        queryInfo:&#123;</span><br><span class="line">            query:&#39;&#39;,</span><br><span class="line">            pagenum:1,</span><br><span class="line">            pagesize:10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;打开router.js导入Order.vue并添加规则</span><br><span class="line">import Order from &#39;.&#x2F;components&#x2F;order&#x2F;Order.vue&#39;</span><br><span class="line"></span><br><span class="line">path: &#39;&#x2F;home&#39;, component: Home, redirect: &#39;&#x2F;welcome&#39;, children: [</span><br><span class="line">  &#123; path: &quot;&#x2F;welcome&quot;, component: Welcome &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;users&quot;, component: Users &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;rights&quot;, component: Rights &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;roles&quot;, component: Roles  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;categories&quot;, component: Cate  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;params&quot;, component: Params  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;goods&quot;, component: GoodList  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;goods&#x2F;add&quot;, component: GoodAdd  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;orders&quot;, component: Order  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="C-实现数据展示及分页"><a href="#C-实现数据展示及分页" class="headerlink" title="C.实现数据展示及分页"></a>C.实现数据展示及分页</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">&lt;el-card&gt;</span><br><span class="line">    &lt;!-- 搜索栏 --&gt;</span><br><span class="line">    &lt;el-row :gutter&#x3D;&quot;20&quot;&gt;</span><br><span class="line">        &lt;el-col :span&#x3D;&quot;8&quot;&gt;</span><br><span class="line">            &lt;el-input placeholder&#x3D;&quot;请输入内容&quot; v-model&#x3D;&quot;queryInfo.query&quot; clearable&gt;</span><br><span class="line">                &lt;el-button slot&#x3D;&quot;append&quot; icon&#x3D;&quot;el-icon-search&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-col&gt;</span><br><span class="line">    &lt;&#x2F;el-row&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 订单表格 --&gt;</span><br><span class="line">    &lt;el-table :data&#x3D;&quot;orderList&quot; border stripe&gt;</span><br><span class="line">        &lt;el-table-column type&#x3D;&quot;index&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;订单编号&quot; prop&#x3D;&quot;order_number&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;订单价格&quot; prop&#x3D;&quot;order_price&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;是否付款&quot; prop&#x3D;&quot;pay_status&quot;&gt;</span><br><span class="line">            &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                &lt;el-tag type&#x3D;&quot;success&quot; v-if&#x3D;&quot;scope.row.pay_status &#x3D;&#x3D;&#x3D; &#39;1&#39;&quot;&gt;已付款&lt;&#x2F;el-tag&gt;</span><br><span class="line">                &lt;el-tag type&#x3D;&quot;danger&quot; v-else&gt;未付款&lt;&#x2F;el-tag&gt;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;是否发货&quot; prop&#x3D;&quot;is_send&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;下单时间&quot; prop&#x3D;&quot;create_time&quot;&gt;</span><br><span class="line">            &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                &#123;&#123;scope.row.create_time | dateFormat&#125;&#125;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;操作&quot; width&#x3D;&quot;125px&quot;&gt;</span><br><span class="line">            &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-edit&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">                &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;success&quot; icon&#x3D;&quot;el-icon-location&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;&#x2F;el-table&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 分页 --&gt;</span><br><span class="line">    &lt;el-pagination @size-change&#x3D;&quot;handleSizeChange&quot; @current-change&#x3D;&quot;handleCurrentChange&quot; :current-page&#x3D;&quot;queryInfo.pagenum&quot; :page-sizes&#x3D;&quot;[3, 5, 10, 15]&quot; :page-size&#x3D;&quot;queryInfo.pagesize&quot; layout&#x3D;&quot;total, sizes, prev, pager, next, jumper&quot; :total&#x3D;&quot;total&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-pagination&gt;</span><br><span class="line">&lt;&#x2F;el-card&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F;查询条件</span><br><span class="line">      queryInfo: &#123;</span><br><span class="line">        query: &#39;&#39;,</span><br><span class="line">        pagenum: 1,</span><br><span class="line">        pagesize: 10</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;订单列表数据</span><br><span class="line">      orderList: [],</span><br><span class="line">      &#x2F;&#x2F;数据总条数</span><br><span class="line">      total: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.getOrderList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async getOrderList() &#123;</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;orders&#39;, &#123;</span><br><span class="line">        params: this.queryInfo</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">        return this.$message.error(&#39;获取订单列表数据失败!&#39;)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      this.total &#x3D; res.data.total</span><br><span class="line">      this.orderList &#x3D; res.data.goods</span><br><span class="line">    &#125;,</span><br><span class="line">    handleSizeChange(newSize)&#123;</span><br><span class="line">        this.queryInfo.pagesize &#x3D; newSize</span><br><span class="line">        this.getOrderList()</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCurrentChange(newPage)&#123;</span><br><span class="line">        this.queryInfo.pagenum &#x3D; newPage</span><br><span class="line">        this.getOrderList()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="D-制作省市区县联动"><a href="#D-制作省市区县联动" class="headerlink" title="D.制作省市区县联动"></a>D.制作省市区县联动</h4><p>打开今天的资料，找到素材文件夹，复制citydata.js文件到components/order文件夹中<br>然后导入citydata.js文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  import cityData from &quot;.&#x2F;citydata.js&quot;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>具体代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;给修改地址按钮添加点击事件</span><br><span class="line">&lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-edit&quot; @click&#x3D;&quot;showEditAddress&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">&#x2F;&#x2F;添加修改地址对话框,在卡片视图下方添加</span><br><span class="line">&lt;!-- 修改地址对话框 --&gt;</span><br><span class="line">&lt;el-dialog title&#x3D;&quot;修改收货地址&quot; :visible.sync&#x3D;&quot;addressVisible&quot; width&#x3D;&quot;50%&quot; @close&#x3D;&quot;addressDialogClosed&quot;&gt;</span><br><span class="line">    &lt;!-- 添加表单 --&gt;</span><br><span class="line">    &lt;el-form :model&#x3D;&quot;addressForm&quot; :rules&#x3D;&quot;addressFormRules&quot; ref&#x3D;&quot;addressFormRef&quot; label-width&#x3D;&quot;100px&quot;&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;省市区县&quot; prop&#x3D;&quot;address1&quot;&gt;</span><br><span class="line">            &lt;el-cascader :options&#x3D;&quot;cityData&quot; v-model&#x3D;&quot;addressForm.address1&quot;&gt;&lt;&#x2F;el-cascader&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;详细地址&quot; prop&#x3D;&quot;address2&quot;&gt;</span><br><span class="line">            &lt;el-input v-model&#x3D;&quot;addressForm.address2&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">    &lt;&#x2F;el-form&gt;</span><br><span class="line">    &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;addressVisible &#x3D; false&quot;&gt;取 消&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;addressVisible &#x3D; false&quot;&gt;确 定&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;js部分的代码</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import cityData from &quot;.&#x2F;citydata.js&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      ......</span><br><span class="line">      &#x2F;&#x2F;控制修改地址对话框的显示和隐藏</span><br><span class="line">      addressVisible:false,</span><br><span class="line">      &#x2F;&#x2F;修改收货地址的表单</span><br><span class="line">      addressForm:&#123;</span><br><span class="line">          address1:[],</span><br><span class="line">          address2:&#39;&#39;</span><br><span class="line">      &#125;,</span><br><span class="line">      addressFormRules:&#123;</span><br><span class="line">          address1:[&#123; required: true, message: &#39;请选择省市区县&#39;, trigger: &#39;blur&#39; &#125;],</span><br><span class="line">          address2:[&#123; required: true, message: &#39;请输入详细地址&#39;, trigger: &#39;blur&#39; &#125;],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;将导入的cityData数据保存起来</span><br><span class="line">      cityData:cityData</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,methods: &#123;</span><br><span class="line">    ......</span><br><span class="line">    showEditAddress() &#123;</span><br><span class="line">      &#x2F;&#x2F;当用户点击修改收货地址按钮时触发</span><br><span class="line">      this.addressVisible &#x3D; true;</span><br><span class="line">    &#125;,</span><br><span class="line">    addressDialogClosed()&#123;</span><br><span class="line">        this.$refs.addressFormRef.resetFields()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line">.el-cascader&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h4 id="E-制作物流进度对话框"><a href="#E-制作物流进度对话框" class="headerlink" title="E.制作物流进度对话框"></a>E.制作物流进度对话框</h4><p>因为我们使用的是element-ui中提供的Timeline组件，所以需要导入并注册组件<br>打开element.js,编写代码会进行导入和注册</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123;</span><br><span class="line">    Timeline,TimelineItem</span><br><span class="line">&#125; from &#39;element-ui&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Timeline)</span><br><span class="line">Vue.use(TimelineItem)</span><br></pre></td></tr></table></figure><p>打开Order.vue文件，添加代码实现物流进度对话框</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 物流信息进度对话框 --&gt;</span><br><span class="line">&lt;el-dialog title&#x3D;&quot;物流进度&quot; :visible.sync&#x3D;&quot;progressVisible&quot; width&#x3D;&quot;50%&quot;&gt;</span><br><span class="line">    &lt;!-- 时间线组件  --&gt;</span><br><span class="line">    &lt;el-timeline&gt;</span><br><span class="line">        &lt;el-timeline-item v-for&#x3D;&quot;(activity, index) in progressInfo&quot; </span><br><span class="line">        :key&#x3D;&quot;index&quot; :timestamp&#x3D;&quot;activity.time&quot;&gt;</span><br><span class="line">            &#123;&#123;activity.context&#125;&#125;</span><br><span class="line">        &lt;&#x2F;el-timeline-item&gt;</span><br><span class="line">    &lt;&#x2F;el-timeline&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import cityData from &#39;.&#x2F;citydata.js&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      ......</span><br><span class="line">      &#x2F;&#x2F;控制物流进度对话框的显示和隐藏</span><br><span class="line">      progressVisible: false,</span><br><span class="line">      &#x2F;&#x2F;保存物流信息</span><br><span class="line">      progressInfo: []</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,methods: &#123;</span><br><span class="line">    ......</span><br><span class="line">    async showProgress() &#123;</span><br><span class="line">      &#x2F;&#x2F;发送请求获取物流数据</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;&#x2F;kuaidi&#x2F;804909574412544580&#39;)</span><br><span class="line"></span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">        return this.$message.error(&#39;获取物流进度失败!&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">      this.progressInfo &#x3D; res.data</span><br><span class="line">      &#x2F;&#x2F;显示对话框</span><br><span class="line">      this.progressVisible &#x3D; true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="F-推送代码"><a href="#F-推送代码" class="headerlink" title="F.推送代码"></a>F.推送代码</h4><p>将order分支代码推送至码云<br>将代码添加到暂存区：  git add .<br>将代码提交到本地仓库： git commit -m “完成订单列表功能开发”<br>将代码推送到码云：  git push<br>切换到master主分支： git checkout master<br>将goods_list分支代码合并到master: git merge order<br>将master推送到码云：  git push</p><h3 id="3-数据统计"><a href="#3-数据统计" class="headerlink" title="3.数据统计"></a>3.数据统计</h3><h4 id="A-创建子分支"><a href="#A-创建子分支" class="headerlink" title="A.创建子分支"></a>A.创建子分支</h4><p>创建report子分支并推送到码云<br>创建report子分支: git checkout -b report<br>将report分支推送到码云： git push -u origin report</p><h4 id="B-创建路由-1"><a href="#B-创建路由-1" class="headerlink" title="B.创建路由"></a>B.创建路由</h4><p>创建数据统计路由组件并添加路由规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;在components中新建report文件夹，新建Report.vue组件，组件中添加代码如下</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;数据报表&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;!-- 面包屑导航 --&gt;</span><br><span class="line">        &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb-item :to&#x3D;&quot;&#123; path: &#39;&#x2F;home&#39; &#125;&quot;&gt;首页&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;数据统计&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;数据报表&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">        &lt;el-card&gt;&lt;&#x2F;el-card&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,created()&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,methods:&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><p>打开router.js，导入Report.vue并设置路由规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import Report from &#39;.&#x2F;components&#x2F;report&#x2F;Report.vue&#39;</span><br><span class="line">path: &#39;&#x2F;home&#39;, component: Home, redirect: &#39;&#x2F;welcome&#39;, children: [</span><br><span class="line">  &#123; path: &quot;&#x2F;welcome&quot;, component: Welcome &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;users&quot;, component: Users &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;rights&quot;, component: Rights &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;roles&quot;, component: Roles  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;categories&quot;, component: Cate  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;params&quot;, component: Params  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;goods&quot;, component: GoodList  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;goods&#x2F;add&quot;, component: GoodAdd  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;orders&quot;, component: Order  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;reports&quot;, component: Report  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="C-导入ECharts并使用"><a href="#C-导入ECharts并使用" class="headerlink" title="C.导入ECharts并使用"></a>C.导入ECharts并使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;数据报表&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;!-- 面包屑导航 --&gt;</span><br><span class="line">        &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb-item :to&#x3D;&quot;&#123; path: &#39;&#x2F;home&#39; &#125;&quot;&gt;首页&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;数据统计&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;数据报表&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">        &lt;el-card&gt;</span><br><span class="line">            &lt;div id&#x3D;&quot;main&quot; style&#x3D;&quot;width:750px;height:400px;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;el-card&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F;导入echarts</span><br><span class="line">import echarts from &#39;echarts&#39;</span><br><span class="line">&#x2F;&#x2F;导入lodash</span><br><span class="line">import _ from &#39;lodash&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F;需要跟请求的折线图数据合并的options</span><br><span class="line">      options: &#123;</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: &#39;用户来源&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">          trigger: &#39;axis&#39;,</span><br><span class="line">          axisPointer: &#123;</span><br><span class="line">            type: &#39;cross&#39;,</span><br><span class="line">            label: &#123;</span><br><span class="line">              backgroundColor: &#39;#E9EEF3&#39;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        grid: &#123;</span><br><span class="line">          left: &#39;3%&#39;,</span><br><span class="line">          right: &#39;4%&#39;,</span><br><span class="line">          bottom: &#39;3%&#39;,</span><br><span class="line">          containLabel: true</span><br><span class="line">        &#125;,</span><br><span class="line">        xAxis: [</span><br><span class="line">          &#123;</span><br><span class="line">            boundaryGap: false</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        yAxis: [</span><br><span class="line">          &#123;</span><br><span class="line">            type: &#39;value&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;&#125;,</span><br><span class="line">  async mounted() &#123;</span><br><span class="line">    &#x2F;&#x2F;在页面dom元素加载完毕之后执行的钩子函数mounted</span><br><span class="line">    &#x2F;&#x2F; 基于准备好的dom，初始化echarts实例</span><br><span class="line">    var myChart &#x3D; echarts.init(document.getElementById(&#39;main&#39;))</span><br><span class="line">    &#x2F;&#x2F;准备数据和配置项</span><br><span class="line">    &#x2F;&#x2F;发送请求获取折线图数据</span><br><span class="line">    const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;reports&#x2F;type&#x2F;1&#39;)</span><br><span class="line"></span><br><span class="line">    if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">      return this.$message.error(&#39;获取折线图数据失败&#39;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;合并res.data和this.options</span><br><span class="line">    const result &#x3D; _.merge(res.data,this.options)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 使用获取的数据展示图表</span><br><span class="line">    myChart.setOption(result)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h4 id="D-推送代码-1"><a href="#D-推送代码-1" class="headerlink" title="D.推送代码"></a>D.推送代码</h4><p>推送report分支到码云<br>将代码添加到暂存区：  git add .<br>将代码提交到本地仓库： git commit -m “完成数据报表功能开发”<br>将代码推送到码云：  git push<br>切换到master主分支： git checkout master<br>将report分支代码合并到master: git merge report<br>将master推送到码云：  git push</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="前端" scheme="http://codehao.top/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Vue" scheme="http://codehao.top/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>vue项目实战--LAM系统（五）</title>
    <link href="http://codehao.top/cl15275kv000viwla92jf0msb/"/>
    <id>http://codehao.top/cl15275kv000viwla92jf0msb/</id>
    <published>2022-03-15T13:32:04.519Z</published>
    <updated>2020-09-08T11:41:30.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="Vue项目实战-LAM系统（五）"><a href="#Vue项目实战-LAM系统（五）" class="headerlink" title="Vue项目实战-LAM系统（五）"></a>Vue项目实战-LAM系统（五）</h3><blockquote><p>1.完成参数管理<br>2.推送代码到码云<br>3.制作商品列表页面<br>4.制作商品添加页面</p></blockquote><h3 id="1-参数管理"><a href="#1-参数管理" class="headerlink" title="1.参数管理"></a>1.参数管理</h3><h4 id="A-展示动态参数可选项"><a href="#A-展示动态参数可选项" class="headerlink" title="A.展示动态参数可选项"></a>A.展示动态参数可选项</h4><p>动态参数可选项展示及操作<br>在获取动态参数的方法中进行处理。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;将获取到的数据中的attr_vals字符串转换为数组</span><br><span class="line">res.data.forEach(item &#x3D;&gt; &#123;</span><br><span class="line">  item.attr_vals &#x3D; item.attr_vals ? item.attr_vals.split(&#39; &#39;) : []</span><br><span class="line">  &#x2F;&#x2F;添加一个bool值控制文本框的显示或者隐藏</span><br><span class="line">  item.inputVisible &#x3D; false</span><br><span class="line">  &#x2F;&#x2F;添加一个inputValue保存文本框值</span><br><span class="line">  item.inputValue &#x3D; &#39;&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;然后再修改展开行中的代码，生成el-tag和文本框以及添加按钮</span><br><span class="line">&lt;!-- 展开行 --&gt;</span><br><span class="line">&lt;el-table-column type&#x3D;&quot;expand&quot;&gt;</span><br><span class="line">  &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">    &lt;!-- 循环生成的el-tag --&gt;</span><br><span class="line">    &lt;el-tag v-for&#x3D;&quot;(item,i) in scope.row.attr_vals&quot; :key&#x3D;&quot;i&quot; closable&gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;el-tag&gt;</span><br><span class="line">    &lt;!-- 输入框 --&gt;</span><br><span class="line">    &lt;el-input class&#x3D;&quot;input-new-tag&quot; v-if&#x3D;&quot;scope.row.inputVisible&quot; v-model&#x3D;&quot;scope.row.inputValue&quot; ref&#x3D;&quot;saveTagInput&quot; size&#x3D;&quot;small&quot; @keyup.enter.native&#x3D;&quot;handleInputConfirm(scope.row)&quot; @blur&#x3D;&quot;handleInputConfirm(scope.row)&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-input&gt;</span><br><span class="line">    &lt;!-- 添加按钮 --&gt;</span><br><span class="line">    &lt;el-button v-else class&#x3D;&quot;button-new-tag&quot; size&#x3D;&quot;small&quot; @click&#x3D;&quot;showInput(scope.row)&quot;&gt;+ New Tag&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line">&lt;&#x2F;el-table-column&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;最后对应文本框的事件和按钮的事件添加处理函数</span><br><span class="line">handleInputConfirm(row)&#123;</span><br><span class="line">  &#x2F;&#x2F;当用户在文本框中按下enter键或者焦点离开时都会触发执行</span><br><span class="line">  &#x2F;&#x2F;判断用户在文本框中输入的内容是否合法</span><br><span class="line">  if(row.inputValue.trim().length&#x3D;&#x3D;&#x3D;0)&#123;</span><br><span class="line">    row.inputValue &#x3D; &#39;&#39;</span><br><span class="line">    row.inputVisible &#x3D; false</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; row.inputVisible &#x3D; false</span><br><span class="line">  &#x2F;&#x2F;如果用户输入了真实合法的数据，需要保存起来</span><br><span class="line">&#125;,</span><br><span class="line">showInput(row)&#123;</span><br><span class="line">  &#x2F;&#x2F;用户点击添加按钮时触发</span><br><span class="line">  row.inputVisible &#x3D; true</span><br><span class="line">  &#x2F;&#x2F;$nextTick:在页面上元素被重新渲染之后，调用回调函数的代码</span><br><span class="line">  this.$nextTick(_&#x3D;&gt;&#123;</span><br><span class="line">    &#x2F;&#x2F;让文本框自动获得焦点</span><br><span class="line">    this.$refs.saveTagInput.$refs.input.focus()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="B-添加-删除可选项"><a href="#B-添加-删除可选项" class="headerlink" title="B.添加/删除可选项"></a>B.添加/删除可选项</h4><p>添加/删除动态参数可选项</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">给el-tag添加删除事件</span><br><span class="line">&lt;el-tag v-for&#x3D;&quot;(item,i) in scope.row.attr_vals&quot; :key&#x3D;&quot;i&quot; closable @close&#x3D;&quot;handleClose(i,scope.row)&quot;&gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;el-tag&gt;</span><br><span class="line"></span><br><span class="line">在methods中添加新增，删除事件处理函数</span><br><span class="line">handleInputConfirm(row)&#123;</span><br><span class="line">  &#x2F;&#x2F;当用户在文本框中按下enter键或者焦点离开时都会触发执行</span><br><span class="line">  &#x2F;&#x2F;判断用户在文本框中输入的内容是否合法</span><br><span class="line">  if(row.inputValue.trim().length&#x3D;&#x3D;&#x3D;0)&#123;</span><br><span class="line">    row.inputValue &#x3D; &#39;&#39;</span><br><span class="line">    row.inputVisible &#x3D; false</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; row.inputVisible &#x3D; false</span><br><span class="line">  &#x2F;&#x2F;如果用户输入了真实合法的数据，需要保存起来</span><br><span class="line">  row.attr_vals.push(row.inputValue.trim())</span><br><span class="line">  row.inputValue &#x3D; &#39;&#39;</span><br><span class="line">  row.inputVisible &#x3D; false</span><br><span class="line"></span><br><span class="line">  this.saveAttrVals(row)</span><br><span class="line">&#125;,</span><br><span class="line">handleClose(index,row)&#123;</span><br><span class="line">  &#x2F;&#x2F;删除对应索引的参数可选项</span><br><span class="line">  row.attr_vals.splice(index,1)</span><br><span class="line">  &#x2F;&#x2F;调用函数，完成保存可选项的操作</span><br><span class="line">  this.saveAttrVals(row)</span><br><span class="line">&#125;,</span><br><span class="line">async saveAttrVals(row)&#123;</span><br><span class="line">  &#x2F;&#x2F;封装函数，完成保存可选项的操作</span><br><span class="line">  &#x2F;&#x2F;发起请求，保存参数细项</span><br><span class="line">  const &#123;data:res&#125; &#x3D; await this.$http.put(&#96;categories&#x2F;$&#123;this.cateId&#125;&#x2F;attributes&#x2F;$&#123;row.attr_id&#125;&#96;,</span><br><span class="line">  &#123;attr_name:row.attr_name,attr_sel:row.attr_sel,attr_vals:row.attr_vals.join(&#39; &#39;)&#125;)</span><br><span class="line"></span><br><span class="line">  if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">    return this.$message.error(&#39;修改参数项失败&#39;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.$message.success(&#39;修改参数项成功&#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>补充：当用户在级联选择框中选中了非三级分类时，需要清空表格中数据</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">async handleChange() &#123;</span><br><span class="line">      &#x2F;&#x2F;如果用户选择的不是三级分类</span><br><span class="line">      if(this.selectedCateKeys.length !&#x3D;&#x3D; 3)&#123;</span><br><span class="line">        this.selectedCateKeys &#x3D; []</span><br><span class="line">        this.manyTableData &#x3D; []</span><br><span class="line">        this.onlyTableData &#x3D; []</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      ......</span><br></pre></td></tr></table></figure><blockquote><p>补充2：当完成了动态参数可选项的功能之后，我们也需要一样的方式完成静态属性可选项的功能。</p></blockquote><p>此时我们只需要将动态参数可选项中的展开行复制到静态属性的表格中即可</p><h3 id="2-推送代码到码云"><a href="#2-推送代码到码云" class="headerlink" title="2.推送代码到码云"></a>2.推送代码到码云</h3><p>添加到暂存求： git add .<br>提交到本地仓库：  git commit -m ‘完成了分类参数开发’<br>推送到码云：  git push<br>切换到master ： git checkout master<br>合并到master ： git merge goods_params</p><p>创建子分支<br>git checkout -b goods_list<br>推送至码云 git push -u origin goods_list</p><h3 id="3-商品列表"><a href="#3-商品列表" class="headerlink" title="3.商品列表"></a>3.商品列表</h3><h4 id="A-制作商品列表基本结构"><a href="#A-制作商品列表基本结构" class="headerlink" title="A.制作商品列表基本结构"></a>A.制作商品列表基本结构</h4><p>添加子级路由组件以及对应的规则,并设置组件的基本机构<br>打开router.js,添加下面的代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import GoodList from &#39;.&#x2F;components&#x2F;goods&#x2F;List.vue&#39;</span><br><span class="line"></span><br><span class="line">path: &#39;&#x2F;home&#39;, component: Home, redirect: &#39;&#x2F;welcome&#39;, children: [</span><br><span class="line">  &#123; path: &quot;&#x2F;welcome&quot;, component: Welcome &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;users&quot;, component: Users &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;rights&quot;, component: Rights &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;roles&quot;, component: Roles  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;categories&quot;, component: Cate  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;params&quot;, component: Params  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;goods&quot;, component: GoodList  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>打开List.vue组件，添加下列代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;商品列表&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;!-- 面包屑导航 --&gt;</span><br><span class="line">        &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb-item :to&#x3D;&quot;&#123; path: &#39;&#x2F;home&#39; &#125;&quot;&gt;首页&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;商品管理&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;商品列表&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">        &lt;el-card&gt;</span><br><span class="line">            &lt;el-row :gutter&#x3D;&quot;20&quot;&gt;</span><br><span class="line">                &lt;el-col :span&#x3D;&quot;8&quot;&gt;</span><br><span class="line">                    &lt;el-input placeholder&#x3D;&quot;请输入内容&quot;&gt;</span><br><span class="line">                        &lt;el-button slot&#x3D;&quot;append&quot; icon&#x3D;&quot;el-icon-search&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">                    &lt;&#x2F;el-input&gt;</span><br><span class="line">                &lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;el-col :span&#x3D;&quot;4&quot;&gt;</span><br><span class="line">                    &lt;el-button type&#x3D;&quot;primary&quot;&gt;添加商品&lt;&#x2F;el-button&gt;</span><br><span class="line">                &lt;&#x2F;el-col&gt;</span><br><span class="line">            &lt;&#x2F;el-row&gt;</span><br><span class="line">        &lt;&#x2F;el-card&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;&#125;,</span><br><span class="line">  methods: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h4 id="B-数据展示"><a href="#B-数据展示" class="headerlink" title="B.数据展示"></a>B.数据展示</h4><p>添加数据表格展示数据以及分页功能的实现,搜索功能的实现<br>在main.js中添加过滤器：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;创建过滤器将秒数过滤为年月日，时分秒</span><br><span class="line">Vue.filter(&#39;dateFormat&#39;,function(originVal)&#123;</span><br><span class="line">  const dt &#x3D; new Date(originVal)</span><br><span class="line">  const y &#x3D; dt.getFullYear()</span><br><span class="line">  const m &#x3D; (dt.getMonth()+1+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line">  const d &#x3D; (dt.getDate()+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line"></span><br><span class="line">  const hh &#x3D; (dt.getHours()+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line">  const mm &#x3D; (dt.getMinutes()+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line">  const ss &#x3D; (dt.getSeconds()+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line"></span><br><span class="line">  return &#96;$&#123;y&#125;-$&#123;m&#125;-$&#123;d&#125; $&#123;hh&#125;:$&#123;mm&#125;:$&#123;ss&#125;&#96;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">&lt;el-card&gt;</span><br><span class="line">    &lt;!-- 搜索栏 --&gt;</span><br><span class="line">    &lt;el-row :gutter&#x3D;&quot;20&quot;&gt;</span><br><span class="line">        &lt;el-col :span&#x3D;&quot;8&quot;&gt;</span><br><span class="line">            &lt;el-input placeholder&#x3D;&quot;请输入内容&quot; v-model&#x3D;&quot;queryInfo.query&quot; clearable @clear&#x3D;&quot;getGoodsList&quot;&gt;</span><br><span class="line">                &lt;el-button slot&#x3D;&quot;append&quot; icon&#x3D;&quot;el-icon-search&quot; @click&#x3D;&quot;getGoodsList&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-col&gt;</span><br><span class="line">        &lt;el-col :span&#x3D;&quot;4&quot;&gt;</span><br><span class="line">            &lt;el-button type&#x3D;&quot;primary&quot;&gt;添加商品&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;el-col&gt;</span><br><span class="line">    &lt;&#x2F;el-row&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 表格区域 --&gt;</span><br><span class="line">    &lt;el-table :data&#x3D;&quot;goodsList&quot; border stripe&gt;</span><br><span class="line">        &lt;el-table-column type&#x3D;&quot;index&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;商品名称&quot; prop&#x3D;&quot;goods_name&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;商品价格(元)&quot; prop&#x3D;&quot;goods_price&quot; width&#x3D;&quot;95px&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;商品重量&quot; prop&#x3D;&quot;goods_weight&quot; width&#x3D;&quot;95px&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;创建时间&quot; prop&#x3D;&quot;add_time&quot; width&#x3D;&quot;140px&quot;&gt;</span><br><span class="line">            &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                &#123;&#123;scope.row.add_time | dateFormat&#125;&#125;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;操作&quot; width&#x3D;&quot;125px&quot;&gt;</span><br><span class="line">            &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-edit&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">                &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;&#x2F;el-table&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 分页 --&gt;</span><br><span class="line">    &lt;el-pagination @size-change&#x3D;&quot;handleSizeChange&quot; @current-change&#x3D;&quot;handleCurrentChange&quot; :current-page&#x3D;&quot;queryInfo.pagenum&quot; :page-sizes&#x3D;&quot;[3, 5, 10, 15]&quot; :page-size&#x3D;&quot;queryInfo.pagesize&quot; layout&#x3D;&quot;total, sizes, prev, pager, next, jumper&quot; :total&#x3D;&quot;total&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-pagination&gt;</span><br><span class="line">&lt;&#x2F;el-card&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;绑定数据以及添加方法</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F;查询参数</span><br><span class="line">      queryInfo: &#123;</span><br><span class="line">        query: &#39;&#39;,</span><br><span class="line">        pagenum: 1,</span><br><span class="line">        pagesize: 10</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;保存商品列表信息</span><br><span class="line">      goodsList: [],</span><br><span class="line">      &#x2F;&#x2F;总数据条数</span><br><span class="line">      total: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.getGoodsList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async getGoodsList() &#123;</span><br><span class="line">      &#x2F;&#x2F;   根据分页获取对应的商品列表</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;goods&#39;, &#123;</span><br><span class="line">        params: this.queryInfo</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">        return this.$message.error(&#39;获取商品列表失败&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">      console.log(res.data)</span><br><span class="line">      this.$message.success(&#39;获取商品列表成功&#39;)</span><br><span class="line">      this.goodsList &#x3D; res.data.goods</span><br><span class="line">      this.total &#x3D; res.data.total</span><br><span class="line">    &#125;,</span><br><span class="line">    handleSizeChange(newSize)&#123;</span><br><span class="line">        &#x2F;&#x2F;当页号发生改变时，更改pagesize，重新请求</span><br><span class="line">        this.queryInfo.pagesize &#x3D; newSize</span><br><span class="line">        this.getGoodsList();</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCurrentChange(newPage)&#123;</span><br><span class="line">        &#x2F;&#x2F;当页码发生改变时，更改pagesize，重新请求</span><br><span class="line">        this.queryInfo.pagenum &#x3D; newPage</span><br><span class="line">        this.getGoodsList();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="C-实现删除商品"><a href="#C-实现删除商品" class="headerlink" title="C.实现删除商品"></a>C.实现删除商品</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;绑定按钮点击事件</span><br><span class="line">&lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot; @click&#x3D;&quot;removeGoods(scope.row.goods_id)&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;事件函数代码编写</span><br><span class="line">async removeGoods(goods_id) &#123;</span><br><span class="line">  &#x2F;&#x2F;根据id删除对应的参数或属性</span><br><span class="line">  &#x2F;&#x2F;弹窗提示用户是否要删除</span><br><span class="line">  const confirmResult &#x3D; await this.$confirm(</span><br><span class="line">    &#39;请问是否要删除该商品&#39;,</span><br><span class="line">    &#39;删除提示&#39;,</span><br><span class="line">    &#123;</span><br><span class="line">      confirmButtonText: &#39;确认删除&#39;,</span><br><span class="line">      cancelButtonText: &#39;取消&#39;,</span><br><span class="line">      type: &#39;warning&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  ).catch(err &#x3D;&gt; err)</span><br><span class="line">  &#x2F;&#x2F;如果用户点击确认，则confirmResult 为&#39;confirm&#39;</span><br><span class="line">  &#x2F;&#x2F;如果用户点击取消, 则confirmResult获取的就是catch的错误消息&#39;cancel&#39;</span><br><span class="line">  if (confirmResult !&#x3D; &#39;confirm&#39;) &#123;</span><br><span class="line">    return this.$message.info(&#39;已经取消删除&#39;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;没有取消就是要删除，发送请求完成删除</span><br><span class="line">  const &#123;data:res&#125; &#x3D; await this.$http.delete(&#96;goods&#x2F;$&#123;goods_id&#125;&#96;)</span><br><span class="line"></span><br><span class="line">  if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">    return this.$message.error(&#39;删除商品失败&#39;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.$message.success(&#39;删除商品成功&#39;)</span><br><span class="line">  this.getGoodsList()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-添加商品"><a href="#4-添加商品" class="headerlink" title="4.添加商品"></a>4.添加商品</h3><h4 id="A-添加编程式导航"><a href="#A-添加编程式导航" class="headerlink" title="A.添加编程式导航"></a>A.添加编程式导航</h4><p>在List.vue中添加编程式导航，并创建添加商品路由组件及规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;在List.vue中添加编程式导航</span><br><span class="line">&lt;el-col :span&#x3D;&quot;4&quot;&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;goAddPage&quot;&gt;添加商品&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-col&gt;</span><br><span class="line"></span><br><span class="line">goAddPage()&#123;</span><br><span class="line">    this.$router.push(&#39;&#x2F;goods&#x2F;add&#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在router.js中引入goods/Add.vue,并添加路由规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import GoodAdd from &#39;.&#x2F;components&#x2F;goods&#x2F;Add.vue&#39;</span><br><span class="line">path: &#39;&#x2F;home&#39;, component: Home, redirect: &#39;&#x2F;welcome&#39;, children: [</span><br><span class="line">  &#123; path: &quot;&#x2F;welcome&quot;, component: Welcome &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;users&quot;, component: Users &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;rights&quot;, component: Rights &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;roles&quot;, component: Roles  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;categories&quot;, component: Cate  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;params&quot;, component: Params  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;goods&quot;, component: GoodList  &#125;,</span><br><span class="line">  &#123; path: &quot;&#x2F;goods&#x2F;add&quot;, component: GoodAdd  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="B-布局Add-vue组件"><a href="#B-布局Add-vue组件" class="headerlink" title="B.布局Add.vue组件"></a>B.布局Add.vue组件</h4><p>布局过程中需要使用Steps组件，在element.js中引入并注册该组件，并在global.css中给组件设置全局样式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123;Steps,Step&#125; from &#39;element-ui&#39;</span><br><span class="line">Vue.use(Step)</span><br><span class="line">Vue.use(Steps)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;global.css</span><br><span class="line">.el-steps&#123;</span><br><span class="line">    margin:15px 0;</span><br><span class="line">&#125;</span><br><span class="line">.el-step__title&#123;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后再在Add.vue中进行页面布局</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;添加商品&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;!-- 面包屑导航 --&gt;</span><br><span class="line">        &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">            &lt;el-breadcrumb-item :to&#x3D;&quot;&#123; path: &#39;&#x2F;home&#39; &#125;&quot;&gt;首页&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;商品管理&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">            &lt;el-breadcrumb-item&gt;添加商品&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">        &lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">        &lt;el-card&gt;</span><br><span class="line">            &lt;!-- 消息提示 --&gt;</span><br><span class="line">            &lt;el-alert title&#x3D;&quot;添加商品信息&quot; type&#x3D;&quot;info&quot; center show-icon :closable&#x3D;&quot;false&quot;&gt;</span><br><span class="line">            &lt;&#x2F;el-alert&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 步骤条组件 --&gt;</span><br><span class="line">            &lt;!-- align-center(居中效果) --&gt;</span><br><span class="line">            &lt;el-steps :space&#x3D;&quot;200&quot; :active&#x3D;&quot;activeIndex - 0&quot; finish-status&#x3D;&quot;success&quot; align-center&gt;</span><br><span class="line">                &lt;el-step title&#x3D;&quot;基本信息&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">                &lt;el-step title&#x3D;&quot;商品参数&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">                &lt;el-step title&#x3D;&quot;商品属性&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">                &lt;el-step title&#x3D;&quot;商品图片&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">                &lt;el-step title&#x3D;&quot;商品内容&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">                &lt;el-step title&#x3D;&quot;完成&quot;&gt;&lt;&#x2F;el-step&gt;</span><br><span class="line">            &lt;&#x2F;el-steps&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- tab栏区域:el-tab-pane必须是el-tabs的子节点</span><br><span class="line">            :tab-position&#x3D;&quot;&#39;left&#39;&quot;(设置tab栏为左右结构tab栏) --&gt;</span><br><span class="line">            &lt;!-- 表单：label-position&#x3D;&quot;top&quot;(设置label在文本框上方) --&gt;</span><br><span class="line">            &lt;el-form :model&#x3D;&quot;addForm&quot; :rules&#x3D;&quot;addFormRules&quot; ref&#x3D;&quot;addFormRef&quot; label-width&#x3D;&quot;100px&quot; label-position&#x3D;&quot;top&quot;&gt;</span><br><span class="line">                &lt;el-tabs v-model&#x3D;&quot;activeIndex&quot; :tab-position&#x3D;&quot;&#39;left&#39;&quot;&gt;</span><br><span class="line">                    &lt;el-tab-pane label&#x3D;&quot;基本信息&quot; name&#x3D;&quot;0&quot;&gt;</span><br><span class="line">                        &lt;el-form-item label&#x3D;&quot;商品名称&quot; prop&#x3D;&quot;goods_name&quot;&gt;</span><br><span class="line">                            &lt;el-input v-model&#x3D;&quot;addForm.goods_name&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                        &lt;el-form-item label&#x3D;&quot;商品价格&quot; prop&#x3D;&quot;goods_price&quot;&gt;</span><br><span class="line">                            &lt;el-input v-model&#x3D;&quot;addForm.goods_price&quot; type&#x3D;&quot;number&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                        &lt;el-form-item label&#x3D;&quot;商品重量&quot; prop&#x3D;&quot;goods_weight&quot;&gt;</span><br><span class="line">                            &lt;el-input v-model&#x3D;&quot;addForm.goods_weight&quot; type&#x3D;&quot;number&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                        &lt;el-form-item label&#x3D;&quot;商品数量&quot; prop&#x3D;&quot;goods_number&quot;&gt;</span><br><span class="line">                            &lt;el-input v-model&#x3D;&quot;addForm.goods_number&quot; type&#x3D;&quot;number&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                        &lt;el-form-item label&#x3D;&quot;商品分类&quot; prop&#x3D;&quot;goods_cat&quot;&gt;</span><br><span class="line">                            &lt;!-- 选择商品分类的级联选择框 --&gt;</span><br><span class="line">                            &lt;el-cascader expandTrigger&#x3D;&#39;hover&#39; v-model&#x3D;&quot;addForm.goods_cat&quot; :options&#x3D;&quot;cateList&quot; :props&#x3D;&quot;cateProps&quot; @change&#x3D;&quot;handleChange&quot; clearable&gt;&lt;&#x2F;el-cascader&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                    &lt;&#x2F;el-tab-pane&gt;</span><br><span class="line">                    &lt;el-tab-pane label&#x3D;&quot;商品参数&quot; name&#x3D;&quot;1&quot;&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;&#x2F;el-tab-pane&gt;</span><br><span class="line">                    &lt;el-tab-pane label&#x3D;&quot;商品属性&quot; name&#x3D;&quot;2&quot;&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;&#x2F;el-tab-pane&gt;</span><br><span class="line">                    &lt;el-tab-pane label&#x3D;&quot;商品图片&quot; name&#x3D;&quot;3&quot;&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;&#x2F;el-tab-pane&gt;</span><br><span class="line">                    &lt;el-tab-pane label&#x3D;&quot;商品内容&quot; name&#x3D;&quot;4&quot;&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;&#x2F;el-tab-pane&gt;</span><br><span class="line">                &lt;&#x2F;el-tabs&gt;</span><br><span class="line">            &lt;&#x2F;el-form&gt;</span><br><span class="line">        &lt;&#x2F;el-card&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F;保存步骤条激活项索引</span><br><span class="line">      activeIndex: &#39;0&#39;,</span><br><span class="line">      &#x2F;&#x2F;添加商品的表单数据对象</span><br><span class="line">      addForm: &#123;</span><br><span class="line">        goods_name: &#39;&#39;,</span><br><span class="line">        goods_price: 0,</span><br><span class="line">        goods_weight: 0,</span><br><span class="line">        goods_number: 0,</span><br><span class="line">        goods_cat:[]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;验证规则</span><br><span class="line">      addFormRules: &#123;</span><br><span class="line">        goods_name: [</span><br><span class="line">          &#123; required: true, message: &#39;请输入商品名称&#39;, trigger: &#39;blur&#39; &#125;</span><br><span class="line">        ],</span><br><span class="line">        goods_price: [</span><br><span class="line">          &#123; required: true, message: &#39;请输入商品价格&#39;, trigger: &#39;blur&#39; &#125;</span><br><span class="line">        ],</span><br><span class="line">        goods_weight: [</span><br><span class="line">          &#123; required: true, message: &#39;请输入商品重量&#39;, trigger: &#39;blur&#39; &#125;</span><br><span class="line">        ],</span><br><span class="line">        goods_number: [</span><br><span class="line">          &#123; required: true, message: &#39;请输入商品数量&#39;, trigger: &#39;blur&#39; &#125;</span><br><span class="line">        ],</span><br><span class="line">        goods_cat: [</span><br><span class="line">          &#123; required: true, message: &#39;请选择商品分类&#39;, trigger: &#39;blur&#39; &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;用来保存分类数据</span><br><span class="line">      cateList: [],</span><br><span class="line">      &#x2F;&#x2F;配置级联菜单中数据如何展示</span><br><span class="line">      cateProps: &#123;</span><br><span class="line">        value: &#39;cat_id&#39;,</span><br><span class="line">        label: &#39;cat_name&#39;,</span><br><span class="line">        children: &#39;children&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.getCateList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async getCateList() &#123;</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;categories&#39;)</span><br><span class="line"></span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">        return this.$message.error(&#39;获取商品分类数据失败&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">      this.cateList &#x3D; res.data</span><br><span class="line">    &#125;,</span><br><span class="line">    handleChange()&#123;</span><br><span class="line">      &#x2F;&#x2F;如果用户选择的不是三级分类,该次选择无效，因为必须选择三级分类</span><br><span class="line">      if(this.addForm.goods_cat.length !&#x3D;&#x3D; 3)&#123;</span><br><span class="line">        this.addForm.goods_cat &#x3D; []</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h4 id="C-添加tab栏切换验证"><a href="#C-添加tab栏切换验证" class="headerlink" title="C.添加tab栏切换验证"></a>C.添加tab栏切换验证</h4><p>也就是说不输入某些内容，无法切换到别的tab栏</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;首先给tabs添加tab切换前事件</span><br><span class="line">&lt;el-tabs v-model&#x3D;&quot;activeIndex&quot; :tab-position&#x3D;&quot;&#39;left&#39;&quot; :before-leave&#x3D;&quot;beforeTabLeave&quot;&gt;</span><br><span class="line">......</span><br><span class="line">&lt;&#x2F;el-tabs&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;再到methods编写事件函数beforeTabLeave</span><br><span class="line">beforeTabLeave(activeName,oldActiveName)&#123;</span><br><span class="line">  &#x2F;&#x2F;在tab栏切换之前触发，两个形参为切换前，后的tab栏name</span><br><span class="line">  if(oldActiveName &#x3D;&#x3D;&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">      &#x2F;&#x2F;在第一个标签页的时候</span><br><span class="line">      if(this.addForm.goods_cat.length !&#x3D;&#x3D; 3)&#123;</span><br><span class="line">          this.$message.error(&#39;请选择商品的分类&#39;)</span><br><span class="line">          return false</span><br><span class="line">      &#125;else if(this.addForm.goods_name.trim() &#x3D;&#x3D;&#x3D; &#39;&#39;)&#123;</span><br><span class="line">          this.$message.error(&#39;请输入商品名称&#39;)</span><br><span class="line">          return false</span><br><span class="line">      &#125;else if(this.addForm.goods_price.trim() &#x3D;&#x3D;&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">          this.$message.error(&#39;请输入商品价格&#39;)</span><br><span class="line">          return false</span><br><span class="line">      &#125;else if(this.addForm.goods_weight.trim() &#x3D;&#x3D;&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">          this.$message.error(&#39;请输入商品重量&#39;)</span><br><span class="line">          return false</span><br><span class="line">      &#125;else if(this.addForm.goods_number.trim() &#x3D;&#x3D;&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">          this.$message.error(&#39;请输入商品数量&#39;)</span><br><span class="line">          return false</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="D-展示信息"><a href="#D-展示信息" class="headerlink" title="D.展示信息"></a>D.展示信息</h4><p>展示商品参数信息,商品属性信息<br>在商品参数信息展示中使用的el-checkbox,el-checkbox-group组件，打开element.js引入组件并注册组件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;在用户点击tab栏时触发事件</span><br><span class="line">&lt;el-tabs v-model&#x3D;&quot;activeIndex&quot; :tab-position&#x3D;&quot;&#39;left&#39;&quot; :before-leave&#x3D;&quot;beforeTabLeave&quot; @tab-click&#x3D;&quot;tabClicked&quot;&gt;</span><br><span class="line">........</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;在参数信息，商品属性面板中添加循环生成结构的代码</span><br><span class="line">&lt;el-tab-pane label&#x3D;&quot;商品参数&quot; name&#x3D;&quot;1&quot;&gt;</span><br><span class="line">  &lt;!-- 渲染表单item项 --&gt;</span><br><span class="line">  &lt;el-form-item :label&#x3D;&quot;item.attr_name&quot; :key&#x3D;&quot;item.attr_id&quot; v-for&#x3D;&quot;item in manyTableData&quot;&gt;</span><br><span class="line">      &lt;!-- 使用数组渲染复选框组 --&gt;</span><br><span class="line">      &lt;el-checkbox-group v-model&#x3D;&quot;item.attr_vals&quot;&gt;</span><br><span class="line">          &lt;el-checkbox border :label&#x3D;&quot;val&quot; v-for&#x3D;&quot;(val,i) in item.attr_vals&quot; :key&#x3D;&quot;i&quot;&gt;&lt;&#x2F;el-checkbox&gt;</span><br><span class="line">      &lt;&#x2F;el-checkbox-group&gt;</span><br><span class="line">  &lt;&#x2F;el-form-item&gt;</span><br><span class="line">&lt;&#x2F;el-tab-pane&gt;</span><br><span class="line">&lt;el-tab-pane label&#x3D;&quot;商品属性&quot; name&#x3D;&quot;2&quot;&gt;</span><br><span class="line">  &lt;!-- 循环生成静态属性 --&gt;</span><br><span class="line">  &lt;el-form-item :label&#x3D;&quot;item.attr_name&quot; v-for&#x3D;&quot;item in onlyTableData&quot; :key&#x3D;&quot;item.attr_id&quot;&gt;</span><br><span class="line">      &lt;el-input v-model&#x3D;&quot;item.attr_vals&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">  &lt;&#x2F;el-form-item&gt;</span><br><span class="line">&lt;&#x2F;el-tab-pane&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;在data数据中添加保存动态参数和静态属性的数组</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      ......</span><br><span class="line">      &#x2F;&#x2F;动态参数列表</span><br><span class="line">      manyTableData: [],</span><br><span class="line">      &#x2F;&#x2F;静态属性列表</span><br><span class="line">      onlyTableData:[]</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,methods: &#123;</span><br><span class="line">    .......</span><br><span class="line">    async tabClicked() &#123;</span><br><span class="line">      &#x2F;&#x2F;当用户点击切换tab栏时触发</span><br><span class="line">      if (this.activeIndex &#x3D;&#x3D;&#x3D; &#39;1&#39;) &#123;</span><br><span class="line">        &#x2F;&#x2F;发送请求获取动态参数</span><br><span class="line">        const &#123; data: res &#125; &#x3D; await this.$http.get(</span><br><span class="line">          &#96;categories&#x2F;$&#123;this.cateId&#125;&#x2F;attributes&#96;,</span><br><span class="line">          &#123; params: &#123; sel: &#39;many&#39; &#125; &#125;</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">          return this.$message.error(&#39;获取动态参数列表失败&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;将attr_vals字符串转换为数组</span><br><span class="line">        res.data.forEach(item &#x3D;&gt; &#123;</span><br><span class="line">          item.attr_vals &#x3D;</span><br><span class="line">            item.attr_vals.length &#x3D;&#x3D;&#x3D; 0 ? [] : item.attr_vals.split(&#39; &#39;)</span><br><span class="line">        &#125;)</span><br><span class="line">        this.manyTableData &#x3D; res.data</span><br><span class="line">      &#125; else if (this.activeIndex &#x3D;&#x3D;&#x3D; &#39;2&#39;) &#123;</span><br><span class="line">        &#x2F;&#x2F;发送请求获取静态属性</span><br><span class="line">        const &#123; data: res &#125; &#x3D; await this.$http.get(</span><br><span class="line">          &#96;categories&#x2F;$&#123;this.cateId&#125;&#x2F;attributes&#96;,</span><br><span class="line">          &#123; params: &#123; sel: &#39;only&#39; &#125; &#125;</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">          return this.$message.error(&#39;获取静态属性列表失败&#39;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        this.onlyTableData &#x3D; res.data</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F;添加 计算属性获取三级分类</span><br><span class="line">  computed: &#123;</span><br><span class="line">    cateId() &#123;</span><br><span class="line">      if (this.addForm.goods_cat.length &#x3D;&#x3D;&#x3D; 3) &#123;</span><br><span class="line">        return this.addForm.goods_cat[2]</span><br><span class="line">      &#125;</span><br><span class="line">      return null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="前端" scheme="http://codehao.top/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Vue" scheme="http://codehao.top/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>vue项目实战--LAM系统（七）</title>
    <link href="http://codehao.top/cl15275kt000oiwlaar3na1hy/"/>
    <id>http://codehao.top/cl15275kt000oiwlaar3na1hy/</id>
    <published>2022-03-15T13:32:04.495Z</published>
    <updated>2020-09-08T11:42:48.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="Vue项目实战-LAM系统（完结）"><a href="#Vue项目实战-LAM系统（完结）" class="headerlink" title="Vue项目实战-LAM系统（完结）"></a>Vue项目实战-LAM系统（完结）</h3><blockquote><p>1.完成项目优化<br>2.完成项目上线</p></blockquote><h3 id="1-项目优化"><a href="#1-项目优化" class="headerlink" title="1.项目优化"></a>1.项目优化</h3><p>实现步骤：<br>A.生成打包报告，根据报告优化项目<br>B.第三方库启用CDN<br>C.Element-UI组件按需加载<br>D.路由懒加载<br>E.首页内容定制</p><h3 id="2-添加进度条"><a href="#2-添加进度条" class="headerlink" title="2.添加进度条"></a>2.添加进度条</h3><p>给项目添加进度条效果，先打开项目控制台，打开依赖，安装nprogress<br>打开main.js，编写如下代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;导入进度条插件</span><br><span class="line">import NProgress from &#39;nprogress&#39;</span><br><span class="line">&#x2F;&#x2F;导入进度条样式</span><br><span class="line">import &#39;nprogress&#x2F;nprogress.css&#39;</span><br><span class="line">.....</span><br><span class="line">&#x2F;&#x2F;请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息</span><br><span class="line">axios.interceptors.request.use(config &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F;当进入request拦截器，表示发送了请求，我们就开启进度条</span><br><span class="line">  NProgress.start()</span><br><span class="line">  &#x2F;&#x2F;为请求头对象，添加token验证的Authorization字段</span><br><span class="line">  config.headers.Authorization &#x3D; window.sessionStorage.getItem(&quot;token&quot;)</span><br><span class="line">  &#x2F;&#x2F;必须返回config</span><br><span class="line">  return config</span><br><span class="line">&#125;)</span><br><span class="line">&#x2F;&#x2F;在response拦截器中，隐藏进度条</span><br><span class="line">axios.interceptors.response.use(config &#x3D;&gt;&#123;</span><br><span class="line">  &#x2F;&#x2F;当进入response拦截器，表示请求已经结束，我们就结束进度条</span><br><span class="line">  NProgress.done()</span><br><span class="line">  return config</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="3-根据报错修改代码"><a href="#3-根据报错修改代码" class="headerlink" title="3.根据报错修改代码"></a>3.根据报错修改代码</h3><p>根据ESLint的警告提示更改对应的代码<br>在.prettierrc文件中更改设置”printWidth”:200,  将每行代码的文字数量更改为200</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;semi&quot;:false,</span><br><span class="line">    &quot;singleQuote&quot;:true,</span><br><span class="line">    &quot;printWidth&quot;:200</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-执行build"><a href="#4-执行build" class="headerlink" title="4.执行build"></a>4.执行build</h3><p>安装一个插件（babel-plugin-transform-remove-console）在项目build阶段移除所有的console信息<br>打开项目控制台，点击依赖-&gt;开发依赖，输入babel-plugin-transform-remove-console，安装<br>打开babel.config.js，编辑代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;项目发布阶段需要用到的babel插件</span><br><span class="line">const productPlugins &#x3D; []</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;判断是开发还是发布阶段</span><br><span class="line">if(process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;)&#123;</span><br><span class="line">  &#x2F;&#x2F;发布阶段</span><br><span class="line">  productPlugins.push(&quot;transform-remove-console&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  &quot;presets&quot;: [</span><br><span class="line">    &quot;@vue&#x2F;app&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;plugins&quot;: [</span><br><span class="line">    [</span><br><span class="line">      &quot;component&quot;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;libraryName&quot;: &quot;element-ui&quot;,</span><br><span class="line">        &quot;styleLibraryName&quot;: &quot;theme-chalk&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    ...productPlugins</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-生成打包报告"><a href="#5-生成打包报告" class="headerlink" title="5.生成打包报告"></a>5.生成打包报告</h3><p>A.命令行形式生成打包报告<br>vue-cli-service build –report<br>B.在vue控制台生成打包报告<br>点击“任务”=&gt;“build”=&gt;“运行”<br>运行完毕之后点击右侧“分析”，“控制台”面板查看报告</p><h3 id="6-修改webpack的默认配置"><a href="#6-修改webpack的默认配置" class="headerlink" title="6.修改webpack的默认配置"></a>6.修改webpack的默认配置</h3><p>默认情况下，vue-cli 3.0生成的项目，隐藏了webpack配置项，如果我们需要配置webpack<br>需要通过vue.config.js来配置。<br>在项目根目录中创建vue.config.js文件，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    chainWebpack:config&#x3D;&gt;&#123;</span><br><span class="line">        &#x2F;&#x2F;发布模式</span><br><span class="line">        config.when(process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;,config&#x3D;&gt;&#123;</span><br><span class="line">            &#x2F;&#x2F;entry找到默认的打包入口，调用clear则是删除默认的打包入口</span><br><span class="line">            &#x2F;&#x2F;add添加新的打包入口</span><br><span class="line">            config.entry(&#39;app&#39;).clear().add(&#39;.&#x2F;src&#x2F;main-prod.js&#39;)</span><br><span class="line">        &#125;)</span><br><span class="line">        &#x2F;&#x2F;开发模式</span><br><span class="line">        config.when(process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;development&#39;,config&#x3D;&gt;&#123;</span><br><span class="line">            config.entry(&#39;app&#39;).clear().add(&#39;.&#x2F;src&#x2F;main-dev.js&#39;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>补充：<br>chainWebpack可以通过链式编程的形式，修改webpack配置<br>configureWebpack可以通过操作对象的形式，修改webpack配置</p><h3 id="7-加载外部CDN"><a href="#7-加载外部CDN" class="headerlink" title="7.加载外部CDN"></a>7.加载外部CDN</h3><p>默认情况下，依赖项的所有第三方包都会被打包到js/chunk-vendors.<strong>**</strong>.js文件中，导致该js文件过大<br>那么我们可以通过externals排除这些包，使它们不被打包到js/chunk-vendors.<strong>**</strong>.js文件中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    chainWebpack:config&#x3D;&gt;&#123;</span><br><span class="line">        &#x2F;&#x2F;发布模式</span><br><span class="line">        config.when(process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;,config&#x3D;&gt;&#123;</span><br><span class="line">            &#x2F;&#x2F;entry找到默认的打包入口，调用clear则是删除默认的打包入口</span><br><span class="line">            &#x2F;&#x2F;add添加新的打包入口</span><br><span class="line">            config.entry(&#39;app&#39;).clear().add(&#39;.&#x2F;src&#x2F;main-prod.js&#39;)</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;使用externals设置排除项</span><br><span class="line">            config.set(&#39;externals&#39;,&#123;</span><br><span class="line">                vue:&#39;Vue&#39;,</span><br><span class="line">                &#39;vue-router&#39;:&#39;VueRouter&#39;,</span><br><span class="line">                axios:&#39;axios&#39;,</span><br><span class="line">                lodash:&#39;_&#39;,</span><br><span class="line">                echarts:&#39;echarts&#39;,</span><br><span class="line">                nprogress:&#39;NProgress&#39;,</span><br><span class="line">                &#39;vue-quill-editor&#39;:&#39;VueQuillEditor&#39;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        &#x2F;&#x2F;开发模式</span><br><span class="line">        config.when(process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;development&#39;,config&#x3D;&gt;&#123;</span><br><span class="line">            config.entry(&#39;app&#39;).clear().add(&#39;.&#x2F;src&#x2F;main-dev.js&#39;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>设置好排除之后，为了使我们可以使用vue，axios等内容，我们需要加载外部CDN的形式解决引入依赖项。<br>打开开发入口文件main-prod.js,删除掉默认的引入代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App.vue&#39;</span><br><span class="line">import router from &#39;.&#x2F;router&#39;</span><br><span class="line">&#x2F;&#x2F; import &#39;.&#x2F;plugins&#x2F;element.js&#39;</span><br><span class="line">&#x2F;&#x2F;导入字体图标</span><br><span class="line">import &#39;.&#x2F;assets&#x2F;fonts&#x2F;iconfont.css&#39;</span><br><span class="line">&#x2F;&#x2F;导入全局样式</span><br><span class="line">import &#39;.&#x2F;assets&#x2F;css&#x2F;global.css&#39;</span><br><span class="line">&#x2F;&#x2F;导入第三方组件vue-table-with-tree-grid</span><br><span class="line">import TreeTable from &#39;vue-table-with-tree-grid&#39;</span><br><span class="line">&#x2F;&#x2F;导入进度条插件</span><br><span class="line">import NProgress from &#39;nprogress&#39;</span><br><span class="line">&#x2F;&#x2F;导入进度条样式</span><br><span class="line">&#x2F;&#x2F; import &#39;nprogress&#x2F;nprogress.css&#39;</span><br><span class="line">&#x2F;&#x2F; &#x2F;&#x2F;导入axios</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">&#x2F;&#x2F; &#x2F;&#x2F;导入vue-quill-editor（富文本编辑器）</span><br><span class="line">import VueQuillEditor from &#39;vue-quill-editor&#39;</span><br><span class="line">&#x2F;&#x2F; &#x2F;&#x2F;导入vue-quill-editor的样式</span><br><span class="line">&#x2F;&#x2F; import &#39;quill&#x2F;dist&#x2F;quill.core.css&#39;</span><br><span class="line">&#x2F;&#x2F; import &#39;quill&#x2F;dist&#x2F;quill.snow.css&#39;</span><br><span class="line">&#x2F;&#x2F; import &#39;quill&#x2F;dist&#x2F;quill.bubble.css&#39;</span><br><span class="line"></span><br><span class="line">axios.defaults.baseURL &#x3D; &#39;http:&#x2F;&#x2F;127.0.0.1:8888&#x2F;api&#x2F;private&#x2F;v1&#x2F;&#39;</span><br><span class="line">&#x2F;&#x2F;请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息</span><br><span class="line">axios.interceptors.request.use(config &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F;当进入request拦截器，表示发送了请求，我们就开启进度条</span><br><span class="line">  NProgress.start()</span><br><span class="line">  &#x2F;&#x2F;为请求头对象，添加token验证的Authorization字段</span><br><span class="line">  config.headers.Authorization &#x3D; window.sessionStorage.getItem(&quot;token&quot;)</span><br><span class="line">  &#x2F;&#x2F;必须返回config</span><br><span class="line">  return config</span><br><span class="line">&#125;)</span><br><span class="line">&#x2F;&#x2F;在response拦截器中，隐藏进度条</span><br><span class="line">axios.interceptors.response.use(config &#x3D;&gt;&#123;</span><br><span class="line">  &#x2F;&#x2F;当进入response拦截器，表示请求已经结束，我们就结束进度条</span><br><span class="line">  NProgress.done()</span><br><span class="line">  return config</span><br><span class="line">&#125;)</span><br><span class="line">Vue.prototype.$http &#x3D; axios</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip &#x3D; false</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;全局注册组件</span><br><span class="line">Vue.component(&#39;tree-table&#39;, TreeTable)</span><br><span class="line">&#x2F;&#x2F;全局注册富文本组件</span><br><span class="line">Vue.use(VueQuillEditor)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;创建过滤器将秒数过滤为年月日，时分秒</span><br><span class="line">Vue.filter(&#39;dateFormat&#39;,function(originVal)&#123;</span><br><span class="line">  const dt &#x3D; new Date(originVal)</span><br><span class="line">  const y &#x3D; dt.getFullYear()</span><br><span class="line">  const m &#x3D; (dt.getMonth()+1+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line">  const d &#x3D; (dt.getDate()+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line"></span><br><span class="line">  const hh &#x3D; (dt.getHours()+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line">  const mm &#x3D; (dt.getMinutes()+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line">  const ss &#x3D; (dt.getSeconds()+&#39;&#39;).padStart(2,&#39;0&#39;)</span><br><span class="line"></span><br><span class="line">  return &#96;$&#123;y&#125;-$&#123;m&#125;-$&#123;d&#125; $&#123;hh&#125;:$&#123;mm&#125;:$&#123;ss&#125;&#96;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  render: h &#x3D;&gt; h(App)</span><br><span class="line">&#125;).$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure><p>然后打开public/index.html添加外部cdn引入代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width,initial-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;icon&quot; href&#x3D;&quot;&lt;%&#x3D; BASE_URL %&gt;favicon.ico&quot;&gt;</span><br><span class="line">    &lt;title&gt;电商后台管理系统&lt;&#x2F;title&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- nprogress 的样式表文件 --&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;nprogress&#x2F;0.2.0&#x2F;nprogress.min.css&quot; &#x2F;&gt;</span><br><span class="line">    &lt;!-- 富文本编辑器 的样式表文件 --&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;quill&#x2F;1.3.4&#x2F;quill.core.min.css&quot; &#x2F;&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;quill&#x2F;1.3.4&#x2F;quill.snow.min.css&quot; &#x2F;&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;quill&#x2F;1.3.4&#x2F;quill.bubble.min.css&quot; &#x2F;&gt;</span><br><span class="line">    &lt;!-- element-ui 的样式表文件 --&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;element-ui&#x2F;2.8.2&#x2F;theme-chalk&#x2F;index.css&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;vue&#x2F;2.5.22&#x2F;vue.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;vue-router&#x2F;3.0.1&#x2F;vue-router.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;axios&#x2F;0.18.0&#x2F;axios.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;lodash.js&#x2F;4.17.11&#x2F;lodash.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;echarts&#x2F;4.1.0&#x2F;echarts.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;nprogress&#x2F;0.2.0&#x2F;nprogress.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;!-- 富文本编辑器的 js 文件 --&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;quill&#x2F;1.3.4&#x2F;quill.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue-quill-editor@3.0.4&#x2F;dist&#x2F;vue-quill-editor.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- element-ui 的 js 文件 --&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;element-ui&#x2F;2.8.2&#x2F;index.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;noscript&gt;</span><br><span class="line">      &lt;strong&gt;We&#39;re sorry but vue_shop doesn&#39;t work properly without JavaScript enabled. Please enable it to continue.&lt;&#x2F;strong&gt;</span><br><span class="line">    &lt;&#x2F;noscript&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;!-- built files will be auto injected --&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h3 id="8-定制首页内容"><a href="#8-定制首页内容" class="headerlink" title="8.定制首页内容"></a>8.定制首页内容</h3><p>开发环境的首页和发布环境的首页展示内容的形式有所不同<br>如开发环境中使用的是import加载第三方包，而发布环境则是使用CDN，那么首页也需根据环境不同来进行不同的实现<br>我们可以通过插件的方式来定制首页内容，打开vue.config.js，编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    chainWebpack:config&#x3D;&gt;&#123;</span><br><span class="line">        config.when(process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;,config&#x3D;&gt;&#123;</span><br><span class="line">            ......</span><br><span class="line">            </span><br><span class="line">            &#x2F;&#x2F;使用插件</span><br><span class="line">            config.plugin(&#39;html&#39;).tap(args&#x3D;&gt;&#123;</span><br><span class="line">                &#x2F;&#x2F;添加参数isProd</span><br><span class="line">                args[0].isProd &#x3D; true</span><br><span class="line">                return args</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        config.when(process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;development&#39;,config&#x3D;&gt;&#123;</span><br><span class="line">            config.entry(&#39;app&#39;).clear().add(&#39;.&#x2F;src&#x2F;main-dev.js&#39;)</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;使用插件</span><br><span class="line">            config.plugin(&#39;html&#39;).tap(args&#x3D;&gt;&#123;</span><br><span class="line">                &#x2F;&#x2F;添加参数isProd</span><br><span class="line">                args[0].isProd &#x3D; false</span><br><span class="line">                return args</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在public/index.html中使用插件判断是否为发布环境并定制首页内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width,initial-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;icon&quot; href&#x3D;&quot;&lt;%&#x3D; BASE_URL %&gt;favicon.ico&quot;&gt;</span><br><span class="line">    &lt;title&gt;&lt;%&#x3D; htmlWebpackPlugin.options.isProd ? &#39;&#39; : &#39;dev - &#39; %&gt;电商后台管理系统&lt;&#x2F;title&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if(htmlWebpackPlugin.options.isProd)&#123; %&gt;</span><br><span class="line">    &lt;!-- nprogress 的样式表文件 --&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;nprogress&#x2F;0.2.0&#x2F;nprogress.min.css&quot; &#x2F;&gt;</span><br><span class="line">    ........</span><br><span class="line">    &lt;!-- element-ui 的 js 文件 --&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;element-ui&#x2F;2.8.2&#x2F;index.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  .......</span><br></pre></td></tr></table></figure><h3 id="9-路由懒加载"><a href="#9-路由懒加载" class="headerlink" title="9.路由懒加载"></a>9.路由懒加载</h3><p>当路由被访问时才加载对应的路由文件，就是路由懒加载。<br>路由懒加载实现步骤：<br>1.安装 @babel/plugin-syntax-dynamic-import<br>打开vue控制台，点击依赖-&gt;安装依赖-&gt;开发依赖-&gt;搜索@babel/plugin-syntax-dynamic-import<br>点击安装。</p><p>2.在babel.config.js中声明该插件，打开babel.config.js</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;项目发布阶段需要用到的babel插件</span><br><span class="line">const productPlugins &#x3D; []</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;判断是开发还是发布阶段</span><br><span class="line">if(process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;)&#123;</span><br><span class="line">  &#x2F;&#x2F;发布阶段</span><br><span class="line">  productPlugins.push(&quot;transform-remove-console&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  &quot;presets&quot;: [</span><br><span class="line">    &quot;@vue&#x2F;app&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;plugins&quot;: [</span><br><span class="line">    [</span><br><span class="line">      &quot;component&quot;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;libraryName&quot;: &quot;element-ui&quot;,</span><br><span class="line">        &quot;styleLibraryName&quot;: &quot;theme-chalk&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    ...productPlugins,</span><br><span class="line">    &#x2F;&#x2F;配置路由懒加载插件</span><br><span class="line">    &quot;@babel&#x2F;plugin-syntax-dynamic-import&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.将路由更改为按需加载的形式，打开router.js，更改引入组件代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line">const Login &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;login_home_welcome&quot; *&#x2F; &#39;.&#x2F;components&#x2F;Login.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Login from &#39;.&#x2F;components&#x2F;Login.vue&#39;</span><br><span class="line">const Home &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;login_home_welcome&quot; *&#x2F; &#39;.&#x2F;components&#x2F;Home.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Home from &#39;.&#x2F;components&#x2F;Home.vue&#39;</span><br><span class="line">const Welcome &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;login_home_welcome&quot; *&#x2F; &#39;.&#x2F;components&#x2F;Welcome.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Welcome from &#39;.&#x2F;components&#x2F;Welcome.vue&#39;</span><br><span class="line">const Users &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;user&quot; *&#x2F; &#39;.&#x2F;components&#x2F;user&#x2F;Users.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Users from &#39;.&#x2F;components&#x2F;user&#x2F;Users.vue&#39;</span><br><span class="line">const Rights &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;power&quot; *&#x2F; &#39;.&#x2F;components&#x2F;power&#x2F;Rights.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Rights from &#39;.&#x2F;components&#x2F;power&#x2F;Rights.vue&#39;</span><br><span class="line">const Roles &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;power&quot; *&#x2F; &#39;.&#x2F;components&#x2F;power&#x2F;Roles.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Roles from &#39;.&#x2F;components&#x2F;power&#x2F;Roles.vue&#39;</span><br><span class="line">const Cate &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;goods&quot; *&#x2F; &#39;.&#x2F;components&#x2F;goods&#x2F;Cate.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Cate from &#39;.&#x2F;components&#x2F;goods&#x2F;Cate.vue&#39;</span><br><span class="line">const Params &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;goods&quot; *&#x2F; &#39;.&#x2F;components&#x2F;goods&#x2F;Params.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Params from &#39;.&#x2F;components&#x2F;goods&#x2F;Params.vue&#39;</span><br><span class="line">const GoodList &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;goods&quot; *&#x2F; &#39;.&#x2F;components&#x2F;goods&#x2F;List.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import GoodList from &#39;.&#x2F;components&#x2F;goods&#x2F;List.vue&#39;</span><br><span class="line">const GoodAdd &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;goods&quot; *&#x2F; &#39;.&#x2F;components&#x2F;goods&#x2F;Add.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import GoodAdd from &#39;.&#x2F;components&#x2F;goods&#x2F;Add.vue&#39;</span><br><span class="line">const Order &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;order&quot; *&#x2F; &#39;.&#x2F;components&#x2F;order&#x2F;Order.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Order from &#39;.&#x2F;components&#x2F;order&#x2F;Order.vue&#39;</span><br><span class="line">const Report &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName:&quot;report&quot; *&#x2F; &#39;.&#x2F;components&#x2F;report&#x2F;Report.vue&#39;)</span><br><span class="line">&#x2F;&#x2F; import Report from &#39;.&#x2F;components&#x2F;report&#x2F;Report.vue&#39;</span><br></pre></td></tr></table></figure><h3 id="10-项目上线"><a href="#10-项目上线" class="headerlink" title="10.项目上线"></a>10.项目上线</h3><h4 id="A-通过node创建服务器"><a href="#A-通过node创建服务器" class="headerlink" title="A.通过node创建服务器"></a>A.通过node创建服务器</h4><p>在vue_shop同级创建一个文件夹vue_shop_server存放node服务器<br>使用终端打开vue_shop_server文件夹，输入命令 npm init -y<br>初始化包之后，输入命令 npm i express -S<br>打开vue_shop目录，复制dist文件夹，粘贴到vue_shop_server中<br>在vue_shop_server文件夹中创建app.js文件,编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const express &#x3D; require(&#39;express&#39;)</span><br><span class="line"></span><br><span class="line">const app &#x3D; express()</span><br><span class="line"></span><br><span class="line">app.use(express.static(&#39;.&#x2F;dist&#39;))</span><br><span class="line"></span><br><span class="line">app.listen(8998,()&#x3D;&gt;&#123;</span><br><span class="line">    console.log(&quot;server running at http:&#x2F;&#x2F;127.0.0.1:8998&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>然后再次在终端中输入  node app.js</p><h4 id="B-开启gzip压缩"><a href="#B-开启gzip压缩" class="headerlink" title="B.开启gzip压缩"></a>B.开启gzip压缩</h4><p>打开vue_shop_server文件夹的终端，输入命令：npm i compression -D<br>打开app.js,编写代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const express &#x3D; require(&#39;express&#39;)</span><br><span class="line"></span><br><span class="line">const compression &#x3D; require(&#39;compression&#39;)</span><br><span class="line"></span><br><span class="line">const app &#x3D; express()</span><br><span class="line"></span><br><span class="line">app.use(compression())</span><br><span class="line">app.use(express.static(&#39;.&#x2F;dist&#39;))</span><br><span class="line"></span><br><span class="line">app.listen(8998,()&#x3D;&gt;&#123;</span><br><span class="line">    console.log(&quot;server running at http:&#x2F;&#x2F;127.0.0.1:8998&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="C-配置https服务"><a href="#C-配置https服务" class="headerlink" title="C.配置https服务"></a>C.配置https服务</h4><p>配置https服务一般是后台进行处理，前端开发人员了解即可。<br>首先，需要申请SSL证书，进入<a href="https://freessl.cn官网" target="_blank" rel="noopener">https://freessl.cn官网</a><br>在后台导入证书，打开今天资料/素材，复制素材中的两个文件到vue_shop_server中<br>打开app.js文件，编写代码导入证书，并开启https服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const express &#x3D; require(&#39;express&#39;)</span><br><span class="line">const compression &#x3D; require(&#39;compression&#39;)</span><br><span class="line">const https &#x3D; require(&#39;https&#39;)</span><br><span class="line">const fs &#x3D; require(&#39;fs&#39;)</span><br><span class="line"></span><br><span class="line">const app &#x3D; express()</span><br><span class="line">&#x2F;&#x2F;创建配置对象设置公钥和私钥</span><br><span class="line">const options &#x3D; &#123;</span><br><span class="line">    cert:fs.readFileSync(&#39;.&#x2F;full_chain.pem&#39;),</span><br><span class="line">    key:fs.readFileSync(&#39;.&#x2F;private.key&#39;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.use(compression())</span><br><span class="line">app.use(express.static(&#39;.&#x2F;dist&#39;))</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; app.listen(8998,()&#x3D;&gt;&#123;</span><br><span class="line">&#x2F;&#x2F;     console.log(&quot;server running at http:&#x2F;&#x2F;127.0.0.1:8998&quot;)</span><br><span class="line">&#x2F;&#x2F; &#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;启动https服务</span><br><span class="line">https.createServer(options,app).listen(443)</span><br></pre></td></tr></table></figure><p>注意：因为我们使用的证书有问题，所以无法正常使用https服务</p><h4 id="D-使用pm2管理应用"><a href="#D-使用pm2管理应用" class="headerlink" title="D.使用pm2管理应用"></a>D.使用pm2管理应用</h4><p>打开vue_shop_server文件夹的终端，输入命令：npm i pm2 -g<br>使用pm2启动项目，在终端中输入命令：pm2 start app.js –name 自定义名称<br>查看项目列表命令：pm2 ls<br>重启项目：pm2 restart 自定义名称<br>停止项目：pm2 stop 自定义名称<br>删除项目：pm2 delete 自定义名称</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="前端" scheme="http://codehao.top/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Vue" scheme="http://codehao.top/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>vue项目实战--LAM系统（一）</title>
    <link href="http://codehao.top/cl15275l2001biwla7r384c1m/"/>
    <id>http://codehao.top/cl15275l2001biwla7r384c1m/</id>
    <published>2022-03-15T13:32:04.482Z</published>
    <updated>2020-09-03T14:37:56.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="vue项目实战–LAM系统（Element-UI-No-1"><a href="#vue项目实战–LAM系统（Element-UI-No-1" class="headerlink" title="vue项目实战–LAM系统（Element-UI)    [No.1]"></a>vue项目实战–LAM系统（Element-UI)    [No.1]</h2><p>1.初始化项目<br>2.基于Vue技术栈进行项目开发<br>3.使用Vue的第三方组件进行项目开发<br>4.理解前后端分离开发模式</p><h3 id="1-LA业务概述"><a href="#1-LA业务概述" class="headerlink" title="1.LA业务概述"></a>1.LA业务概述</h3><p>客户使用的业务服务：PC端，小程序，移动web，移动app<br>管理员使用的业务服务：PC后台管理端。<br>PC后台管理端的功能：管理用户账号（登录，退出，用户管理，权限管理），药品管理（商品分类，分类参数，商品信息，订单），数据统计<br>LA后台管理系统采用前后端分离的开发模式<br>前端项目是基于Vue的SPA（单页应用程序）项目</p><p>前端技术栈:Vue,Vue-Router,Element-UI,Axios,Echarts<br>后端技术栈：Node.js,Express,Jwt(模拟session),Mysql,Sequelize(操作数据库的框架)</p><h3 id="2-项目初始化"><a href="#2-项目初始化" class="headerlink" title="2.项目初始化"></a>2.项目初始化</h3><p>A.安装Vue脚手架<br>B.通过脚手架创建项目<br>C.配置路由<br>D.配置Element-UI:在插件中安装，搜索vue-cli-plugin-element<br>E.配置Axios：在依赖中安装,搜索axios(运行依赖)<br>F.初始化git仓库<br>G.将本地项目托管到github或者码云中</p><h3 id="3-码云相关操作"><a href="#3-码云相关操作" class="headerlink" title="3.码云相关操作"></a>3.码云相关操作</h3><p>A.注册登录码云账号<br><img src="/" class="lazyload" data-src="images/%E6%B3%A8%E5%86%8C%E7%A0%81%E4%BA%91.jpg"  alt=""></p><p>B.安装git<br>    在Windows上使用Git，可以从Git官网直接下载安装程序进行安装。<br>    测试命令：git –version</p><p>C.点击网站右上角“登录”，登录码云，并进行账号设置<br><img src="/" class="lazyload" data-src="images/%E7%A0%81%E4%BA%91%E7%82%B9%E5%87%BB%E8%AE%BE%E7%BD%AE.jpg"  alt=""></p><p>D.在本地创建公钥：在终端运行：ssh-keygen -t rsa -C “<a href="mailto:xxx@xxx.com">xxx@xxx.com</a>“<br><img src="/" class="lazyload" data-src="images/%E5%88%9B%E5%BB%BA%E5%85%AC%E9%92%A5.jpg"  alt=""><br>E.找到公钥地址：<br>Your identification has been saved in /c/Users/My/.ssh/id_rsa.<br>Your public key has been saved in /c/Users/My/.ssh/id_rsa.pub.<br>当我们创建公钥完毕之后，请注意打印出来的信息“Your public key has been saved in”<br>/c/Users/My/.ssh/id_rsa.pub : c盘下面的Users下面的My下面的.ssh下面的id_rsa.pub就是我们创建好的公钥了</p><p>E.打开id_rsa.pub文件，复制文件中的所有代码，点击码云中的SSH公钥，将生成的公钥复制到公钥中<br><img src="/" class="lazyload" data-src="images/pub%E6%96%87%E4%BB%B6.jpg"  alt=""></p><p><img src="/" class="lazyload" data-src="images/ssh%E5%85%AC%E9%92%A5.jpg"  alt=""><br>G.测试公钥：打开终端，输入命令<br>ssh -T <a href="mailto:git@gitee.com">git@gitee.com</a><br><img src="/" class="lazyload" data-src="images/success.jpg"  alt=""></p><p>H.将本地代码托管到码云中<br>点击码云右上角的+号-&gt;新建仓库<br><img src="/" class="lazyload" data-src="images/%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93.jpg"  alt=""><br><img src="/" class="lazyload" data-src="images/%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%932.jpg"  alt=""></p><p>I.进行git配置：<br><img src="/" class="lazyload" data-src="images/config.jpg"  alt=""><br>打开项目所在位置的终端，进行git仓库关联<br><img src="/" class="lazyload" data-src="images/%E9%A1%B9%E7%9B%AE%E7%BB%88%E7%AB%AF%E6%89%A7%E8%A1%8C%E5%85%B3%E8%81%94.jpg"  alt=""></p><h3 id="4-配置后台项目"><a href="#4-配置后台项目" class="headerlink" title="4.配置后台项目"></a>4.配置后台项目</h3><p>A.安装phpStudy并导入mysql数据库数据<br><img src="/" class="lazyload" data-src="images/phpStudy.jpg"  alt=""></p><p><img src="/" class="lazyload" data-src="images/mysql.jpg"  alt=""><br>B.安装nodeJS，配置后台项目,从终端打开后台项目vue_api_server<br>然后在终端中输入命令安装项目依赖包：npm install</p><p>C.使用postman测试api接口<br><img src="/" class="lazyload" data-src="images/postman.jpg"  alt=""></p><h3 id="5-实现登录功能"><a href="#5-实现登录功能" class="headerlink" title="5.实现登录功能"></a>5.实现登录功能</h3><p>A.登录状态保持<br>如果服务器和客户端同源，建议可以使用cookie或者session来保持登录状态<br>如果客户端和服务器跨域了，建议使用token进行维持登录状态。</p><p>B.登录逻辑：<br>在登录页面输入账号和密码进行登录，将数据发送给服务器<br>服务器返回登录的结果，登录成功则返回数据中带有token<br>客户端得到token并进行保存，后续的请求都需要将此token发送给服务器，服务器会验证token以保证用户身份。</p><p>C.添加新分支login，在login分支中开发当前项目vue_shop：<br>打开vue_shop终端，使用git status确定当前项目状态。<br>确定当前工作目录是干净的之后，创建一个分支进行开发，开发完毕之后将其合并到master<br>git checkout -b login<br>然后查看新创建的分支：git branch<br>确定我们正在使用login分支进行开发<br><img src="/" class="lazyload" data-src="images/branch.jpg"  alt=""></p><p>然后执行vue ui命令打开ui界面，然后运行serve，运行app查看当前项目效果<br><img src="/" class="lazyload" data-src="images/ui%E7%95%8C%E9%9D%A2%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE.jpg"  alt=""></p><p>发现现在是一个默认页面，我们需要进行更改，打开项目的src目录，点击main.js文件（入口文件）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App.vue&#39;</span><br><span class="line">import router from &#39;.&#x2F;router&#39;</span><br><span class="line">import &#39;.&#x2F;plugins&#x2F;element.js&#39;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip &#x3D; false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  render: h &#x3D;&gt; h(App)</span><br><span class="line">&#125;).$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure><p>再打开App.vue(根组件)，将根组件的内容进行操作梳理(template中留下根节点，script中留下默认导出，去掉组件，style中去掉所有样式)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;app&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><p>再打开router.js(路由)，将routes数组中的路由规则清除，然后将views删除，将components中的helloworld.vue删除</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    </span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>在components文件夹中新建Login.vue组件,添加template，script，style标签,style标签中的scoped可以防止组件之间的样式冲突，没有scoped则样式是全局的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;login_container&quot;&gt;</span><br><span class="line">        </span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line">.login_container &#123;</span><br><span class="line">  background-color: #2b5b6b;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><p>在router.js中导入组件并设置规则<br>在App.vue中添加路由占位符</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const router &#x3D; new Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;&#x2F;&#39;, redirect: &#39;&#x2F;login&#39; &#125;,</span><br><span class="line">    &#123; path: &#39;&#x2F;login&#39;, component: Login &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>当我们给Login.vue中的内容添加样式的时候，会报错“缺少less-loader”，需要配置less加载器（开发依赖），安装less(开发依赖)<br><img src="/" class="lazyload" data-src="images/less.jpg"  alt=""><br>然后需要添加公共样式，在assets文件夹下面添加css文件夹，创建global.css文件,添加全局样式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 全局样式表 *&#x2F;</span><br><span class="line">html,body,#app&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在main.js中导入global.css，使得全局样式生效 import “./assets/css/global.css”<br>然后Login.vue中的根元素也需要设置撑满全屏（height:100%）<br>最终Login.vue文件中的代码如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;login_container&quot;&gt;</span><br><span class="line">        &lt;!-- 登录盒子  --&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;login_box&quot;&gt;</span><br><span class="line">            &lt;!-- 头像 --&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;avatar_box&quot;&gt;</span><br><span class="line">                &lt;img src&#x3D;&quot;..&#x2F;assets&#x2F;logo.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;!-- 登录表单 --&gt;</span><br><span class="line">            &lt;el-form :model&#x3D;&quot;loginForm&quot; ref&#x3D;&quot;LoginFormRef&quot; :rules&#x3D;&quot;loginFormRules&quot; label-width&#x3D;&quot;0px&quot; class&#x3D;&quot;login_form&quot;&gt;</span><br><span class="line">                &lt;!-- 用户名 --&gt;</span><br><span class="line">                &lt;el-form-item prop&#x3D;&quot;username&quot;&gt;</span><br><span class="line">                    &lt;el-input v-model&#x3D;&quot;loginForm.username&quot; prefix-icon&#x3D;&quot;iconfont icon-user&quot; &gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">                &lt;&#x2F;el-form-item&gt; </span><br><span class="line">                &lt;!-- 密码 --&gt;</span><br><span class="line">                &lt;el-form-item prop&#x3D;&quot;password&quot;&gt;</span><br><span class="line">                    &lt;el-input type&#x3D;&quot;password&quot; v-model&#x3D;&quot;loginForm.password&quot; prefix-icon&#x3D;&quot;iconfont icon-3702mima&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">                &lt;&#x2F;el-form-item&gt; </span><br><span class="line">                &lt;!-- 按钮 --&gt;</span><br><span class="line">                &lt;el-form-item class&#x3D;&quot;btns&quot;&gt;</span><br><span class="line">                    &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;login&quot;&gt;登录&lt;&#x2F;el-button&gt;</span><br><span class="line">                    &lt;el-button type&#x3D;&quot;info&quot; @click&#x3D;&quot;resetLoginForm&quot;&gt;重置&lt;&#x2F;el-button&gt;</span><br><span class="line">                &lt;&#x2F;el-form-item&gt; </span><br><span class="line">            &lt;&#x2F;el-form&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F;数据绑定</span><br><span class="line">      loginForm: &#123;</span><br><span class="line">        username: &#39;admin&#39;,</span><br><span class="line">        password: &#39;123456&#39;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;表单验证规则</span><br><span class="line">      loginFormRules: &#123;</span><br><span class="line">        username: [</span><br><span class="line">          &#123; required: true, message: &#39;请输入登录名&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            min: 3,</span><br><span class="line">            max: 10,</span><br><span class="line">            message: &#39;登录名长度在 3 到 10 个字符&#39;,</span><br><span class="line">            trigger: &#39;blur&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        password: [</span><br><span class="line">          &#123; required: true, message: &#39;请输入密码&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            min: 6,</span><br><span class="line">            max: 15,</span><br><span class="line">            message: &#39;密码长度在 6 到 15 个字符&#39;,</span><br><span class="line">            trigger: &#39;blur&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F;添加行为，</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F;添加表单重置方法</span><br><span class="line">    resetLoginForm() &#123;</span><br><span class="line">      &#x2F;&#x2F;this&#x3D;&gt;当前组件对象，其中的属性$refs包含了设置的表单ref</span><br><span class="line">      &#x2F;&#x2F;   console.log(this)</span><br><span class="line">      this.$refs.LoginFormRef.resetFields()</span><br><span class="line">    &#125;,</span><br><span class="line">    login() &#123;</span><br><span class="line">      &#x2F;&#x2F;点击登录的时候先调用validate方法验证表单内容是否有误</span><br><span class="line">      this.$refs.LoginFormRef.validate(async valid &#x3D;&gt; &#123;</span><br><span class="line">        console.log(this.loginFormRules)</span><br><span class="line">        &#x2F;&#x2F;如果valid参数为true则验证通过</span><br><span class="line">        if (!valid) &#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;发送请求进行登录</span><br><span class="line">        const &#123; data: res &#125; &#x3D; await this.$http.post(&#39;login&#39;, this.loginForm)</span><br><span class="line">        &#x2F;&#x2F;   console.log(res);</span><br><span class="line">        if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">          return this.$message.error(&#39;登录失败:&#39; + res.meta.msg) &#x2F;&#x2F;console.log(&quot;登录失败:&quot;+res.meta.msg)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        this.$message.success(&#39;登录成功&#39;)</span><br><span class="line">        console.log(res)</span><br><span class="line">        &#x2F;&#x2F;保存token</span><br><span class="line">        window.sessionStorage.setItem(&#39;token&#39;, res.data.token)</span><br><span class="line">        &#x2F;&#x2F; 导航至&#x2F;home</span><br><span class="line">        this.$router.push(&#39;&#x2F;home&#39;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line">.login_container &#123;</span><br><span class="line">  background-color: #2b5b6b;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.login_box &#123;</span><br><span class="line">  width: 450px;</span><br><span class="line">  height: 300px;</span><br><span class="line">  background: #fff;</span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 50%;</span><br><span class="line">  top: 50%;</span><br><span class="line">  transform: translate(-50%, -50%);</span><br><span class="line">  .avatar_box &#123;</span><br><span class="line">    height: 130px;</span><br><span class="line">    width: 130px;</span><br><span class="line">    border: 1px solid #eee;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    box-shadow: 0 0 10px #ddd;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 50%;</span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    img &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      height: 100%;</span><br><span class="line">      border-radius: 50%;</span><br><span class="line">      background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.login_form &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  padding: 0 20px;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line">.btns &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: flex-end;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><p>其中我们有用到一下内容，需要进行进一步处理：</p><p>A.添加element-ui的表单组件<br>在plugins文件夹中打开element.js文件，进行elementui的按需导入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#123; Button &#125; from &#39;element-ui&#39;</span><br><span class="line">import &#123; Form, FormItem &#125; from &#39;element-ui&#39;</span><br><span class="line">import &#123; Input &#125; from &#39;element-ui&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Button)</span><br><span class="line">Vue.use(Form)</span><br><span class="line">Vue.use(FormItem)</span><br><span class="line">Vue.use(Input)</span><br></pre></td></tr></table></figure><p>B.添加第三方字体<br>复制素材中的fonts文件夹到assets中,在入口文件main.js中导入import ‘./assets/fonts/iconfont.css’<br>然后直接在 <el-input prefix-icon="iconfont icon-3702mima"></el-input><br>接着添加登录盒子</p><p>C.添加表单验证的步骤<br>1).给<el-form>添加属性:rules=”rules”，rules是一堆验证规则，定义在script、中<br>2).在script中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">rules：export default&#123; data()&#123;return&#123;......, rules: &#123;</span><br><span class="line">          name: [</span><br><span class="line">            &#123; required: true, message: &#39;请输入活动名称&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">            &#123; min: 3, max: 5, message: &#39;长度在 3 到 5 个字符&#39;, trigger: &#39;blur&#39; &#125;</span><br><span class="line">          ],</span><br><span class="line">          region: [</span><br><span class="line">            &#123; required: true, message: &#39;请选择活动区域&#39;, trigger: &#39;change&#39; &#125;</span><br><span class="line">          ]</span><br><span class="line">&#125;......</span><br></pre></td></tr></table></figure><p>3).通过<el-form-item>的prop属性设置验证规则<el-form-item label="活动名称" prop="name"></p><p>4.导入axios以发送ajax请求<br>打开main.js，import axios from ‘axios’;<br>设置请求的根路径：axios.defaults.baseURL = ‘<a href="http://127.0.0.1:8888/api/private/v1/&#39;" target="_blank" rel="noopener">http://127.0.0.1:8888/api/private/v1/&#39;</a>;<br>挂载axios：Vue.prototype.$http = axios;</p><p>5.配置弹窗提示：<br>在plugins文件夹中打开element.js文件，进行elementui的按需导入<br>import {Message} from ‘element-ui’<br>进行全局挂载：Vue.prototype.$message = Message;<br>在login.vue组件中编写弹窗代码：this.$message.error(‘登录失败’)</p><h3 id="6-登录成功之后的操作"><a href="#6-登录成功之后的操作" class="headerlink" title="6.登录成功之后的操作"></a>6.登录成功之后的操作</h3><p>A.登录成功之后，需要将后台返回的token保存到sessionStorage中<br>操作完毕之后，需要跳转到/home</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">login() &#123;</span><br><span class="line">      &#x2F;&#x2F;点击登录的时候先调用validate方法验证表单内容是否有误</span><br><span class="line">      this.$refs.LoginFormRef.validate(async valid &#x3D;&gt; &#123;</span><br><span class="line">        console.log(this.loginFormRules)</span><br><span class="line">        &#x2F;&#x2F;如果valid参数为true则验证通过</span><br><span class="line">        if (!valid) &#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;发送请求进行登录</span><br><span class="line">        const &#123; data: res &#125; &#x3D; await this.$http.post(&#39;login&#39;, this.loginForm)</span><br><span class="line">        &#x2F;&#x2F;   console.log(res);</span><br><span class="line">        if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">          return this.$message.error(&#39;登录失败:&#39; + res.meta.msg) &#x2F;&#x2F;console.log(&quot;登录失败:&quot;+res.meta.msg)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        this.$message.success(&#39;登录成功&#39;)</span><br><span class="line">        console.log(res)</span><br><span class="line">        &#x2F;&#x2F;保存token</span><br><span class="line">        window.sessionStorage.setItem(&#39;token&#39;, res.data.token)</span><br><span class="line">        &#x2F;&#x2F; 导航至&#x2F;home</span><br><span class="line">        this.$router.push(&#39;&#x2F;home&#39;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>添加一个组件Home.vue，并为之添加规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        this is home</span><br><span class="line">        &lt;el-button type&#x3D;&quot;info&quot; @click&#x3D;&quot;logout&quot;&gt; 退出 &lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    logout() &#123;</span><br><span class="line">      window.sessionStorage.clear()</span><br><span class="line">      this.$router.push(&#39;&#x2F;login&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&#39;less&#39; scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><p>添加路由规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const router &#x3D; new Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;&#x2F;&#39;, redirect: &#39;&#x2F;login&#39; &#125;,</span><br><span class="line">    &#123; path: &#39;&#x2F;login&#39;, component: Login &#125;,</span><br><span class="line">    &#123; path: &#39;&#x2F;home&#39;, component: Home &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>添加路由守卫<br>如果用户没有登录，不能访问/home,如果用户通过url地址直接访问，则强制跳转到登录页面<br>打开router.js</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line">import Login from &#39;.&#x2F;components&#x2F;Login.vue&#39;</span><br><span class="line">import Home from &#39;.&#x2F;components&#x2F;Home.vue&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">const router &#x3D; new Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path:&#39;&#x2F;&#39;, redirect:&#39;&#x2F;login&#39;&#125;,</span><br><span class="line">    &#123; path:&#39;&#x2F;login&#39; , component:Login &#125;,</span><br><span class="line">    &#123; path:&#39;&#x2F;home&#39; , component:Home&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;挂载路由导航守卫,to表示将要访问的路径，from表示从哪里来，next是下一个要做的操作</span><br><span class="line">router.beforeEach((to,from,next)&#x3D;&gt;&#123; </span><br><span class="line">  if(to.path &#x3D;&#x3D;&#x3D; &#39;&#x2F;login&#39;)</span><br><span class="line">    return next();</span><br><span class="line">  </span><br><span class="line">  &#x2F;&#x2F;获取token</span><br><span class="line">  const tokenStr &#x3D; window.sessionStorage.getItem(&#39;token&#39;);</span><br><span class="line"></span><br><span class="line">  if(!tokenStr)</span><br><span class="line">    return next(&#39;&#x2F;login&#39;);</span><br><span class="line"></span><br><span class="line">  next();</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export default router</span><br></pre></td></tr></table></figure><p>实现退出功能<br>在Home组件中添加一个退出功能按钮,给退出按钮添加点击事件，添加事件处理代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    methods:&#123;</span><br><span class="line">        logout()&#123;</span><br><span class="line">            window.sessionStorage.clear();</span><br><span class="line">            this.$router.push(&#39;&#x2F;login&#39;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><p>A.处理ESLint警告<br>打开脚手架面板，查看警告信息<br>[图片]<br>默认情况下，ESLint和vscode格式化工具有冲突，需要添加配置文件解决冲突。<br>在项目根目录添加 .prettierrc 文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;semi&quot;:false,</span><br><span class="line">    &quot;singleQuote&quot;:true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>打开.eslintrc.js文件，禁用对 space-before-function-paren 的检查:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rules: &#123;</span><br><span class="line">  &#39;no-console&#39;: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39; ? &#39;error&#39; : &#39;off&#39;,</span><br><span class="line">  &#39;no-debugger&#39;: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39; ? &#39;error&#39; : &#39;off&#39;,</span><br><span class="line">  &#39;space-before-function-paren&#39; : 0</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>B.合并按需导入的element-ui</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#123; Button, Form, FormItem, Input, Message &#125; from &#39;element-ui&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Button)</span><br><span class="line">Vue.use(Form)</span><br><span class="line">Vue.use(FormItem)</span><br><span class="line">Vue.use(Input)</span><br><span class="line">&#x2F;&#x2F; 进行全局挂载：</span><br><span class="line">Vue.prototype.$message &#x3D; Message</span><br></pre></td></tr></table></figure><p>C.将代码提交到码云<br>新建一个项目终端,输入命令‘git status’查看修改过的与新增的文件内容<br>将所有文件添加到暂存区：git add .<br>将所有代码提交到本地仓库：git commit -m “添加登录功能以及/home的基本结构”<br>查看分支： git branch  发现所有代码都被提交到了login分支<br>将login分支代码合并到master主分支，先切换到master：git checkout master<br>在master分支进行代码合并：git merge login<br>将本地的master推送到远端的码云：git push</p><p>推送本地的子分支到码云，先切换到子分支：git checkout 分支名<br>然后推送到码云：git push -u origin 远端分支名</p><h3 id="感谢up-Nenio"><a href="#感谢up-Nenio" class="headerlink" title="感谢up:_Nenio"></a><a href="https://space.bilibili.com/386301970/?share_source=weixin&share_medium=ipad&bbid=Z544D956D28B95374071A66BF44DEA8FBED7&ts=1598967607" target="_blank" rel="noopener">感谢up:_Nenio</a></h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="前端" scheme="http://codehao.top/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Vue" scheme="http://codehao.top/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>vue项目实战--LAM系统（三）</title>
    <link href="http://codehao.top/cl15275kx000yiwla3sr3hdjv/"/>
    <id>http://codehao.top/cl15275kx000yiwla3sr3hdjv/</id>
    <published>2022-03-15T13:32:04.460Z</published>
    <updated>2020-09-03T14:29:34.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="VUE实训项目-ilab实验室管理系统"><a href="#VUE实训项目-ilab实验室管理系统" class="headerlink" title="VUE实训项目-ilab实验室管理系统"></a>VUE实训项目-ilab实验室管理系统</h3><p>1.修改用户,删除用户 </p><p>2.推送代码到码云 </p><p>3.权限列表 </p><p>4.角色列表 </p><p>5.分配角色</p><h3 id="1-修改用户信息"><a href="#1-修改用户信息" class="headerlink" title="1.修改用户信息"></a>1.修改用户信息</h3><blockquote><p>A.为用户列表中的修改按钮绑定点击事件<br>B.在页面中添加修改用户对话框，并修改对话框的属性<br>C.根据id查询需要修改的用户数据</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;展示编辑用户的对话框</span><br><span class="line">async showEditDialog(id) &#123;</span><br><span class="line">    &#x2F;&#x2F;发送请求根据id获取用户信息</span><br><span class="line">    const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;users&#x2F;&#39; + id)</span><br><span class="line">    &#x2F;&#x2F;判断如果添加失败，就做提示</span><br><span class="line">    if (res.meta.status !&#x3D;&#x3D; 200) return this.$message.error(&#39;获取用户信息失败&#39;)</span><br><span class="line">    &#x2F;&#x2F;将获取到的数据保存到数据editForm中</span><br><span class="line">    this.editForm &#x3D; res.data</span><br><span class="line">    &#x2F;&#x2F;显示弹出窗</span><br><span class="line">    this.editDialogVisible &#x3D; true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>D.在弹出窗中添加修改用户信息的表单并做响应的数据绑定以及数据验证</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 对话框主体区域 --&gt;</span><br><span class="line">&lt;el-form :model&#x3D;&quot;editForm&quot; :rules&#x3D;&quot;editFormRules&quot; ref&#x3D;&quot;editFormRef&quot; label-width&#x3D;&quot;70px&quot;&gt;</span><br><span class="line">    &lt;el-form-item label&#x3D;&quot;用户名&quot;&gt;</span><br><span class="line">        &lt;el-input v-model&#x3D;&quot;editForm.username&quot; disabled&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">    &lt;&#x2F;el-form-item&gt;</span><br><span class="line">    &lt;el-form-item label&#x3D;&quot;邮箱&quot; prop&#x3D;&quot;email&quot;&gt;</span><br><span class="line">        &lt;el-input v-model&#x3D;&quot;editForm.email&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">    &lt;&#x2F;el-form-item&gt;</span><br><span class="line">    &lt;el-form-item label&#x3D;&quot;电话&quot; prop&#x3D;&quot;mobile&quot;&gt;</span><br><span class="line">        &lt;el-input v-model&#x3D;&quot;editForm.mobile&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">    &lt;&#x2F;el-form-item&gt;</span><br><span class="line">&lt;&#x2F;el-form&gt;</span><br></pre></td></tr></table></figure><p>数据绑定以及验证：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;控制修改用户对话框的显示与否</span><br><span class="line">editDialogVisible: false,</span><br><span class="line">&#x2F;&#x2F;修改用户的表单数据</span><br><span class="line">editForm: &#123;</span><br><span class="line">    username: &#39;&#39;,</span><br><span class="line">    email: &#39;&#39;,</span><br><span class="line">    mobile: &#39;&#39;</span><br><span class="line">&#125;,</span><br><span class="line">&#x2F;&#x2F;修改表单的验证规则对象</span><br><span class="line">editFormRules: &#123;</span><br><span class="line">    email: [</span><br><span class="line">        &#123; required: true, message: &#39;请输入邮箱&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        validator: checkEmail,</span><br><span class="line">        message: &#39;邮箱格式不正确，请重新输入&#39;,</span><br><span class="line">        trigger: &#39;blur&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    mobile: [</span><br><span class="line">        &#123; required: true, message: &#39;请输入手机号码&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        validator: checkMobile,</span><br><span class="line">        message: &#39;手机号码不正确，请重新输入&#39;,</span><br><span class="line">        trigger: &#39;blur&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>E.监听对话框关闭事件，在对话框关闭之后，重置表单</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-dialog title&#x3D;&quot;修改用户&quot; :visible.sync&#x3D;&quot;editDialogVisible&quot; width&#x3D;&quot;50%&quot; @close&#x3D;&quot;editDialogClosed&quot;&gt;</span><br><span class="line"></span><br><span class="line">editDialogClosed()&#123;</span><br><span class="line">    &#x2F;&#x2F;对话框关闭之后，重置表达</span><br><span class="line">    this.$refs.editFormRef.resetFields()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>F.在用户点击确定按钮的时候，验证数据成功之后发送请求完成修改</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">editUser() &#123;</span><br><span class="line">    &#x2F;&#x2F;用户点击修改表单中的确定按钮之后，验证表单数据</span><br><span class="line">    this.$refs.editFormRef.validate(async valid &#x3D;&gt; &#123;</span><br><span class="line">    if (!valid) return this.$message.error(&#39;请填写完整用户信息&#39;)</span><br><span class="line">    &#x2F;&#x2F;发送请求完成修改用户的操作</span><br><span class="line">    const &#123; data: res &#125; &#x3D; await this.$http.put(</span><br><span class="line">        &#39;users&#x2F;&#39; + this.editForm.id,</span><br><span class="line">        this.editForm</span><br><span class="line">    )</span><br><span class="line">    &#x2F;&#x2F;判断如果修改失败，就做提示</span><br><span class="line">    if (res.meta.status !&#x3D;&#x3D; 200) return this.$message.error(&#39;修改用户失败&#39;)</span><br><span class="line">    &#x2F;&#x2F;修改成功的提示</span><br><span class="line">    this.$message.success(&#39;修改用户成功&#39;)</span><br><span class="line">    &#x2F;&#x2F;关闭对话框</span><br><span class="line">    this.editDialogVisible &#x3D; false</span><br><span class="line">    &#x2F;&#x2F;重新请求最新的数据</span><br><span class="line">    this.getUserList()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-删除用户"><a href="#2-删除用户" class="headerlink" title="2.删除用户"></a>2.删除用户</h3><p>在点击删除按钮的时候，我们应该跳出提示信息框，让用户确认要进行删除操作。<br>如果想要使用确认取消提示框，我们需要先将提示信息框挂载到vue中。</p><blockquote><p>A.导入MessageBox组件，并将MessageBox组件挂载到实例。<br>Vue.prototype.$confirm = MessageBox.confirm<br>B.给用户列表中的删除按钮添加事件，并在事件处理函数中弹出确定取消窗,最后再根据id发送删除用户的请求</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">async removeUserById(id)&#123;</span><br><span class="line">    &#x2F;&#x2F;弹出确定取消框，是否删除用户</span><br><span class="line">    const confirmResult &#x3D; await this.$confirm(&#39;请问是否要永久删除该用户&#39;,&#39;删除提示&#39;,&#123;</span><br><span class="line">    confirmButtonText:&#39;确认删除&#39;,</span><br><span class="line">    cancelButtonText:&#39;取消&#39;,</span><br><span class="line">    type:&#39;warning&#39;</span><br><span class="line">    &#125;).catch(err&#x3D;&gt;err)</span><br><span class="line">    &#x2F;&#x2F;如果用户点击确认，则confirmResult 为&#39;confirm&#39;</span><br><span class="line">    &#x2F;&#x2F;如果用户点击取消, 则confirmResult获取的就是catch的错误消息&#39;cancel&#39;</span><br><span class="line">    if(confirmResult !&#x3D; &quot;confirm&quot;)&#123;</span><br><span class="line">        return this.$message.info(&quot;已经取消删除&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;发送请求根据id完成删除操作</span><br><span class="line">    const &#123;data:res&#125; &#x3D; await this.$http.delete(&#39;users&#x2F;&#39;+id)</span><br><span class="line">    &#x2F;&#x2F;判断如果删除失败，就做提示</span><br><span class="line">    if (res.meta.status !&#x3D;&#x3D; 200) return this.$message.error(&#39;删除用户失败&#39;)</span><br><span class="line">    &#x2F;&#x2F;修改成功的提示</span><br><span class="line">    this.$message.success(&#39;删除用户成功&#39;)</span><br><span class="line">    &#x2F;&#x2F;重新请求最新的数据</span><br><span class="line">    this.getUserList()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-推送代码"><a href="#3-推送代码" class="headerlink" title="3.推送代码"></a>3.推送代码</h3><p>创建user子分支，并将代码推送到码云<br>A.创建user子分支  git checkout -b user<br>B.将代码添加到暂存区 git add .<br>C.将代码提交并注释 git commit -m ‘添加完成用户列表功能’<br>D.将本地的user分支推送到码云 git push -u origin user<br>E.将user分支代码合并到master:<br>切换到master   git checkout master<br>合并user       git merge user<br>F.将本地master分支的代码推送到码云  git push</p><p>创建rights子分支<br>A.创建rights子分支 git checkout -b rights<br>B.将本地的rights分支推送到码云 git push -u origin rights</p><h3 id="4-权限列表"><a href="#4-权限列表" class="headerlink" title="4.权限列表"></a>4.权限列表</h3><h4 id="A-添加权限列表路由"><a href="#A-添加权限列表路由" class="headerlink" title="A.添加权限列表路由"></a>A.添加权限列表路由</h4><p>创建权限管理组件（Rights.vue），并在router.js添加对应的路由规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import Rights from &#39;.&#x2F;components&#x2F;power&#x2F;Rights.vue&#39;</span><br><span class="line">......</span><br><span class="line">      path: &#39;&#x2F;home&#39;, component: Home, redirect: &#39;&#x2F;welcome&#39;, children: [</span><br><span class="line">        &#123; path: &quot;&#x2F;welcome&quot;, component: Welcome &#125;,</span><br><span class="line">        &#123; path: &quot;&#x2F;users&quot;, component: Users &#125;,</span><br><span class="line">        &#123; path: &quot;&#x2F;rights&quot;, component: Rights &#125;</span><br><span class="line">      ]</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h4 id="B-添加面包屑导航"><a href="#B-添加面包屑导航" class="headerlink" title="B.添加面包屑导航"></a>B.添加面包屑导航</h4><p>在Rights.vue中添加面包屑组件展示导航路径</p><h4 id="C-显示数据"><a href="#C-显示数据" class="headerlink" title="C.显示数据"></a>C.显示数据</h4><p>在data中添加一个rightsList数据，在methods中提供一个getRightsList方法发送请求获取权限列表数据，在created中调用这个方法获取数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;rightsList&quot; stripe&gt;</span><br><span class="line">    &lt;el-table-column type&#x3D;&quot;index&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;权限名称&quot; prop&#x3D;&quot;authName&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;路径&quot; prop&#x3D;&quot;path&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;权限等级&quot; prop&#x3D;&quot;level&quot;&gt;</span><br><span class="line">        &lt;template slot-scope&#x3D;&quot;scope&quot;&gt; </span><br><span class="line">            &lt;el-tag v-if&#x3D;&quot;scope.row.level &#x3D;&#x3D;&#x3D; 0&quot;&gt;一级权限&lt;&#x2F;el-tag&gt;</span><br><span class="line">            &lt;el-tag v-if&#x3D;&quot;scope.row.level &#x3D;&#x3D;&#x3D; 1&quot; type&#x3D;&quot;success&quot;&gt;二级权限&lt;&#x2F;el-tag&gt;</span><br><span class="line">            &lt;el-tag v-if&#x3D;&quot;scope.row.level &#x3D;&#x3D;&#x3D; 2&quot; type&#x3D;&quot;warning&quot;&gt;三级权限&lt;&#x2F;el-tag&gt;</span><br><span class="line">        &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            &#x2F;&#x2F;列表形式的权限</span><br><span class="line">            rightsList:[]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created()&#123;</span><br><span class="line">        this.getRightsList();</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        async getRightsList()&#123;</span><br><span class="line">            const &#123;data:res&#125; &#x3D; await this.$http.get(&#39;rights&#x2F;list&#39;)</span><br><span class="line">            &#x2F;&#x2F;如果返回状态为异常状态则报错并返回</span><br><span class="line">            if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">                return this.$message.error(&#39;获取权限列表失败&#39;)</span><br><span class="line">            &#x2F;&#x2F;如果返回状态正常，将请求的数据保存在data中</span><br><span class="line">            this.rightsList &#x3D; res.data</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h3 id="5-角色列表"><a href="#5-角色列表" class="headerlink" title="5.角色列表"></a>5.角色列表</h3><h4 id="A-添加角色列表路由"><a href="#A-添加角色列表路由" class="headerlink" title="A.添加角色列表路由"></a>A.添加角色列表路由</h4><p>添加角色列表子组件（power/Roles.vue），并添加对应的规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">path: &#39;&#x2F;home&#39;, component: Home, redirect: &#39;&#x2F;welcome&#39;, children: [</span><br><span class="line">        &#123; path: &quot;&#x2F;welcome&quot;, component: Welcome &#125;,</span><br><span class="line">        &#123; path: &quot;&#x2F;users&quot;, component: Users &#125;,</span><br><span class="line">        &#123; path: &quot;&#x2F;rights&quot;, component: Rights &#125;,</span><br><span class="line">        &#123; path: &quot;&#x2F;roles&quot;, component: Roles  &#125;</span><br><span class="line">      ]</span><br></pre></td></tr></table></figure><h4 id="B-添加面包屑导航-1"><a href="#B-添加面包屑导航-1" class="headerlink" title="B.添加面包屑导航"></a>B.添加面包屑导航</h4><p>在Roles.vue中添加面包屑组件展示导航路径</p><h4 id="C-显示数据-1"><a href="#C-显示数据-1" class="headerlink" title="C.显示数据"></a>C.显示数据</h4><p>在data中添加一个roleList数据，在methods中提供一个getRoleList方法发送请求获取权限列表数据，在created中调用这个方法获取数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 角色列表区域 --&gt;</span><br><span class="line">&lt;!-- row-key&#x3D;&quot;id&quot; 是2019年3月提供的新特性，</span><br><span class="line">if there&#39;s nested data, rowKey is required.</span><br><span class="line">如果这是一个嵌套的数据，rowkey 是必须添加的属性 --&gt;</span><br><span class="line">&lt;el-table row-key&#x3D;&quot;id&quot; :data&#x3D;&quot;roleList&quot; border&gt;</span><br><span class="line">    &lt;!-- 添加展开列 --&gt;</span><br><span class="line">    &lt;el-table-column type&#x3D;&quot;expand&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column type&#x3D;&quot;index&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;角色名称&quot; prop&#x3D;&quot;roleName&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;角色描述&quot; prop&#x3D;&quot;roleDesc&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;操作&quot; width&#x3D;&quot;300px&quot;&gt;</span><br><span class="line">        &lt;template slot-scope&#x3D;&quot;scope&quot;&gt; </span><br><span class="line">            &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-edit&quot;&gt;编辑&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot;&gt;删除&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;warning&quot; icon&#x3D;&quot;el-icon-setting&quot;&gt;分配权限&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            roleList:[]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,created()&#123;</span><br><span class="line">        this.getRoleList();</span><br><span class="line">    &#125;,methods:&#123;</span><br><span class="line">        async getRoleList()&#123;</span><br><span class="line">            const &#123;data:res&#125; &#x3D; await this.$http.get(&#39;roles&#39;)</span><br><span class="line">            &#x2F;&#x2F;如果返回状态为异常状态则报错并返回</span><br><span class="line">            &#x2F;&#x2F; if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">            &#x2F;&#x2F;     return this.$message.error(&#39;获取角色列表失败&#39;)</span><br><span class="line">            &#x2F;&#x2F; &#x2F;&#x2F;如果返回状态正常，将请求的数据保存在data中</span><br><span class="line">            &#x2F;&#x2F; this.roleList &#x3D; res.data</span><br><span class="line">            console.log(res.data)</span><br><span class="line">            this.roleList &#x3D; res.data;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="D-补充说明"><a href="#D-补充说明" class="headerlink" title="D.补充说明"></a>D.补充说明</h4><p>之前学习过类似的添加角色，删除角色，编辑角色请参照之前编写过的代码还有接口文档完成效果。</p><p>####E.生成权限列表<br>使用三重嵌套for循环生成权限下拉列表</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 添加展开列 --&gt;</span><br><span class="line">&lt;el-table-column type&#x3D;&quot;expand&quot;&gt;</span><br><span class="line">    &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">        &lt;el-row :class&#x3D;&quot;[&#39;bdbottom&#39;,i1&#x3D;&#x3D;&#x3D;0?&#39;bdtop&#39;:&#39;&#39;]&quot; v-for&#x3D;&quot;(item1,i1) in scope.row.children&quot; :key&#x3D;&quot;item1.id&quot;&gt;</span><br><span class="line">            &lt;!-- 渲染一级权限 --&gt;</span><br><span class="line">            &lt;el-col :span&#x3D;&quot;5&quot;&gt;</span><br><span class="line">                &lt;el-tag&gt;</span><br><span class="line">                    &#123;&#123;item1.authName&#125;&#125;</span><br><span class="line">                &lt;&#x2F;el-tag&gt;</span><br><span class="line">                &lt;i class&#x3D;&quot;el-icon-caret-right&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">            &lt;&#x2F;el-col&gt;</span><br><span class="line">            &lt;!-- 渲染二，三级权限 --&gt;</span><br><span class="line">            &lt;el-col :span&#x3D;&quot;19&quot;&gt;</span><br><span class="line">                &lt;!-- 通过for循环嵌套渲染二级权限  --&gt;</span><br><span class="line">                &lt;el-row :class&#x3D;&quot;[i2&#x3D;&#x3D;&#x3D;0?&#39;&#39;:&#39;bdtop&#39; ]&quot; v-for&#x3D;&quot;(item2,i2) in item1.children&quot; :key&#x3D;&quot;item2.id&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;6&quot;&gt;</span><br><span class="line">                        &lt;el-tag type&#x3D;&quot;success&quot;&gt;&#123;&#123;item2.authName&#125;&#125;&lt;&#x2F;el-tag&gt;</span><br><span class="line">                        &lt;i class&#x3D;&quot;el-icon-caret-right&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">                    &lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;18&quot;&gt;</span><br><span class="line">                        &lt;el-tag type&#x3D;&quot;warning&quot; v-for&#x3D;&quot;(item3) in item2.children&quot; :key&#x3D;&quot;item3.id&quot;&gt;</span><br><span class="line">                            &#123;&#123;item3.authName&#125;&#125;</span><br><span class="line">                        &lt;&#x2F;el-tag&gt;</span><br><span class="line">                    &lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">            &lt;&#x2F;el-col&gt;</span><br><span class="line">        &lt;&#x2F;el-row&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">&lt;&#x2F;el-table-column&gt;</span><br></pre></td></tr></table></figure><h4 id="F-美化样式"><a href="#F-美化样式" class="headerlink" title="F.美化样式"></a>F.美化样式</h4><p>通过设置global.css中的#app样式min-width:1366px 解决三级权限换行的问题<br>，通过给一级权限el-row添加display:flex,align-items:center的方式解决一级权限垂直居中的问题，二级权限也类似添加，因为需要给多个内容添加，可以将这个样式设置为一个.vcenter{display:flex;align-items:center}</p><h4 id="G-添加权限删除功能"><a href="#G-添加权限删除功能" class="headerlink" title="G.添加权限删除功能"></a>G.添加权限删除功能</h4><p>给每一个权限的el-tag添加closable属性，是的权限右侧出现“X”图标<br>再给el-tag添加绑定close事件处理函数removeRightById(scope.row,item1.id)<br>removeRightById(scope.row,item2.id)<br>removeRightById(scope.row,item3.id)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">async removeRightById(role,rightId)&#123;</span><br><span class="line">    &#x2F;&#x2F;弹窗提示用户是否要删除</span><br><span class="line">    const confirmResult &#x3D; await this.$confirm(&#39;请问是否要删除该权限&#39;,&#39;删除提示&#39;,&#123;</span><br><span class="line">        confirmButtonText:&#39;确认删除&#39;,</span><br><span class="line">        cancelButtonText:&#39;取消&#39;,</span><br><span class="line">        type:&#39;warning&#39;</span><br><span class="line">    &#125;).catch(err&#x3D;&gt;err)</span><br><span class="line">    &#x2F;&#x2F;如果用户点击确认，则confirmResult 为&#39;confirm&#39;</span><br><span class="line">    &#x2F;&#x2F;如果用户点击取消, 则confirmResult获取的就是catch的错误消息&#39;cancel&#39;</span><br><span class="line">    if(confirmResult !&#x3D; &quot;confirm&quot;)&#123;</span><br><span class="line">        return this.$message.info(&quot;已经取消删除&quot;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;用户点击了确定表示真的要删除</span><br><span class="line">    &#x2F;&#x2F;当发送delete请求之后，返回的数据就是最新的角色权限信息</span><br><span class="line">    const &#123;data:res&#125; &#x3D; await this.$http.delete(&#96;roles&#x2F;$&#123;role.id&#125;&#x2F;rights&#x2F;$&#123;rightId&#125;&#96;)</span><br><span class="line">    if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">        return this.$message.error(&#39;删除角色权限失败&#39;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;无需再重新加载所有权限</span><br><span class="line">    &#x2F;&#x2F;只需要对现有的角色权限进行更新即可</span><br><span class="line">    role.children &#x3D; res.data</span><br><span class="line">    &#x2F;&#x2F; this.getRoleList();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="H-完成权限分配功能"><a href="#H-完成权限分配功能" class="headerlink" title="H.完成权限分配功能"></a>H.完成权限分配功能</h4><p>先给分配权限按钮添加事件<br>&lt;el-button size=”mini” type=”warning” icon=”el-icon-setting” @click=”showSetRightDialog”&gt;分配权限</el-button><br>在showSetRightDialog函数中请求权限树数据并显示对话框</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">async showSetRightDialog() &#123;</span><br><span class="line">    &#x2F;&#x2F;当点击分配权限按钮时，展示对应的对话框</span><br><span class="line">    this.setRightDialogVisible &#x3D; true;</span><br><span class="line">    &#x2F;&#x2F;获取所有权限的数据</span><br><span class="line">    const &#123;data:res&#125; &#x3D; await this.$http.get(&#39;rights&#x2F;tree&#39;)</span><br><span class="line">    &#x2F;&#x2F;如果返回状态为异常状态则报错并返回</span><br><span class="line">    if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">        return this.$message.error(&#39;获取权限树失败&#39;)</span><br><span class="line">    &#x2F;&#x2F;如果返回状态正常，将请求的数据保存在data中</span><br><span class="line">    this.rightsList &#x3D; res.data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加分配权限对话框，并添加绑定数据setRightDialogVisible</p><!-- 分配权限对话框 --><el-dialog title="分配权限" :visible.sync="setRightDialogVisible" width="50%">    <span>这是一段信息</span>    <span slot="footer" class="dialog-footer">        <el-button @click="setRightDialogVisible = false">取 消</el-button>        <el-button type="primary" @click="setRightDialogVisible = false">确 定</el-button>    </span></el-dialog><h4 id="I-完成树形结构弹窗"><a href="#I-完成树形结构弹窗" class="headerlink" title="I.完成树形结构弹窗"></a>I.完成树形结构弹窗</h4><p>在element.js中引入Tree，注册Tree</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 分配权限对话框 --&gt;</span><br><span class="line">&lt;el-dialog title&#x3D;&quot;分配权限&quot; :visible.sync&#x3D;&quot;setRightDialogVisible&quot; width&#x3D;&quot;50%&quot; @close&#x3D;&quot;setRightDialogClose&quot;&gt;</span><br><span class="line">    &lt;!-- 树形组件</span><br><span class="line">    show-checkbox:显示复选框</span><br><span class="line">    node-key:设置选中节点对应的值</span><br><span class="line">    default-expand-all:是否默认展开所有节点</span><br><span class="line">    :default-checked-keys 设置默认选中项的数组</span><br><span class="line">    ref:设置引用 --&gt;</span><br><span class="line">    &lt;el-tree :data&#x3D;&quot;rightsList&quot; :props&#x3D;&quot;treeProps&quot; show-checkbox node-key&#x3D;&quot;id&quot; default-expand-all :default-checked-keys&#x3D;&quot;defKeys&quot; ref&#x3D;&quot;treeRef&quot;&gt;&lt;&#x2F;el-tree&gt;</span><br><span class="line">    &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;setRightDialogVisible &#x3D; false&quot;&gt;取 消&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;allotRights&quot;&gt;确 定&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F;角色列表数据</span><br><span class="line">      roleList: [],</span><br><span class="line">      &#x2F;&#x2F;控制分配权限对话框的显示</span><br><span class="line">      setRightDialogVisible: false,</span><br><span class="line">      &#x2F;&#x2F;权限树数据</span><br><span class="line">      rightsList: [],</span><br><span class="line">      &#x2F;&#x2F;树形控件的属性绑定对象</span><br><span class="line">      treeProps: &#123;</span><br><span class="line">        &#x2F;&#x2F;通过label设置树形节点文本展示authName</span><br><span class="line">        label: &#39;authName&#39;,</span><br><span class="line">        &#x2F;&#x2F;设置通过children属性展示子节点信息</span><br><span class="line">        children: &#39;children&#39;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;设置树形控件中默认选中的内容</span><br><span class="line">      defKeys: [],</span><br><span class="line">      &#x2F;&#x2F;保存正在操作的角色id</span><br><span class="line">      roleId:&#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.getRoleList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async getRoleList() &#123;</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;roles&#39;)</span><br><span class="line">      &#x2F;&#x2F;如果返回状态为异常状态则报错并返回</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">        return this.$message.error(&#39;获取角色列表失败&#39;)</span><br><span class="line">      &#x2F;&#x2F;如果返回状态正常，将请求的数据保存在data中</span><br><span class="line">      &#x2F;&#x2F; this.roleList &#x3D; res.data</span><br><span class="line">      console.log(res.data)</span><br><span class="line">      this.roleList &#x3D; res.data</span><br><span class="line">    &#125;,</span><br><span class="line">    async removeRightById(role, rightId) &#123;</span><br><span class="line">      &#x2F;&#x2F;弹窗提示用户是否要删除</span><br><span class="line">      const confirmResult &#x3D; await this.$confirm(</span><br><span class="line">        &#39;请问是否要删除该权限&#39;,</span><br><span class="line">        &#39;删除提示&#39;,</span><br><span class="line">        &#123;</span><br><span class="line">          confirmButtonText: &#39;确认删除&#39;,</span><br><span class="line">          cancelButtonText: &#39;取消&#39;,</span><br><span class="line">          type: &#39;warning&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      ).catch(err &#x3D;&gt; err)</span><br><span class="line">      &#x2F;&#x2F;如果用户点击确认，则confirmResult 为&#39;confirm&#39;</span><br><span class="line">      &#x2F;&#x2F;如果用户点击取消, 则confirmResult获取的就是catch的错误消息&#39;cancel&#39;</span><br><span class="line">      if (confirmResult !&#x3D; &#39;confirm&#39;) &#123;</span><br><span class="line">        return this.$message.info(&#39;已经取消删除&#39;)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F;用户点击了确定表示真的要删除</span><br><span class="line">      &#x2F;&#x2F;当发送delete请求之后，返回的数据就是最新的角色权限信息</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.delete(</span><br><span class="line">        &#96;roles&#x2F;$&#123;role.id&#125;&#x2F;rights&#x2F;$&#123;rightId&#125;&#96;</span><br><span class="line">      )</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">        return this.$message.error(&#39;删除角色权限失败&#39;)</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F;无需再重新加载所有权限</span><br><span class="line">      &#x2F;&#x2F;只需要对现有的角色权限进行更新即可</span><br><span class="line">      role.children &#x3D; res.data</span><br><span class="line">      &#x2F;&#x2F; this.getRoleList();</span><br><span class="line">    &#125;,</span><br><span class="line">    async showSetRightDialog(role) &#123;</span><br><span class="line">      &#x2F;&#x2F;将role.id保存起来以供保存权限时使用</span><br><span class="line">      this.roleId &#x3D; role.id;  </span><br><span class="line">      &#x2F;&#x2F;获取所有权限的数据</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;rights&#x2F;tree&#39;)</span><br><span class="line">      &#x2F;&#x2F;如果返回状态为异常状态则报错并返回</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) return this.$message.error(&#39;获取权限树失败&#39;)</span><br><span class="line">      &#x2F;&#x2F;如果返回状态正常，将请求的数据保存在data中</span><br><span class="line">      this.rightsList &#x3D; res.data</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F;调用getLeafKeys进行递归，将三级权限添加到数组中</span><br><span class="line">      this.getLeafKeys(role, this.defKeys)</span><br><span class="line">      &#x2F;&#x2F;当点击分配权限按钮时，展示对应的对话框</span><br><span class="line">      this.setRightDialogVisible &#x3D; true</span><br><span class="line">      console.log(this.defKeys)</span><br><span class="line">    &#125;,</span><br><span class="line">    getLeafKeys(node, arr) &#123;</span><br><span class="line">      &#x2F;&#x2F;该函数会获取到当前角色的所有三级权限id并添加到defKeys中</span><br><span class="line">      &#x2F;&#x2F;如果当前节点不包含children属性，则表示node为三级权限</span><br><span class="line">      if (!node.children) &#123;</span><br><span class="line">        return arr.push(node.id)</span><br><span class="line">      &#125;</span><br><span class="line">      &#x2F;&#x2F;递归调用</span><br><span class="line">      node.children.forEach(item &#x3D;&gt; this.getLeafKeys(item, arr))</span><br><span class="line">    &#125;,</span><br><span class="line">    setRightDialogClose() &#123;</span><br><span class="line">      &#x2F;&#x2F;当用户关闭树形权限对话框的时候，清除掉所有选中状态</span><br><span class="line">      this.defKeys &#x3D; []</span><br><span class="line">    &#125;,</span><br><span class="line">    async allotRights() &#123;</span><br><span class="line">      &#x2F;&#x2F;当用户在树形权限对话框中点击确定，将用户选择的</span><br><span class="line">      &#x2F;&#x2F;权限发送请求进行更新</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F;获取所有选中及半选的内容</span><br><span class="line">      const keys &#x3D; [</span><br><span class="line">        ...this.$refs.treeRef.getCheckedKeys(),</span><br><span class="line">        ...this.$refs.treeRef.getHalfCheckedKeys()</span><br><span class="line">      ]</span><br><span class="line">      &#x2F;&#x2F;将数组转换为 , 拼接的字符串</span><br><span class="line">      const idStr &#x3D; keys.join(&#39;,&#39;)</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F;发送请求完成更新</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.post(</span><br><span class="line">        &#96;roles&#x2F;$&#123;this.roleId&#125;&#x2F;rights&#96;,</span><br><span class="line">        &#123; rids:idStr &#125;</span><br><span class="line">      )</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">        return this.$message.error(&#39;分配权限失败&#39;)</span><br><span class="line"></span><br><span class="line">      this.$message.success(&quot;分配权限成功&quot;)</span><br><span class="line">      this.getRoleList();</span><br><span class="line">      &#x2F;&#x2F;关闭对话框</span><br><span class="line">      this.setRightDialogVisible &#x3D; false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h3 id="6-分配角色"><a href="#6-分配角色" class="headerlink" title="6.分配角色"></a>6.分配角色</h3><p>打开Users.vue，完成分配角色的功能<br>A.添加分配角色对话框</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 分配角色对话框 --&gt;</span><br><span class="line">&lt;el-dialog title&#x3D;&quot;分配角色&quot; :visible.sync&#x3D;&quot;setRoleDialogVisible&quot; width&#x3D;&quot;50%&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;p&gt;当前的用户:&#123;&#123;userInfo.username&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;当前的角色:&#123;&#123;userInfo.role_name&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;分配新角色:&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;setRoleDialogVisible &#x3D; false&quot;&gt;取 消&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;setRoleDialogVisible &#x3D; false&quot;&gt;确 定&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br></pre></td></tr></table></figure><p>B.给分配角色按钮添加点击事件，点击之后弹出一个对话框进行角色分配</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 分配角色 --&gt;</span><br><span class="line">&lt;el-tooltip class&#x3D;&quot;item&quot; effect&#x3D;&quot;dark&quot; content&#x3D;&quot;分配角色&quot; placement&#x3D;&quot;top&quot; :enterable&#x3D;&quot;false&quot;&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;warning&quot; icon&#x3D;&quot;el-icon-setting&quot; size&#x3D;&#39;mini&#39; @click&#x3D;&quot;setRole(scope.row)&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-tooltip&gt;</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">    ......</span><br><span class="line">    &#x2F;&#x2F;控制显示分配角色对话框</span><br><span class="line">    setRoleDialogVisible:false,</span><br><span class="line">    &#x2F;&#x2F;保存正在操作的那个用户信息</span><br><span class="line">    userInfo:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;保存所有的角色信息</span><br><span class="line">    rolesList:[],</span><br><span class="line">    &#x2F;&#x2F;保存用户选中的角色id</span><br><span class="line">    selectedRoleId:&#39;&#39;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">    ......</span><br><span class="line">    async setRole( userInfo )&#123;</span><br><span class="line">      &#x2F;&#x2F;保存起来以供后续使用</span><br><span class="line">      this.userInfo &#x3D; userInfo;</span><br><span class="line">      &#x2F;&#x2F;获取所有的角色信息，以备下拉列表使用</span><br><span class="line">      &#x2F;&#x2F;发送请求根据id完成删除操作</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;roles&#39;)</span><br><span class="line">      &#x2F;&#x2F;判断如果删除失败，就做提示</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) return this.$message.error(&#39;获取角色列表失败&#39;)</span><br><span class="line">      </span><br><span class="line">      this.rolesList &#x3D; res.data;</span><br><span class="line">      &#x2F;&#x2F;展示分配角色对话框</span><br><span class="line">      this.setRoleDialogVisible &#x3D; true;</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C.在element.js中引入Select，Option，注册Select，Option</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 角色选择下拉框</span><br><span class="line">v-model：设置用户选中角色之后的id绑定数据</span><br><span class="line">--&gt;</span><br><span class="line">&lt;el-select v-model&#x3D;&quot;selectedRoleId&quot; placeholder&#x3D;&quot;请选择角色&quot;&gt;</span><br><span class="line">&lt;!-- :label 显示文本，:value 选中值 --&gt;</span><br><span class="line">&lt;el-option v-for&#x3D;&quot;item in rolesList&quot; :key&#x3D;&quot;item.id&quot; :label&#x3D;&quot;item.roleName&quot; :value&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-option&gt;</span><br><span class="line">&lt;&#x2F;el-select&gt;</span><br></pre></td></tr></table></figure><p>D.当用户点击对话框中的确定之后，完成分配角色的操作</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 分配角色对话框 --&gt;</span><br><span class="line">&lt;el-dialog title&#x3D;&quot;分配角色&quot; :visible.sync&#x3D;&quot;setRoleDialogVisible&quot; width&#x3D;&quot;50%&quot; @close&#x3D;&quot;setRoleDialogClosed&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;p&gt;当前的用户:&#123;&#123;userInfo.username&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;当前的角色:&#123;&#123;userInfo.role_name&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;分配新角色:</span><br><span class="line">        &lt;!-- 角色选择下拉框</span><br><span class="line">        v-model：设置用户选中角色之后的id绑定数据</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;el-select v-model&#x3D;&quot;selectedRoleId&quot; placeholder&#x3D;&quot;请选择角色&quot;&gt;</span><br><span class="line">        &lt;!-- :label 显示文本，:value 选中值 --&gt;</span><br><span class="line">        &lt;el-option v-for&#x3D;&quot;item in rolesList&quot; :key&#x3D;&quot;item.id&quot; :label&#x3D;&quot;item.roleName&quot; :value&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">        &lt;&#x2F;el-option&gt;</span><br><span class="line">        &lt;&#x2F;el-select&gt;</span><br><span class="line">    &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;setRoleDialogVisible &#x3D; false&quot;&gt;取 消&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;saveRoleInfo&quot;&gt;确 定&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">methods:&#123;</span><br><span class="line">    .......</span><br><span class="line">    async saveRoleInfo()&#123;</span><br><span class="line">      &#x2F;&#x2F;当用户点击确定按钮之后</span><br><span class="line">      &#x2F;&#x2F;判断用户是否选择了需要分配的角色</span><br><span class="line">      if(!this.selectedRoleId)&#123;</span><br><span class="line">        return this.$message.error(&#39;请选择需要分配的角色&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">      &#x2F;&#x2F;发送请求完成分配角色的操作</span><br><span class="line">      const &#123;data:res&#125; &#x3D; await this.$http.put(&#96;users&#x2F;$&#123;this.userInfo.id&#125;&#x2F;role&#96;,&#123;rid:this.selectedRoleId&#125;)</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F;判断如果删除失败，就做提示</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">        return this.$message.error(&#39;分配角色失败&#39;)</span><br><span class="line"></span><br><span class="line">      this.$message.success(&#39;分配角色成功&#39;)</span><br><span class="line">      this.getUserList();</span><br><span class="line">      &#x2F;&#x2F;关闭对话框</span><br><span class="line">      this.setRoleDialogVisible &#x3D; false</span><br><span class="line">    &#125;,</span><br><span class="line">    setRoleDialogClosed()&#123;</span><br><span class="line">      &#x2F;&#x2F;当关闭对话框的时候，重置下拉框中的内容</span><br><span class="line">      this.selectedRoleId &#x3D; &#39;&#39;</span><br><span class="line">      this.userInfo &#x3D; &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-将代码推送到码云"><a href="#7-将代码推送到码云" class="headerlink" title="7.将代码推送到码云"></a>7.将代码推送到码云</h3><p>A.将代码推送到暂存区 git add .<br>B.将代码提交到仓库 git commit -m ‘完成了权限功能开发’<br>C.将rights分支代码推送到码云 git push<br>D.将代码合并到master<br>    git checkout master<br>    git merge rights<br>E.将master代码推送到码云<br>    git push</p><h3 id="8-致谢"><a href="#8-致谢" class="headerlink" title="8.致谢"></a>8.<a href="https://space.bilibili.com/386301970/?share_source=weixin&share_medium=ipad&bbid=Z544D956D28B95374071A66BF44DEA8FBED7&ts=1598967607" target="_blank" rel="noopener">致谢</a></h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="前端" scheme="http://codehao.top/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Vue" scheme="http://codehao.top/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>vue项目实战--LAM系统（二）</title>
    <link href="http://codehao.top/cl15275l4001hiwla1n2t7p07/"/>
    <id>http://codehao.top/cl15275l4001hiwla1n2t7p07/</id>
    <published>2022-03-15T13:32:04.443Z</published>
    <updated>2020-09-07T01:44:16.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="VUE实训项目-ilab实验室管理系统"><a href="#VUE实训项目-ilab实验室管理系统" class="headerlink" title="VUE实训项目-ilab实验室管理系统"></a>VUE实训项目-ilab实验室管理系统</h3><p>1.实现后台首页的基本布局<br>2.实现左侧菜单栏<br>3.实现用户列表展示<br>4.实现添加用户</p><h3 id="1-后台首页基本布局"><a href="#1-后台首页基本布局" class="headerlink" title="1.后台首页基本布局"></a>1.后台首页基本布局</h3><p>打开Home.vue组件，进行布局：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-container class&#x3D;&quot;home-container&quot;&gt;</span><br><span class="line">  &lt;!-- 头部区域 --&gt;</span><br><span class="line">  &lt;el-header&gt;Header&lt;el-button type&#x3D;&quot;info&quot; @click&#x3D;&quot;logout&quot;&gt; 退出 &lt;&#x2F;el-button&gt;&lt;&#x2F;el-header&gt;</span><br><span class="line">  &lt;!-- 页面主体区域 --&gt;</span><br><span class="line">  &lt;el-container&gt;</span><br><span class="line">    &lt;!-- 侧边栏 --&gt;</span><br><span class="line">    &lt;el-aside width&#x3D;&quot;200px&quot;&gt;Aside&lt;&#x2F;el-aside&gt;</span><br><span class="line">    &lt;!-- 主体结构 --&gt;</span><br><span class="line">    &lt;el-main&gt;Main&lt;&#x2F;el-main&gt;</span><br><span class="line">  &lt;&#x2F;el-container&gt;</span><br><span class="line">&lt;&#x2F;el-container&gt;</span><br></pre></td></tr></table></figure><p>默认情况下，跟element-ui组件同名的类名可以帮助我们快速的给对应的组件添加样式，如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.home-container &#123;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.el-header&#123;</span><br><span class="line">  background-color:#373D41;</span><br><span class="line">&#125;</span><br><span class="line">.el-aside&#123;</span><br><span class="line">  background-color:#333744;</span><br><span class="line">&#125;</span><br><span class="line">.el-main&#123;</span><br><span class="line">  background-color:#eaedf1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-顶部布局，侧边栏布局"><a href="#2-顶部布局，侧边栏布局" class="headerlink" title="2.顶部布局，侧边栏布局"></a>2.顶部布局，侧边栏布局</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;el-container class&#x3D;&quot;home-container&quot;&gt;</span><br><span class="line">      &lt;!-- 头部区域 --&gt;</span><br><span class="line">      &lt;el-header&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;!-- 黑马logo --&gt;</span><br><span class="line">          &lt;img src&#x3D;&quot;..&#x2F;assets&#x2F;heima.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">          &lt;!-- 顶部标题 --&gt;</span><br><span class="line">          &lt;span&gt;电商后台管理系统&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;el-button type&#x3D;&quot;info&quot; @click&#x3D;&quot;logout&quot;&gt; 退出 &lt;&#x2F;el-button&gt;</span><br><span class="line">      &lt;&#x2F;el-header&gt;</span><br><span class="line">      &lt;!-- 页面主体区域 --&gt;</span><br><span class="line">      &lt;el-container&gt;</span><br><span class="line">        &lt;!-- 侧边栏 --&gt;</span><br><span class="line">        &lt;el-aside width&#x3D;&quot;200px&quot;&gt;</span><br><span class="line">          &lt;!-- 侧边栏菜单 --&gt;</span><br><span class="line">          &lt;el-menu</span><br><span class="line">            background-color&#x3D;&quot;#333744&quot;</span><br><span class="line">            text-color&#x3D;&quot;#fff&quot;</span><br><span class="line">            active-text-color&#x3D;&quot;#ffd04b&quot;&gt;</span><br><span class="line">            &lt;!-- 一级菜单 --&gt;</span><br><span class="line">            &lt;el-submenu index&#x3D;&quot;1&quot;&gt;</span><br><span class="line">              &lt;!-- 一级菜单模板 --&gt;</span><br><span class="line">              &lt;template slot&#x3D;&quot;title&quot;&gt;</span><br><span class="line">                &lt;!-- 图标 --&gt;</span><br><span class="line">                &lt;i class&#x3D;&quot;el-icon-location&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">                &lt;!-- 文本 --&gt;</span><br><span class="line">                &lt;span&gt;导航一&lt;&#x2F;span&gt;</span><br><span class="line">              &lt;&#x2F;template&gt;</span><br><span class="line">              &lt;!-- 二级子菜单 --&gt;</span><br><span class="line">              &lt;el-menu-item index&#x3D;&quot;1-4-1&quot;&gt;</span><br><span class="line">                &lt;!-- 二级菜单模板 --&gt;</span><br><span class="line">                &lt;template slot&#x3D;&quot;title&quot;&gt;</span><br><span class="line">                  &lt;!-- 图标 --&gt;</span><br><span class="line">                  &lt;i class&#x3D;&quot;el-icon-location&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">                  &lt;!-- 文本 --&gt;</span><br><span class="line">                  &lt;span&gt;子菜单一&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;&#x2F;template&gt;</span><br><span class="line">              &lt;&#x2F;el-menu-item&gt;</span><br><span class="line">            &lt;&#x2F;el-submenu&gt;</span><br><span class="line">            </span><br><span class="line">          &lt;&#x2F;el-menu&gt;</span><br><span class="line">        &lt;&#x2F;el-aside&gt;</span><br><span class="line">        &lt;!-- 主体结构 --&gt;</span><br><span class="line">        &lt;el-main&gt;Main&lt;&#x2F;el-main&gt;</span><br><span class="line">      &lt;&#x2F;el-container&gt;</span><br><span class="line">    &lt;&#x2F;el-container&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure><h3 id="3-axios请求拦截器"><a href="#3-axios请求拦截器" class="headerlink" title="3.axios请求拦截器"></a>3.axios请求拦截器</h3><p>后台除了登录接口之外，都需要token权限验证，我们可以通过添加axios请求拦截器来添加token，以保证拥有获取数据的权限<br>在main.js中添加代码，在将axios挂载到vue原型之前添加下面的代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息</span><br><span class="line">axios.interceptors.request.use(config&#x3D;&gt;&#123;</span><br><span class="line">  &#x2F;&#x2F;为请求头对象，添加token验证的Authorization字段</span><br><span class="line">  config.headers.Authorization &#x3D; window.sessionStorage.getItem(&quot;token&quot;)</span><br><span class="line">  return config</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="4-请求侧边栏数据"><a href="#4-请求侧边栏数据" class="headerlink" title="4.请求侧边栏数据"></a>4.请求侧边栏数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F; 左侧菜单数据</span><br><span class="line">      menuList: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    &#x2F;&#x2F; 在created阶段请求左侧菜单数据</span><br><span class="line">    this.getMenuList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    logout() &#123;</span><br><span class="line">      window.sessionStorage.clear()</span><br><span class="line">      this.$router.push(&#39;&#x2F;login&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line">    async getMenuList() &#123;</span><br><span class="line">      &#x2F;&#x2F; 发送请求获取左侧菜单数据</span><br><span class="line">      const &#123; data: res &#125; &#x3D; await this.$http.get(&#39;menus&#39;)</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200) return this.$message.error(res.meta.msg)</span><br><span class="line"></span><br><span class="line">      this.menuList &#x3D; res.data</span><br><span class="line">      console.log(res)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>通过v-for双重循环渲染左侧菜单</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-menu</span><br><span class="line">  background-color&#x3D;&quot;#333744&quot;</span><br><span class="line">  text-color&#x3D;&quot;#fff&quot;</span><br><span class="line">  active-text-color&#x3D;&quot;#ffd04b&quot;&gt;</span><br><span class="line">  &lt;!-- 一级菜单 --&gt;</span><br><span class="line">  &lt;el-submenu :index&#x3D;&quot;item.id+&#39;&#39;&quot; v-for&#x3D;&quot;item in menuList&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">    &lt;!-- 一级菜单模板 --&gt;</span><br><span class="line">    &lt;template slot&#x3D;&quot;title&quot;&gt;</span><br><span class="line">      &lt;!-- 图标 --&gt;</span><br><span class="line">      &lt;i class&#x3D;&quot;el-icon-location&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">      &lt;!-- 文本 --&gt;</span><br><span class="line">      &lt;span&gt;&#123;&#123;item.authName&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;!-- 二级子菜单 --&gt;</span><br><span class="line">    &lt;el-menu-item :index&#x3D;&quot;subItem.id+&#39;&#39;&quot; v-for&#x3D;&quot;subItem in item.children&quot; :key&#x3D;&quot;subItem.id&quot;&gt;</span><br><span class="line">      &lt;!-- 二级菜单模板 --&gt;</span><br><span class="line">      &lt;template slot&#x3D;&quot;title&quot;&gt;</span><br><span class="line">        &lt;!-- 图标 --&gt;</span><br><span class="line">        &lt;i class&#x3D;&quot;el-icon-location&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">        &lt;!-- 文本 --&gt;</span><br><span class="line">        &lt;span&gt;&#123;&#123;subItem.authName&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;el-menu-item&gt;</span><br><span class="line">  &lt;&#x2F;el-submenu&gt;</span><br><span class="line">&lt;&#x2F;el-menu&gt;</span><br></pre></td></tr></table></figure><h3 id="5-设置激活子菜单样式"><a href="#5-设置激活子菜单样式" class="headerlink" title="5.设置激活子菜单样式"></a>5.设置激活子菜单样式</h3><p>通过更改el-menu的active-text-color属性可以设置侧边栏菜单中点击的激活项的文字颜色<br>通过更改菜单项模板（template）中的i标签的类名，可以将左侧菜单栏的图标进行设置，我们需要在项目中使用第三方字体图标<br>在数据中添加一个iconsObj：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">iconsObj: &#123;</span><br><span class="line">        &#39;125&#39;:&#39;iconfont icon-user&#39;,</span><br><span class="line">        &#39;103&#39;:&#39;iconfont icon-tijikongjian&#39;,</span><br><span class="line">        &#39;101&#39;:&#39;iconfont icon-shangpin&#39;,</span><br><span class="line">        &#39;102&#39;:&#39;iconfont icon-danju&#39;,</span><br><span class="line">        &#39;145&#39;:&#39;iconfont icon-baobiao&#39;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>然后将图标类名进行数据绑定，绑定iconsObj中的数据：</p><p>为了保持左侧菜单每次只能打开一个，显示其中的子菜单，我们可以在el-menu中添加一个属性unique-opened<br>或者也可以数据绑定进行设置(此时true认为是一个bool值，而不是字符串) :unique-opened=”true”</p><h3 id="6-制作侧边菜单栏的伸缩功能"><a href="#6-制作侧边菜单栏的伸缩功能" class="headerlink" title="6.制作侧边菜单栏的伸缩功能"></a>6.制作侧边菜单栏的伸缩功能</h3><p>在菜单栏上方添加一个div</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 侧边栏,宽度根据是否折叠进行设置 --&gt;</span><br><span class="line">&lt;el-aside :width&#x3D;&quot;isCollapse ? &#39;64px&#39;:&#39;200px&#39;&quot;&gt;</span><br><span class="line">  &lt;!-- 伸缩侧边栏按钮 --&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;toggle-button&quot; @click&#x3D;&quot;toggleCollapse&quot;&gt;|||&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;!-- 侧边栏菜单，:collapse&#x3D;&quot;isCollapse&quot;（设置折叠菜单为绑定的 isCollapse 值），:collapse-transition&#x3D;&quot;false&quot;（关闭默认的折叠动画） --&gt;</span><br><span class="line">  &lt;el-menu</span><br><span class="line">  :collapse&#x3D;&quot;isCollapse&quot;</span><br><span class="line">  :collapse-transition&#x3D;&quot;false&quot;</span><br><span class="line">  ......</span><br></pre></td></tr></table></figure><p>然后给div添加样式，给div添加事件：</p><div class="toggle-button" @click="this.isCollapse ? '64px':'200px'">|||</div>### 7.在后台首页添加子级路由新增子级路由组件Welcome.vue在router.js中导入子级路由组件，并设置路由规则以及子级路由的默认重定向打开Home.vue，在main的主体结构中添加一个路由占位符<p>制作好了Welcome子级路由之后，我们需要将所有的侧边栏二级菜单都改造成子级路由链接<br>我们只需要将el-menu的router属性设置为true就可以了，此时当我们点击二级菜单的时候，就会根据菜单的index<br>属性进行路由跳转,如: /110,<br>使用index id来作为跳转的路径不合适，我们可以重新绑定index的值为  :index=”‘/‘+subItem.path”</p><h3 id="8-完成用户列表主体区域"><a href="#8-完成用户列表主体区域" class="headerlink" title="8.完成用户列表主体区域"></a>8.完成用户列表主体区域</h3><p>新建用户列表组件  user/Users.vue<br>在router.js中导入子级路由组件Users.vue，并设置路由规则</p><p>当点击二级菜单的时候，被点击的二级子菜单并没有高亮，我们需要正在被使用的功能高亮显示<br>我们可以通过设置el-menu的default-active属性来设置当前激活菜单的index<br>但是default-active属性也不能写死，固定为某个菜单值<br>所以我们可以先给所有的二级菜单添加点击事件,并将path值作为方法的参数<br>@click=”saveNavState(‘/‘+subItem.path)”<br>在saveNavState方法中将path保存到sessionStorage中<br>saveNavState( path ){<br>  //点击二级菜单的时候保存被点击的二级菜单信息<br>  window.sessionStorage.setItem(“activePath”,path);<br>  this.activePath = path;<br>}<br>然后在数据中添加一个activePath绑定数据，并将el-menu的default-active属性设置为activePath<br>最后在created中将sessionStorage中的数据赋值给activePath<br>this.activePath = window.sessionStorage.getItem(“activePath”)</p><h3 id="9-绘制用户列表基本结构"><a href="#9-绘制用户列表基本结构" class="headerlink" title="9.绘制用户列表基本结构"></a>9.绘制用户列表基本结构</h3><p>A.使用element-ui面包屑组件完成顶部导航路径(复制面包屑代码，在element.js中导入组件Breadcrumb,BreadcrumbItem)<br>B.使用element-ui卡片组件完成主体表格(复制卡片组件代码，在element.js中导入组件Card)，再使用element-ui输入框完成搜索框及搜索按钮，<br>此时我们需要使用栅格布局来划分结构(复制卡片组件代码，在element.js中导入组件Row，Col)，然后再使用el-button制作添加用户按钮</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h3&gt;用户列表组件&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;!-- 面包屑导航 --&gt;</span><br><span class="line">    &lt;el-breadcrumb separator&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">        &lt;el-breadcrumb-item :to&#x3D;&quot;&#123; path: &#39;&#x2F;home&#39; &#125;&quot;&gt;首页&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;el-breadcrumb-item&gt;用户管理&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">        &lt;el-breadcrumb-item&gt;用户列表&lt;&#x2F;el-breadcrumb-item&gt;</span><br><span class="line">    &lt;&#x2F;el-breadcrumb&gt;</span><br><span class="line">    &lt;!-- 卡片视图区域 --&gt;</span><br><span class="line">    &lt;el-card&gt;</span><br><span class="line">        &lt;!-- 搜索与添加区域 --&gt;</span><br><span class="line">        &lt;el-row :gutter&#x3D;&quot;20&quot;&gt;</span><br><span class="line">            &lt;el-col :span&#x3D;&quot;7&quot;&gt;</span><br><span class="line">                &lt;el-input placeholder&#x3D;&quot;请输入内容&quot;&gt;</span><br><span class="line">                    &lt;el-button slot&#x3D;&quot;append&quot; icon&#x3D;&quot;el-icon-search&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">                &lt;&#x2F;el-input&gt; </span><br><span class="line">            &lt;&#x2F;el-col&gt;</span><br><span class="line">            &lt;el-col :span&#x3D;&quot;4&quot;&gt;</span><br><span class="line">                &lt;el-button type&#x3D;&quot;primary&quot;&gt;添加用户&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;el-col&gt;</span><br><span class="line">        &lt;&#x2F;el-row&gt; </span><br><span class="line">    &lt;&#x2F;el-card&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><h3 id="10-请求用户列表数据"><a href="#10-请求用户列表数据" class="headerlink" title="10.请求用户列表数据"></a>10.请求用户列表数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F;获取查询用户信息的参数</span><br><span class="line">      queryInfo: &#123;</span><br><span class="line">        query: &#39;&#39;,</span><br><span class="line">        pagenum: 1,</span><br><span class="line">        pagesize: 2</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;保存请求回来的用户列表数据</span><br><span class="line">      userList:[],</span><br><span class="line">      total:0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.getUserList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async getUserList() &#123;</span><br><span class="line">      &#x2F;&#x2F;发送请求获取用户列表数据</span><br><span class="line">      const &#123; res: data &#125; &#x3D; await this.$http.get(&#39;users&#39;, &#123;</span><br><span class="line">        params: this.queryInfo</span><br><span class="line">      &#125;)</span><br><span class="line">      &#x2F;&#x2F;如果返回状态为异常状态则报错并返回</span><br><span class="line">      if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">        return this.$message.error(&#39;获取用户列表失败&#39;)</span><br><span class="line">      &#x2F;&#x2F;如果返回状态正常，将请求的数据保存在data中</span><br><span class="line">      this.userList &#x3D; res.data.users;</span><br><span class="line">      this.total &#x3D; res.data.total;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h3 id="11-将用户列表数据展示"><a href="#11-将用户列表数据展示" class="headerlink" title="11.将用户列表数据展示"></a>11.将用户列表数据展示</h3><p>使用表格来展示用户列表数据，使用element-ui表格组件完成列表展示数据(复制表格代码，在element.js中导入组件Table,TableColumn)<br>在渲染展示状态时，会使用作用域插槽获取每一行的数据<br>再使用switch开关组件展示状态信息(复制开关组件代码，在element.js中导入组件Switch)<br>而渲染操作列时，也是使用作用域插槽来进行渲染的，<br>在操作列中包含了修改，删除，分配角色按钮，当我们把鼠标放到分配角色按钮上时<br>希望能有一些文字提示，此时我们需要使用文字提示组件(复制文字提示组件代码，在element.js中导入组件Tooltip),将分配角色按钮包含<br>代码结构如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 用户列表(表格)区域 --&gt;</span><br><span class="line">&lt;el-table :data&#x3D;&quot;userList&quot; border stripe&gt;</span><br><span class="line">    &lt;el-table-column type&#x3D;&quot;index&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;姓名&quot; prop&#x3D;&quot;username&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;邮箱&quot; prop&#x3D;&quot;email&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;电话&quot; prop&#x3D;&quot;mobile&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;角色&quot; prop&#x3D;&quot;role_name&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;状态&quot;&gt;</span><br><span class="line">        &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">            &lt;el-switch v-model&#x3D;&quot;scope.row.mg_state&quot;&gt;&lt;&#x2F;el-switch&gt;</span><br><span class="line">        &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label&#x3D;&quot;操作&quot; width&#x3D;&quot;180px&quot;&gt;</span><br><span class="line">        &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">            &lt;!-- 修改 --&gt;</span><br><span class="line">            &lt;el-button type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-edit&quot; size&#x3D;&#39;mini&#39;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;!-- 删除 --&gt;</span><br><span class="line">            &lt;el-button type&#x3D;&quot;danger&quot; icon&#x3D;&quot;el-icon-delete&quot; size&#x3D;&#39;mini&#39;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;!-- 分配角色 --&gt;</span><br><span class="line">            &lt;el-tooltip class&#x3D;&quot;item&quot; effect&#x3D;&quot;dark&quot; content&#x3D;&quot;分配角色&quot; placement&#x3D;&quot;top&quot; :enterable&#x3D;&quot;false&quot;&gt;</span><br><span class="line">                &lt;el-button type&#x3D;&quot;warning&quot; icon&#x3D;&quot;el-icon-setting&quot; size&#x3D;&#39;mini&#39;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;el-tooltip&gt;</span><br><span class="line">        &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure><h3 id="12-实现用户列表分页"><a href="#12-实现用户列表分页" class="headerlink" title="12.实现用户列表分页"></a>12.实现用户列表分页</h3><p>A.使用表格来展示用户列表数据，可以使用分页组件完成列表分页展示数据(复制分页组件代码，在element.js中导入组件Pagination)<br>B.更改组件中的绑定数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 分页导航区域 </span><br><span class="line">@size-change(pagesize改变时触发) </span><br><span class="line">@current-change(页码发生改变时触发)</span><br><span class="line">:current-page(设置当前页码)</span><br><span class="line">:page-size(设置每页的数据条数)</span><br><span class="line">:total(设置总页数) --&gt;</span><br><span class="line">            &lt;el-pagination @size-change&#x3D;&quot;handleSizeChange&quot; @current-change&#x3D;&quot;handleCurrentChange&quot; :current-page&#x3D;&quot;queryInfo.pagenum&quot; :page-sizes&#x3D;&quot;[1, 2, 5, 10]&quot; :page-size&#x3D;&quot;queryInfo.pagesize&quot; layout&#x3D;&quot;total, sizes, prev, pager, next, jumper&quot; :total&#x3D;&quot;total&quot;&gt;</span><br><span class="line">            &lt;&#x2F;el-pagination&gt;</span><br></pre></td></tr></table></figure><p>C.添加两个事件的事件处理函数@size-change，@current-change</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">handleSizeChange(newSize) &#123;</span><br><span class="line">  &#x2F;&#x2F;pagesize改变时触发，当pagesize发生改变的时候，我们应该</span><br><span class="line">  &#x2F;&#x2F;以最新的pagesize来请求数据并展示数据</span><br><span class="line">  &#x2F;&#x2F;   console.log(newSize)</span><br><span class="line">  this.queryInfo.pagesize &#x3D; newSize;</span><br><span class="line">  &#x2F;&#x2F;重新按照pagesize发送请求，请求最新的数据</span><br><span class="line">  this.getUserList();  </span><br><span class="line">&#125;,</span><br><span class="line">handleCurrentChange( current ) &#123;</span><br><span class="line">  &#x2F;&#x2F;页码发生改变时触发当current发生改变的时候，我们应该</span><br><span class="line">  &#x2F;&#x2F;以最新的current页码来请求数据并展示数据</span><br><span class="line">  &#x2F;&#x2F;   console.log(current)</span><br><span class="line">  this.queryInfo.pagenum &#x3D; current;</span><br><span class="line">  &#x2F;&#x2F;重新按照pagenum发送请求，请求最新的数据</span><br><span class="line">  this.getUserList();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="13-实现更新用户状态"><a href="#13-实现更新用户状态" class="headerlink" title="13.实现更新用户状态"></a>13.实现更新用户状态</h3><p>当用户点击列表中的switch组件时，用户的状态应该跟随发生改变。<br>A.首先监听用户点击switch组件的事件，并将作用域插槽的数据当做事件参数进行传递</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-switch v-model&#x3D;&quot;scope.row.mg_state&quot; @change&#x3D;&quot;userStateChanged(scope.row)&quot;&gt;&lt;&#x2F;el-switch&gt;</span><br></pre></td></tr></table></figure><p>B.在事件中发送请求完成状态的更改</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">async userStateChanged(row) &#123;</span><br><span class="line">  &#x2F;&#x2F;发送请求进行状态修改</span><br><span class="line">  const &#123; data: res &#125; &#x3D; await this.$http.put(</span><br><span class="line">    &#96;users&#x2F;$&#123;row.id&#125;&#x2F;state&#x2F;$&#123;row.mg_state&#125;&#96;</span><br><span class="line">  )</span><br><span class="line">  &#x2F;&#x2F;如果返回状态为异常状态则报错并返回</span><br><span class="line">  if (res.meta.status !&#x3D;&#x3D; 200) &#123;</span><br><span class="line">    row.mg_state &#x3D; !row.mg_state</span><br><span class="line">    return this.$message.error(&#39;修改状态失败&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">  this.$message.success(&#39;更新状态成功&#39;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="14-实现搜索功能"><a href="#14-实现搜索功能" class="headerlink" title="14.实现搜索功能"></a>14.实现搜索功能</h3><p>添加数据绑定，添加搜索按钮的点击事件(当用户点击搜索按钮的时候，调用getUserList方法根据文本框内容重新请求用户列表数据)<br>当我们在输入框中输入内容并点击搜索之后，会按照搜索关键字搜索，我们希望能够提供一个X删除搜索关键字并重新获取所有的用户列表数据，只需要给文本框添加clearable属性并添加clear事件，在clear事件中重新请求数据即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-col :span&#x3D;&quot;7&quot;&gt;</span><br><span class="line">    &lt;el-input placeholder&#x3D;&quot;请输入内容&quot; v-model&#x3D;&quot;queryInfo.query&quot; clearable @clear&#x3D;&quot;getUserList&quot;&gt;</span><br><span class="line">        &lt;el-button slot&#x3D;&quot;append&quot; icon&#x3D;&quot;el-icon-search&quot; @click&#x3D;&quot;getUserList&quot;&gt;&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;el-input&gt;</span><br><span class="line">&lt;&#x2F;el-col&gt;</span><br></pre></td></tr></table></figure><h3 id="15-实现添加用户"><a href="#15-实现添加用户" class="headerlink" title="15.实现添加用户"></a>15.实现添加用户</h3><p>A.当我们点击添加用户按钮的时候，弹出一个对话框来实现添加用户的功能，首先我们需要复制对话框组件的代码并在element.js文件中引入Dialog组件</p><p>B.接下来我们要为“添加用户”按钮添加点击事件，在事件中将addDialogVisible设置为true，即显示对话框</p><p>C.更改Dialog组件中的内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 对话框组件  :visible.sync(设置是否显示对话框) width(设置对话框的宽度)</span><br><span class="line">:before-close(在对话框关闭前触发的事件) --&gt;</span><br><span class="line">&lt;el-dialog title&#x3D;&quot;添加用户&quot; :visible.sync&#x3D;&quot;addDialogVisible&quot; width&#x3D;&quot;50%&quot;&gt;</span><br><span class="line">    &lt;!-- 对话框主体区域 --&gt;</span><br><span class="line">    &lt;el-form :model&#x3D;&quot;addForm&quot; :rules&#x3D;&quot;addFormRules&quot; ref&#x3D;&quot;addFormRef&quot; label-width&#x3D;&quot;70px&quot;&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;用户名&quot; prop&#x3D;&quot;username&quot;&gt;</span><br><span class="line">            &lt;el-input v-model&#x3D;&quot;addForm.username&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;密码&quot; prop&#x3D;&quot;password&quot;&gt;</span><br><span class="line">            &lt;el-input v-model&#x3D;&quot;addForm.password&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;邮箱&quot; prop&#x3D;&quot;email&quot;&gt;</span><br><span class="line">            &lt;el-input v-model&#x3D;&quot;addForm.email&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;电话&quot; prop&#x3D;&quot;mobile&quot;&gt;</span><br><span class="line">            &lt;el-input v-model&#x3D;&quot;addForm.mobile&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">    &lt;&#x2F;el-form&gt;</span><br><span class="line">    &lt;!-- 对话框底部区域 --&gt;</span><br><span class="line">    &lt;span slot&#x3D;&quot;footer&quot; class&#x3D;&quot;dialog-footer&quot;&gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;addDialogVisible &#x3D; false&quot;&gt;取 消&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;addDialogVisible &#x3D; false&quot;&gt;确 定&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;el-dialog&gt;</span><br></pre></td></tr></table></figure><p>D.添加数据绑定和校验规则：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">  &#x2F;&#x2F;验证邮箱的规则</span><br><span class="line">  var checkEmail &#x3D; (rule, value, cb) &#x3D;&gt; &#123;</span><br><span class="line">    const regEmail &#x3D; &#x2F;^\w+@\w+(\.\w+)+$&#x2F;</span><br><span class="line">    if (regEmail.test(value)) &#123;</span><br><span class="line">      return cb()</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;返回一个错误提示</span><br><span class="line">    cb(new Error(&#39;请输入合法的邮箱&#39;))</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F;验证手机号码的规则</span><br><span class="line">  var checkMobile &#x3D; (rule, value, cb) &#x3D;&gt; &#123;</span><br><span class="line">    const regMobile &#x3D; &#x2F;^1[34578]\d&#123;9&#125;$&#x2F;</span><br><span class="line">    if (regMobile.test(value)) &#123;</span><br><span class="line">      return cb()</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;返回一个错误提示</span><br><span class="line">    cb(new Error(&#39;请输入合法的手机号码&#39;))</span><br><span class="line">  &#125;</span><br><span class="line">  return &#123;</span><br><span class="line">    &#x2F;&#x2F;获取查询用户信息的参数</span><br><span class="line">    queryInfo: &#123;</span><br><span class="line">      &#x2F;&#x2F; 查询的条件</span><br><span class="line">      query: &#39;&#39;,</span><br><span class="line">      &#x2F;&#x2F; 当前的页数，即页码</span><br><span class="line">      pagenum: 1,</span><br><span class="line">      &#x2F;&#x2F; 每页显示的数据条数</span><br><span class="line">      pagesize: 2</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;保存请求回来的用户列表数据</span><br><span class="line">    userList: [],</span><br><span class="line">    total: 0,</span><br><span class="line">    &#x2F;&#x2F;是否显示添加用户弹出窗</span><br><span class="line">    addDialogVisible: false,</span><br><span class="line">    &#x2F;&#x2F; 添加用户的表单数据</span><br><span class="line">    addForm: &#123;</span><br><span class="line">      username: &#39;&#39;,</span><br><span class="line">      password: &#39;&#39;,</span><br><span class="line">      email: &#39;&#39;,</span><br><span class="line">      mobile: &#39;&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; 添加表单的验证规则对象</span><br><span class="line">    addFormRules: &#123;</span><br><span class="line">      username: [</span><br><span class="line">        &#123; required: true, message: &#39;请输入用户名称&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          min: 3,</span><br><span class="line">          max: 10,</span><br><span class="line">          message: &#39;用户名在3~10个字符之间&#39;,</span><br><span class="line">          trigger: &#39;blur&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      password: [</span><br><span class="line">        &#123; required: true, message: &#39;请输入密码&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          min: 6,</span><br><span class="line">          max: 15,</span><br><span class="line">          message: &#39;用户名在6~15个字符之间&#39;,</span><br><span class="line">          trigger: &#39;blur&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      email: [</span><br><span class="line">          &#123; required: true, message: &#39;请输入邮箱&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">          &#123; validator:checkEmail, message: &#39;邮箱格式不正确，请重新输入&#39;, trigger: &#39;blur&#39;&#125;</span><br><span class="line">      ],</span><br><span class="line">      mobile: [</span><br><span class="line">          &#123; required: true, message: &#39;请输入手机号码&#39;, trigger: &#39;blur&#39; &#125;,</span><br><span class="line">          &#123; validator:checkMobile, message: &#39;手机号码不正确，请重新输入&#39;, trigger: &#39;blur&#39;&#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>E.当关闭对话框时，重置表单<br>给el-dialog添加@close事件，在事件中添加重置表单的代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">  ....</span><br><span class="line">  addDialogClosed()&#123;</span><br><span class="line">      &#x2F;&#x2F;对话框关闭之后，重置表达</span><br><span class="line">      this.$refs.addFormRef.resetFields();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>F.点击对话框中的确定按钮，发送请求完成添加用户的操作<br>首先给确定按钮添加点击事件，在点击事件中完成业务逻辑代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">  ....</span><br><span class="line">  addUser()&#123;</span><br><span class="line">      &#x2F;&#x2F;点击确定按钮，添加新用户</span><br><span class="line">      &#x2F;&#x2F;调用validate进行表单验证</span><br><span class="line">      this.$refs.addFormRef.validate( async valid &#x3D;&gt; &#123;</span><br><span class="line">          if(!valid) return this.$message.error(&quot;请填写完整用户信息&quot;);</span><br><span class="line">          &#x2F;&#x2F;发送请求完成添加用户的操作</span><br><span class="line">          const &#123;data:res&#125; &#x3D; await this.$http.post(&quot;users&quot;,this.addForm)</span><br><span class="line">          &#x2F;&#x2F;判断如果添加失败，就做提示</span><br><span class="line">          if (res.meta.status !&#x3D;&#x3D; 200)</span><br><span class="line">              return this.$message.error(&#39;添加用户失败&#39;)</span><br><span class="line">          &#x2F;&#x2F;添加成功的提示</span><br><span class="line">          this.$message.success(&quot;添加用户成功&quot;)</span><br><span class="line">          &#x2F;&#x2F;关闭对话框</span><br><span class="line">          this.addDialogVisible &#x3D; false</span><br><span class="line">          &#x2F;&#x2F;重新请求最新的数据</span><br><span class="line">          this.getUserList()</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="16-致谢"><a href="#16-致谢" class="headerlink" title="16.致谢"></a>16.<a href="https://space.bilibili.com/386301970/?share_source=weixin&share_medium=ipad&bbid=Z544D956D28B95374071A66BF44DEA8FBED7&ts=1598967607" target="_blank" rel="noopener">致谢</a></h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="前端" scheme="http://codehao.top/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Vue" scheme="http://codehao.top/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>resetFields()方法重置表单无效解决方案</title>
    <link href="http://codehao.top/cl15275l5001liwla95c25ymo/"/>
    <id>http://codehao.top/cl15275l5001liwla95c25ymo/</id>
    <published>2022-03-15T13:32:04.425Z</published>
    <updated>2020-10-10T13:36:50.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="Vue-amp-element-ui的resetFields-方法重置表单无效"><a href="#Vue-amp-element-ui的resetFields-方法重置表单无效" class="headerlink" title="Vue &amp; element-ui的resetFields()方法重置表单无效"></a>Vue &amp; element-ui的resetFields()方法重置表单无效</h3><h5 id="1，效果展示"><a href="#1，效果展示" class="headerlink" title="1，效果展示"></a>1，效果展示</h5><img src="/" class="lazyload" data-src="https://i.loli.net/2020/10/10/xm1TD2BfLVc7vK6.png"  alt="image-20201010205003251" style="zoom:80%;" /><h5 id="2，相关代码"><a href="#2，相关代码" class="headerlink" title="2，相关代码"></a>2，相关代码</h5><img src="/" class="lazyload" data-src="https://i.loli.net/2020/10/10/UNmtQyAVc23x6hb.png"  alt="image-20201010205333719" style="zoom:80%;" /><img src="/" class="lazyload" data-src="https://i.loli.net/2020/10/10/bQUK2k4Jfx1Vwtn.png"  alt="image-20201010205455000" style="zoom:80%;" /><h5 id="3，实现方法及注意事项"><a href="#3，实现方法及注意事项" class="headerlink" title="3，实现方法及注意事项"></a>3，实现方法及注意事项</h5><p>​        1、给表单<strong>添加ref属性</strong></p><p>​        2、表单项el-form-item要<strong>添加prop属性</strong>，prop属性需要与input框绑定数据的最后名称一致，如v-model=”addCateForm.cat_name”, prop则应该为 prop=”cat_name”</p><p>​        3、在关闭事件中，写this.$refs.xxx.resetFields();  &lt;此处xxx为form内ref属性起的名字，我这里是ref=“addCateFormRuleForm”&gt;</p><img src="/" class="lazyload" data-src="https://i.loli.net/2020/10/10/fNDsxTw8b7YyLiX.png"  alt="image-20201010205912337" style="zoom:80%;" />]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="技术" scheme="http://codehao.top/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="problem" scheme="http://codehao.top/tags/problem/"/>
    
  </entry>
  
  <entry>
    <title>Python贪吃蛇游戏</title>
    <link href="http://codehao.top/cl15275kl000jiwla0ag8bto5/"/>
    <id>http://codehao.top/cl15275kl000jiwla0ag8bto5/</id>
    <published>2022-03-15T13:32:04.404Z</published>
    <updated>2020-07-21T14:42:00.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一，认识Pygame"><a href="#一，认识Pygame" class="headerlink" title="一，认识Pygame"></a>一，认识Pygame</h2><p>​   Pygame最初是由Pete  Shinner编写的，该项目于2000年10月启动，六个月后，pygame版本1.0发布。pygame是一个利用SDL（Simple  DirectMedia Layer）写就的游戏库。SDL  是一个用于控制多媒体的跨平台C库，与DirectX相当，它已被用于数百种商业和开源游戏。Pete  Shinner对Python和SDL两个项目的简洁与优雅印象深刻，他决定将Python和SDL结合起来，组建一个真正利用Python的项目，目标是让做简单的事情变得容易，让困难的事情变简单。 </p><h2 id="二，基于Pygame构建贪吃蛇游戏"><a href="#二，基于Pygame构建贪吃蛇游戏" class="headerlink" title="二，基于Pygame构建贪吃蛇游戏"></a>二，基于Pygame构建贪吃蛇游戏</h2><h4 id="1、import"><a href="#1、import" class="headerlink" title="1、import"></a>1、import</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment">#测试pr</span></span><br><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># 全局定义</span></span><br><span class="line">SCREEN_X = <span class="number">600</span></span><br><span class="line">SCREEN_Y = <span class="number">600</span></span><br></pre></td></tr></table></figure><h4 id="2、snake"><a href="#2、snake" class="headerlink" title="2、snake"></a>2、snake</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 点以25为单位</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Snake</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># 初始化各种需要的属性 [开始时默认向右/身体块x5]</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.dirction = pygame.K_RIGHT</span><br><span class="line">        self.body = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">            self.addnode()</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 无论何时 都在前端增加蛇块</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addnode</span><span class="params">(self)</span>:</span></span><br><span class="line">        left,top = (<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">if</span> self.body:</span><br><span class="line">            left,top = (self.body[<span class="number">0</span>].left,self.body[<span class="number">0</span>].top)</span><br><span class="line">        node = pygame.Rect(left,top,<span class="number">25</span>,<span class="number">25</span>)</span><br><span class="line">        <span class="keyword">if</span> self.dirction == pygame.K_LEFT:</span><br><span class="line">            node.left -= <span class="number">25</span></span><br><span class="line">        <span class="keyword">elif</span> self.dirction == pygame.K_RIGHT:</span><br><span class="line">            node.left += <span class="number">25</span></span><br><span class="line">        <span class="keyword">elif</span> self.dirction == pygame.K_UP:</span><br><span class="line">            node.top -= <span class="number">25</span></span><br><span class="line">        <span class="keyword">elif</span> self.dirction == pygame.K_DOWN:</span><br><span class="line">            node.top += <span class="number">25</span></span><br><span class="line">        self.body.insert(<span class="number">0</span>,node)</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 删除最后一个块</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delnode</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.body.pop()</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 死亡判断</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isdead</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># 撞墙</span></span><br><span class="line">        <span class="keyword">if</span> self.body[<span class="number">0</span>].x  <span class="keyword">not</span> <span class="keyword">in</span> range(SCREEN_X):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> self.body[<span class="number">0</span>].y  <span class="keyword">not</span> <span class="keyword">in</span> range(SCREEN_Y):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="comment"># 撞自己</span></span><br><span class="line">        <span class="keyword">if</span> self.body[<span class="number">0</span>] <span class="keyword">in</span> self.body[<span class="number">1</span>:]:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 移动！</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.addnode()</span><br><span class="line">        self.delnode()</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 改变方向 但是左右、上下不能被逆向改变</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">changedirection</span><span class="params">(self,curkey)</span>:</span></span><br><span class="line">        LR = [pygame.K_LEFT,pygame.K_RIGHT]</span><br><span class="line">        UD = [pygame.K_UP,pygame.K_DOWN]</span><br><span class="line">        <span class="keyword">if</span> curkey <span class="keyword">in</span> LR+UD:</span><br><span class="line">            <span class="keyword">if</span> (curkey <span class="keyword">in</span> LR) <span class="keyword">and</span> (self.dirction <span class="keyword">in</span> LR):</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> (curkey <span class="keyword">in</span> UD) <span class="keyword">and</span> (self.dirction <span class="keyword">in</span> UD):</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            self.dirction = curkey</span><br></pre></td></tr></table></figure><h4 id="3、food"><a href="#3、food" class="headerlink" title="3、food"></a>3、food</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法： 放置/移除</span></span><br><span class="line"><span class="comment"># 点以25为单位</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Food</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.rect = pygame.Rect(<span class="number">-25</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">25</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.rect.x=<span class="number">-25</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.rect.x == <span class="number">-25</span>:</span><br><span class="line">            allpos = []</span><br><span class="line">            <span class="comment"># 不靠墙太近 25 ~ SCREEN_X-25 之间</span></span><br><span class="line">            <span class="keyword">for</span> pos <span class="keyword">in</span> range(<span class="number">25</span>,SCREEN_X<span class="number">-25</span>,<span class="number">25</span>):</span><br><span class="line">                allpos.append(pos)</span><br><span class="line">            self.rect.left = random.choice(allpos)</span><br><span class="line">            self.rect.top  = random.choice(allpos)</span><br><span class="line">            print(self.rect)</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_text</span><span class="params">(screen, pos, text, color, font_bold = False, font_size = <span class="number">60</span>, font_italic = False)</span>:</span>   </span><br><span class="line">    <span class="comment">#获取系统字体，并设置文字大小  </span></span><br><span class="line">    cur_font = pygame.font.SysFont(<span class="string">"宋体"</span>, font_size)  </span><br><span class="line">    <span class="comment">#设置是否加粗属性  </span></span><br><span class="line">    cur_font.set_bold(font_bold)  </span><br><span class="line">    <span class="comment">#设置是否斜体属性  </span></span><br><span class="line">    cur_font.set_italic(font_italic)  </span><br><span class="line">    <span class="comment">#设置文字内容  </span></span><br><span class="line">    text_fmt = cur_font.render(text, <span class="number">1</span>, color)  </span><br><span class="line">    <span class="comment">#绘制文字  </span></span><br><span class="line">    screen.blit(text_fmt, pos)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    pygame.init()</span><br><span class="line">    screen_size = (SCREEN_X,SCREEN_Y)</span><br><span class="line">    screen = pygame.display.set_mode(screen_size)</span><br><span class="line">    pygame.display.set_caption(<span class="string">'Snake'</span>)</span><br><span class="line">    clock = pygame.time.Clock()</span><br><span class="line">    scores = <span class="number">0</span></span><br><span class="line">    isdead = <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 蛇/食物</span></span><br><span class="line">    snake = Snake()</span><br><span class="line">    food = Food()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">            <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">                sys.exit()</span><br><span class="line">            <span class="keyword">if</span> event.type == pygame.KEYDOWN:</span><br><span class="line">                snake.changedirection(event.key)</span><br><span class="line">                <span class="comment"># 死后按space重新</span></span><br><span class="line">                <span class="keyword">if</span> event.key == pygame.K_SPACE <span class="keyword">and</span> isdead:</span><br><span class="line">                    <span class="keyword">return</span> main()</span><br><span class="line">                </span><br><span class="line">            </span><br><span class="line">        screen.fill((<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>))</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 画蛇身 / 每一步+1分</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isdead:</span><br><span class="line">            scores+=<span class="number">1</span></span><br><span class="line">            snake.move()</span><br><span class="line">        <span class="keyword">for</span> rect <span class="keyword">in</span> snake.body:</span><br><span class="line">            pygame.draw.rect(screen,(<span class="number">20</span>,<span class="number">220</span>,<span class="number">39</span>),rect,<span class="number">0</span>)</span><br><span class="line">            </span><br><span class="line">        <span class="comment"># 显示死亡文字</span></span><br><span class="line">        isdead = snake.isdead()</span><br><span class="line">        <span class="keyword">if</span> isdead:</span><br><span class="line">            show_text(screen,(<span class="number">100</span>,<span class="number">200</span>),<span class="string">'YOU DEAD!'</span>,(<span class="number">227</span>,<span class="number">29</span>,<span class="number">18</span>),<span class="literal">False</span>,<span class="number">100</span>)</span><br><span class="line">            show_text(screen,(<span class="number">150</span>,<span class="number">260</span>),<span class="string">'press space to try again...'</span>,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">22</span>),<span class="literal">False</span>,<span class="number">30</span>)</span><br><span class="line">            </span><br><span class="line">        <span class="comment"># 食物处理 / 吃到+50分</span></span><br><span class="line">        <span class="comment"># 当食物rect与蛇头重合,吃掉 -&gt; Snake增加一个Node</span></span><br><span class="line">        <span class="keyword">if</span> food.rect == snake.body[<span class="number">0</span>]:</span><br><span class="line">            scores+=<span class="number">50</span></span><br><span class="line">            food.remove()</span><br><span class="line">            snake.addnode()</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 食物投递</span></span><br><span class="line">        food.set()</span><br><span class="line">        pygame.draw.rect(screen,(<span class="number">136</span>,<span class="number">0</span>,<span class="number">21</span>),food.rect,<span class="number">0</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 显示分数文字</span></span><br><span class="line">        show_text(screen,(<span class="number">50</span>,<span class="number">500</span>),<span class="string">'Scores: '</span>+str(scores),(<span class="number">223</span>,<span class="number">223</span>,<span class="number">223</span>))</span><br><span class="line">        </span><br><span class="line">        pygame.display.update()</span><br><span class="line">        clock.tick(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h4 id="5、show"><a href="#5、show" class="headerlink" title="5、show"></a>5、show</h4><p><img src="/" class="lazyload" data-src="https://oss.gowapp.com/images/2007/21/gif/3fd86233866e44cf9dfa7fc00700aa9a/snake-show.gif?x-oss-process=image/resize,w_850,limit_0"  alt=""></p><h4 id="6、"><a href="#6、" class="headerlink" title="6、"></a>6、</h4><p>[from]（<a href="https://gitee.com/mvpred）" target="_blank" rel="noopener">https://gitee.com/mvpred）</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="游戏" scheme="http://codehao.top/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
      <category term="Python" scheme="http://codehao.top/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>LCCUP&#39;20 力扣杯 秋季编程大赛</title>
    <link href="http://codehao.top/cl15275kg000diwlaamz8fz5d/"/>
    <id>http://codehao.top/cl15275kg000diwlaamz8fz5d/</id>
    <published>2022-03-15T13:32:04.315Z</published>
    <updated>2020-09-13T05:48:30.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="废话不多说，直接上题吧："><a href="#废话不多说，直接上题吧：" class="headerlink" title="废话不多说，直接上题吧："></a>废话不多说，直接上题吧：</h2><h4 id="1、速算机器人-star"><a href="#1、速算机器人-star" class="headerlink" title="1、速算机器人 :star:"></a>1、<a href="https://leetcode-cn.com/problems/nGK0Fy/" target="_blank" rel="noopener">速算机器人</a> :star:</h4><p> :telephone: 小扣在秋日市集发现了一款速算机器人。店家对机器人说出两个数字（记作 x 和 y），请小扣说 出计算令：</p><p> “A” 运算：使 x = 2 * x + y；<br> “B” 运算：使 y = 2 * y + x。<br> 在本次游戏中，店家说出的数字为 x = 1 和 y = 0，小扣说出的计算指令记作仅由大写字母 A、B 组成的字符串 s，字符串中字符的顺序表示计算顺序，请返回最终 x 与 y 的和为多少。</p><h5 id="示例-1："><a href="#示例-1：" class="headerlink" title="示例 1："></a>示例 1：</h5><blockquote><p>输入：s = “AB”</p><p>输出：4</p></blockquote><h5 id="解释："><a href="#解释：" class="headerlink" title="解释："></a>解释：</h5><blockquote><p>经过一次 A 运算后，x = 2, y = 0。<br>再经过一次 B 运算，x = 2, y = 2。<br>最终 x 与 y 之和为 4。</p></blockquote><h5 id="提示："><a href="#提示：" class="headerlink" title="提示："></a>提示：</h5><blockquote><p>0 &lt;= s.length &lt;= 10<br>s 由 ‘A’ 和 ‘B’ 组成</p></blockquote><hr><h4 id="2、早餐组合-star-star"><a href="#2、早餐组合-star-star" class="headerlink" title="2、早餐组合 :star::star:"></a>2、<a href="https://leetcode-cn.com/problems/2vYnGI/" target="_blank" rel="noopener">早餐组合</a> :star::star:</h4><p> :ramen: 小扣在秋日市集选择了一家早餐摊位，一维整型数组 staple 中记录了每种主食的价格，一维整型数组 drinks 中记录了每种饮料的价格。小扣的计划选择一份主食和一款饮料，且花费不超过 x 元。请返回小扣共有多少种购买方案。</p><p>注意：答案需要以 1e9 + 7 (1000000007) 为底取模，如：计算初始结果为：1000000008，请返回 1</p><h5 id="示例-1：-1"><a href="#示例-1：-1" class="headerlink" title="示例 1："></a>示例 1：</h5><blockquote><p>输入：staple = [10,20,5], drinks = [5,5,2], x = 15</p><p>输出：6</p><p>解释：小扣有 6 种购买方案，所选主食与所选饮料在数组中对应的下标分别是：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">第 1 种方案：staple[0] + drinks[0] &#x3D; 10 + 5 &#x3D; 15；</span><br><span class="line">第 2 种方案：staple[0] + drinks[1] &#x3D; 10 + 5 &#x3D; 15；</span><br><span class="line">第 3 种方案：staple[0] + drinks[2] &#x3D; 10 + 2 &#x3D; 12；</span><br><span class="line">第 4 种方案：staple[2] + drinks[0] &#x3D; 5 + 5 &#x3D; 10；</span><br><span class="line">第 5 种方案：staple[2] + drinks[1] &#x3D; 5 + 5 &#x3D; 10；</span><br><span class="line">第 6 种方案：staple[2] + drinks[2] &#x3D; 5 + 2 &#x3D; 7。</span><br></pre></td></tr></table></figure><h5 id="示例-2："><a href="#示例-2：" class="headerlink" title="示例 2："></a>示例 2：</h5><blockquote><p>输入：staple = [2,1,1], drinks = [8,9,5,1], x = 9</p><p>输出：8</p></blockquote><p>解释：小扣有 8 种购买方案，所选主食与所选饮料在数组中对应的下标分别是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">第 1 种方案：staple[0] + drinks[2] &#x3D; 2 + 5 &#x3D; 7；</span><br><span class="line">第 2 种方案：staple[0] + drinks[3] &#x3D; 2 + 1 &#x3D; 3；</span><br><span class="line">第 3 种方案：staple[1] + drinks[0] &#x3D; 1 + 8 &#x3D; 9；</span><br><span class="line">第 4 种方案：staple[1] + drinks[2] &#x3D; 1 + 5 &#x3D; 6；</span><br><span class="line">第 5 种方案：staple[1] + drinks[3] &#x3D; 1 + 1 &#x3D; 2；</span><br><span class="line">第 6 种方案：staple[2] + drinks[0] &#x3D; 1 + 8 &#x3D; 9；</span><br><span class="line">第 7 种方案：staple[2] + drinks[2] &#x3D; 1 + 5 &#x3D; 6；</span><br><span class="line">第 8 种方案：staple[2] + drinks[3] &#x3D; 1 + 1 &#x3D; 2；</span><br></pre></td></tr></table></figure><h5 id="提示：-1"><a href="#提示：-1" class="headerlink" title="提示："></a>提示：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;&#x3D; staple.length &lt;&#x3D; 10^5</span><br><span class="line">1 &lt;&#x3D; drinks.length &lt;&#x3D; 10^5</span><br><span class="line">1 &lt;&#x3D; staple[i],drinks[i] &lt;&#x3D; 10^5</span><br><span class="line">1 &lt;&#x3D; x &lt;&#x3D; 2*10^5</span><br></pre></td></tr></table></figure><hr><h4 id="3、秋叶收藏集-star-star-star"><a href="#3、秋叶收藏集-star-star-star" class="headerlink" title="3、秋叶收藏集 :star::star::star:"></a>3、<a href="https://leetcode-cn.com/problems/UlBDOe/" target="_blank" rel="noopener">秋叶收藏集</a> :star::star::star:</h4><p>  :maple_leaf: 小扣出去秋游，途中收集了一些红叶和黄叶，他利用这些叶子初步整理了一份秋叶收藏集 leaves， 字符串 leaves 仅包含小写字符 r 和 y， 其中字符 r 表示一片红叶，字符 y 表示一片黄叶。<br>出于美观整齐的考虑，小扣想要将收藏集中树叶的排列调整成「红、黄、红」三部分。每部分树叶数量可以不相等，但均需大于等于 1。每次调整操作，小扣可以将一片红叶替换成黄叶或者将一片黄叶替换成红叶。请问小扣最少需要多少次调整操作才能将秋叶收藏集调整完毕。</p><h5 id="示例-1：-2"><a href="#示例-1：-2" class="headerlink" title="示例 1："></a>示例 1：</h5><blockquote><p>输入：leaves = “rrryyyrryyyrr”</p><p>输出：2</p><p>解释：调整两次，将中间的两片红叶替换成黄叶，得到 “rrryyyyyyyyrr”</p></blockquote><h5 id="示例-2：-1"><a href="#示例-2：-1" class="headerlink" title="示例 2："></a>示例 2：</h5><blockquote><p>输入：leaves = “ryr”</p><p>输出：0</p><p>解释：已符合要求，不需要额外操作</p></blockquote><h5 id="提示：-2"><a href="#提示：-2" class="headerlink" title="提示："></a>提示：</h5><blockquote><p>3 &lt;= leaves.length &lt;= 10^5<br>leaves 中只包含字符 ‘r’ 和字符 ‘y’</p></blockquote><hr><h4 id="4、快速公交-star-star-star-star"><a href="#4、快速公交-star-star-star-star" class="headerlink" title="4、快速公交 :star::star::star::star:"></a>4、<a href="https://leetcode-cn.com/problems/meChtZ/" target="_blank" rel="noopener">快速公交</a> :star::star::star::star:</h4><p>  :bus: 小扣打算去秋日市集，由于游客较多，小扣的移动速度受到了人流影响：</p><p>小扣从 x 号站点移动至 x + 1 号站点需要花费的时间为 inc；<br>小扣从 x 号站点移动至 x - 1 号站点需要花费的时间为 dec。<br>现有 m 辆公交车，编号为 0 到 m-1。小扣也可以通过搭乘编号为 i 的公交车，从 x 号站点移动至 jump[i]*x 号站点，耗时仅为 cost[i]。小扣可以搭乘任意编号的公交车且搭乘公交次数不限。</p><p>假定小扣起始站点记作 0，秋日市集站点记作 target，请返回小扣抵达秋日市集最少需要花费多少时间。由于数字较大，最终答案需要对 1000000007 (1e9 + 7) 取模。</p><p>注意：小扣可在移动过程中到达编号大于 target 的站点。</p><h5 id="示例-1：-3"><a href="#示例-1：-3" class="headerlink" title="示例 1："></a>示例 1：</h5><blockquote><p>输入：target = 31, inc = 5, dec = 3, jump = [6], cost = [10]</p><p>输出：33</p></blockquote><h5 id="解释：-1"><a href="#解释：-1" class="headerlink" title="解释："></a>解释：</h5><blockquote><p>小扣步行至 1 号站点，花费时间为 5；<br>小扣从 1 号站台搭乘 0 号公交至 6 * 1 = 6 站台，花费时间为 10；<br>小扣从 6 号站台步行至 5 号站台，花费时间为 3；<br>小扣从 5 号站台搭乘 0 号公交至 6 * 5 = 30 站台，花费时间为 10；<br>小扣从 30 号站台步行至 31 号站台，花费时间为 5；<br>最终小扣花费总时间为 33。</p></blockquote><h5 id="示例-2：-2"><a href="#示例-2：-2" class="headerlink" title="示例 2："></a>示例 2：</h5><blockquote><p>输入：target = 612, inc = 4, dec = 5, jump = [3,6,8,11,5,10,4], cost = [4,7,6,3,7,6,4]</p><p>输出：26</p></blockquote><h5 id="解释：-2"><a href="#解释：-2" class="headerlink" title="解释："></a>解释：</h5><blockquote><p>小扣步行至 1 号站点，花费时间为 4；<br>小扣从 1 号站台搭乘 0 号公交至 3 * 1 = 3 站台，花费时间为 4；<br>小扣从 3 号站台搭乘 3 号公交至 11 * 3 = 33 站台，花费时间为 3；<br>小扣从 33 号站台步行至 34 站台，花费时间为 4；<br>小扣从 34 号站台搭乘 0 号公交至 3 * 34 = 102 站台，花费时间为 4；<br>小扣从 102 号站台搭乘 1 号公交至 6 * 102 = 612 站台，花费时间为 7；<br>最终小扣花费总时间为 26。</p></blockquote><h5 id="提示：-3"><a href="#提示：-3" class="headerlink" title="提示："></a>提示：</h5><blockquote><p>1 &lt;= target &lt;= 10^9<br>1 &lt;= jump.length, cost.length &lt;= 10<br>2 &lt;= jump[i] &lt;= 10^6<br>1 &lt;= inc, dec, cost[i] &lt;= 10^6</p></blockquote><hr><h4 id="5、追逐游戏-star-star-star-star-star"><a href="#5、追逐游戏-star-star-star-star-star" class="headerlink" title="5、追逐游戏 :star::star::star::star::star:"></a>5、<a href="https://leetcode-cn.com/problems/Za25hA/" target="_blank" rel="noopener">追逐游戏</a> :star::star::star::star::star:</h4><p> :watermelon:  秋游中的小力和小扣设计了一个追逐游戏。他们选了秋日市集景区中的 N 个景点，景点编号为 1~N。此外，他们还选择了 N 条小路，满足任意两个景点之间都可以通过小路互相到达，且不存在两条连接景点相同的小路。整个游戏场景可视作一个无向连通图，记作二维数组 edges，数组中以 [a,b] 形式表示景点 a 与景点 b 之间有一条小路连通。</p><p>小力和小扣只能沿景点间的小路移动。小力的目标是在最快时间内追到小扣，小扣的目标是尽可能延后被小力追到的时间。游戏开始前，两人分别站在两个不同的景点 startA 和 startB。每一回合，小力先行动，小扣观察到小力的行动后再行动。小力和小扣在每回合可选择以下行动之一：</p><p>移动至相邻景点<br>留在原地<br>如果小力追到小扣（即两人于某一时刻出现在同一位置），则游戏结束。若小力可以追到小扣，请返回最少需要多少回合；若小力无法追到小扣，请返回 -1。</p><p>注意：小力和小扣一定会采取最优移动策略。</p><h5 id="示例-1：-4"><a href="#示例-1：-4" class="headerlink" title="示例 1："></a>示例 1：</h5><blockquote><p>输入：edges = [[1,2],[2,3],[3,4],[4,1],[2,5],[5,6]], startA = 3, startB = 5</p><p>输出：3</p></blockquote><h5 id="解释：-3"><a href="#解释：-3" class="headerlink" title="解释："></a>解释：</h5><blockquote><p>第一回合，小力移动至 2 号点，小扣观察到小力的行动后移动至 6 号点；<br>第二回合，小力移动至 5 号点，小扣无法移动，留在原地；<br>第三回合，小力移动至 6 号点，小力追到小扣。返回 3。</p></blockquote><h5 id="示例-2：-3"><a href="#示例-2：-3" class="headerlink" title="示例 2："></a>示例 2：</h5><blockquote><p>输入：edges = [[1,2],[2,3],[3,4],[4,1]], startA = 1, startB = 3</p><p>输出：-1</p></blockquote><h5 id="解释：-4"><a href="#解释：-4" class="headerlink" title="解释："></a>解释：</h5><blockquote><p>小力如果不动，则小扣也不动；否则小扣移动到小力的对角线位置。这样小力无法追到小扣。</p></blockquote><h5 id="提示：-4"><a href="#提示：-4" class="headerlink" title="提示："></a>提示：</h5><blockquote><p>edges 的长度等于图中节点个数<br>3 &lt;= edges.length &lt;= 10^5<br>1 &lt;= edges[i][0], edges[i][1] &lt;= edges.length 且 edges[i][0] != edges[i][1]<br>1 &lt;= startA, startB &lt;= edges.length 且 startA != startB</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="算法" scheme="http://codehao.top/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="Study" scheme="http://codehao.top/tags/Study/"/>
    
  </entry>
  
  <entry>
    <title>IQ测试集锦</title>
    <link href="http://codehao.top/cl15275k80007iwlaarqzfsbx/"/>
    <id>http://codehao.top/cl15275k80007iwlaarqzfsbx/</id>
    <published>2022-03-15T13:32:04.310Z</published>
    <updated>2020-06-20T10:28:24.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="第一组-待更新"><a href="#第一组-待更新" class="headerlink" title="第一组(待更新)"></a><strong>第一组(待更新)</strong></h4><h5 id="问：为什么像IBM、微软这样的国际性公司在面试时都会问IQ（智商）测试问题？难道一个IQ测试题就能测出一个人的智商是否适合某个职位或胜任某项工作吗？"><a href="#问：为什么像IBM、微软这样的国际性公司在面试时都会问IQ（智商）测试问题？难道一个IQ测试题就能测出一个人的智商是否适合某个职位或胜任某项工作吗？" class="headerlink" title="问：为什么像IBM、微软这样的国际性公司在面试时都会问IQ（智商）测试问题？难道一个IQ测试题就能测出一个人的智商是否适合某个职位或胜任某项工作吗？"></a>问：为什么像IBM、微软这样的国际性公司在面试时都会问IQ（智商）测试问题？难道一个IQ测试题就能测出一个人的智商是否适合某个职位或胜任某项工作吗？</h5><p>答：面试中设置<em>IQ</em>测试题的目的并不是测试你的智商，而是考察你分析问题的能力、以及思维模式与方法。 </p><p>1、烧一根不均匀的绳，从头烧到尾总共需要1个小时。现在有若干条材质相同的绳子，问如何用烧绳的方法来计时一个小时十五分钟呢? </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：拿两根绳子，先点燃第一根，烧完为一个小时；接着，取另一根绳子，从两头和中间同时点燃，烧完为15分钟！合起来，一个小时十五分钟</span><br></pre></td></tr></table></figure><p>2、你有一桶果冻，其中有黄色、绿色、红色三种，闭上眼睛抓取同种颜色的两个。抓取多少个就可以确定你肯定有两个同一颜色的果冻? </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：4个，比如第一次抓了黄色和绿色，那么第二次随便你抓什么，至少会有一个黄色或者绿色。</span><br></pre></td></tr></table></figure><p>3、如果你有无穷多的水，一个3公升的提捅，一个5公升的提捅，两只提捅形状上下都不均匀，问你如何才能准确称出4公升的水? </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：用5公升提桶盛满水,倒入空的3公升提桶内,则剩2公升-&gt;清空3公升提桶内水,将2公升水倒入-&gt;盛满5公升提桶,倒入已有2公升水的3公升提桶内,只能倒入1公升,则5公升提桶内剩余4公升-&gt;完毕</span><br></pre></td></tr></table></figure><p>4、一个岔路口分别通向诚实国和说谎国。来了两个人，已知一个是诚实国的，另一个是说谎国的。诚实国永远说实话，说谎国永远说谎话。现在你要去说谎国，但不知道应该走哪条路，需要问这两个人。请问应该怎么问? </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：问他你的国家怎么走，他肯定指 向的是诚实国。</span><br></pre></td></tr></table></figure><p>5、12个球一个天平，现知道只有一个和其它的重量不同，问怎样称才能用三次就找到那个球。13个呢?</p><p>​       (注意此题并未说明那个球的重量是轻是重，所以需要仔细考虑) </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">答案：(1)从12个中任取8个,4对4 的称,如平衡,则从剩下的4个中再任取2个,1对1的称,如再次平衡,那么从剩下的2个中任取1个和正常的一称就行了,如第2次不平衡,那么把不平衡的2个中任一个和正常的一称就可以了 </span><br><span class="line"> (2)如第一次不平衡,那么我们暂时把第一次中重的一端的称为重球,轻的一端称为轻球,现在,把2个重球和1个轻球搭配,3对3的称,如平衡,那么把剩下的2个中任一个和正常的一称就行了.如不平衡,那么现在重的一端的1个轻球和轻的一端的2个重球就可以判断是正常的了,现在就只剩下2个重球和1个轻球了,把2个重球一称,谁重就是谁,如平衡,就是那个轻球.</span><br></pre></td></tr></table></figure><hr><p>6、在9个点上画10条直线，要求每条直线上至少有三个点? </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">答案：见下面的点   　10条线的情况是 123 456 789 148 159 247 258 269 357 368 </span><br><span class="line"></span><br><span class="line">　　①　②　③ </span><br><span class="line">　　　④⑤⑥ </span><br><span class="line">　　⑦　⑧　⑨</span><br></pre></td></tr></table></figure><p>7、在一天的24小时之中，时钟的时针、分针和秒针完全重合在一起的时候有几次?都分别是什么时间?你怎样算出来的? </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">答案：23次，因为分针要转24圈，时针才能转1圈，而分针和时针重合两次之间的间隔显然&gt; 1小时，它们有23次重合机会，每次重合中秒针有一次重合机会，所以是23次 重合时间可以对照手表求出，也可列方程求出。</span><br><span class="line"></span><br><span class="line">另外一种说法</span><br><span class="line">           2个 12：00 和00：00</span><br><span class="line"> 根据速度公式贝</span><br><span class="line">           V1&#x3D;1&#x2F;3600 和V2&#x3D;1&#x2F;60 、V3&#x3D;1</span><br></pre></td></tr></table></figure><p>8、怎么样种植4棵树木，使其中任意两棵树的距离相等? </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">答案：在等边三棱锥形山上种树,山顶一棵,其余三棵种在三棱锥底面三个尖上</span><br><span class="line"></span><br><span class="line">　另外一种说法</span><br><span class="line"></span><br><span class="line">在地球表面种树，做一个地球内接的正四面体，内接点即为所求</span><br></pre></td></tr></table></figure><p>9、两个圆环，半径分别是1和2，小圆在大圆内部绕大圆圆周一周，问小圆自身转了几周？如果在大圆的外部，小圆自身转几周呢？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答：无论内外，小圆转两圈。小圆、大圆经历的距离相等。</span><br></pre></td></tr></table></figure><p>10、1元钱一瓶汽水，喝完后两个空瓶换一瓶汽水，问：你有20元钱，最多可以喝到几瓶汽水？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">答：40瓶；</span><br><span class="line">解题思路1： </span><br><span class="line">一开始20瓶没有问题，随后的10瓶和5瓶也都没有问题，接着把5瓶分成4瓶和1瓶，前4个空瓶再换2瓶，喝完后2瓶再换1瓶，此时喝完后手头上剩余的空瓶数为2个，把这2个瓶 换1瓶继续喝，喝完后把这1个空瓶换1瓶汽水，喝完换来的那瓶再把瓶子还给人家即可，所以最多可以喝的汽水数为：20＋10＋5＋2＋1＋1＋1＝40 </span><br><span class="line">解题思路2： </span><br><span class="line">先看1元钱最多能喝几瓶汽水。喝1瓶余1个空瓶，借商家1个空瓶，2个瓶换1瓶继续喝 ，喝完后把这1个空瓶还给商家。即1元钱最多能喝2瓶汽水。20元钱当然最多能喝40瓶汽水 。 </span><br><span class="line">解题思路3： </span><br><span class="line">两个空瓶换一瓶汽水，可知纯汽水只值5角钱。20元钱当然最多能喝40瓶的纯汽水。N元钱当然最多能喝2N瓶汽水。</span><br></pre></td></tr></table></figure><hr><p>11、一个经理有三个女儿，三个女儿的年龄加起来等于13，三个女儿的年龄乘起来等于经理自己的年龄，有一个下属已知道经理的年龄，但仍不能确定经理三个女儿的年龄，这时经理说只有一个女儿的头发是黑的，然后这个下属就知道了经理三个女儿的年龄。请问三个女儿的年龄分别是多少？为什么？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案:此经理有一对双胞胎女儿，她们的年龄分别是：2岁、2岁、9岁；经理的年龄是32岁。</span><br></pre></td></tr></table></figure><p>12、有三个人去住旅馆，住三间房，每一间房$10元，于是他们一共付给老板$30，第二天，老板觉得三间房只需要$25元就够了于是叫小弟退回$5给三位客人，谁知小弟贪心,只退回每人$1，自己偷偷拿了$2，这样一来便等于那三位客人每人各花了九元，于是三个人一共花了$27，再加上小弟独吞了不$2，总共是$29。可是当初他们三个人一共付出$30那么还有$1呢？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案:正确的应该是他们一共花了9*3&#x3D;27元. 其中,25元是房间的费用,2元是被服务生私下拿走的。</span><br></pre></td></tr></table></figure><p>13、有两位盲人，他们都各自买了两对黑袜和两对白袜，八对袜了的布质、大小完全相同，而每对袜了都有一张商标纸连着。两位盲人不小心将八对袜了混在一起。 他们每人怎样才能取回黑袜和白袜各两对呢？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案:将八对袜子淋湿，在太阳下晒，先干的是黑袜，后干的是白袜。再平分。</span><br></pre></td></tr></table></figure><p>14、有一辆火车以每小时15公里的速度离开洛杉矶直奔纽约，另一辆火车以每小时20公里的速度从纽约开往洛杉矶。如果有一只鸟，以30公里每小时的速度和两辆火车同时启动，从洛杉矶出发，碰到另一辆车后返回，依次在两辆火车来回飞行，直到两辆火车相遇，请问，这只小鸟飞行了多长距离？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答案:纽约到洛杉矶路程的5&#x2F;7。</span><br><span class="line">解题思路:要知道纽约与洛杉矶的距离，然后算出两列火车相遇要用多少小时，然后用小时×30公里&#x2F;小时，得出小鸟飞行的距离。 </span><br><span class="line">纽约到洛杉矶的路程设为s，鸟飞距离则是：[s&#x2F;(20+15)]* 30&#x3D;5s&#x2F;7。</span><br></pre></td></tr></table></figure><p>15、你有两个罐子，50个红色弹球，50个蓝色弹球，随机选出一个罐子，随机选取出一个弹球放入罐子，怎么给红色弹球最大的选中机会？在你的计划中，得到红球的准确几率是多少？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案:一个罐子放一个红球,另一个罐子放49个红球和50个蓝球,概率接近75%.这是所能达到的最大概率了。实际上，只要一个罐子放&lt;50个红球，不放篮球，另一个罐子放剩下的球，拿出红球的概率就大于50% 。</span><br></pre></td></tr></table></figure><hr><p>16、你有四个装药丸的罐子，每个药丸都有一定的重量，被污染的药丸是没被污染的重量＋1.只称量一次，如何判断哪个罐子的药被污染了？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">解题思路:1、先给四个罐子编号1、2、3、4。</span><br></pre></td></tr></table></figure><p>17、如果已知只有一个罐子被污染：则1号1个，2号拿2个，3号拿3个，4号拿4个，称一下，再减去15个药丸的标准重量。结果可能为1,2,3,4。 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">答案：若是1，就是1号罐； </span><br><span class="line">     若是2，就是2号罐； </span><br><span class="line">     若是3，就是3号罐； </span><br><span class="line">     若是4，就是4号罐；</span><br></pre></td></tr></table></figure><p>18、如果四个罐子都可能被污染，也可能不被污染：则1号拿1个，2号拿2个，3号拿4个，4号拿8个，称一下，再减去15个药丸的标准重量。结果可能为0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15。 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">答案：若是0，四个罐子都没被污染； </span><br><span class="line">     若是1，就是1号罐； </span><br><span class="line">     若是2，就是2号罐； </span><br><span class="line">     若是3，就是1、2号罐； </span><br><span class="line">     若是4，就是3号罐； </span><br><span class="line">     若是5，就是1、4号罐； </span><br><span class="line">     若是6，就是2、3号罐； </span><br><span class="line">     若是7，就是1、2、3号罐； </span><br><span class="line">     若是8，就是4号罐； </span><br><span class="line">     若是9，就是1、4号罐； </span><br><span class="line">     若是10，就是2、4号罐； </span><br><span class="line">     若是11，就是1、2、4号罐； </span><br><span class="line">     若是12，就是2、4号罐； </span><br><span class="line">     若是13，就是1、3、4号罐； </span><br><span class="line">     若是14，就是2、3、4号罐； </span><br><span class="line">     若是15，四个罐子全被污染。</span><br></pre></td></tr></table></figure><p>19、对一批编号为1～100，全部开关朝上(开)的灯进行以下*作：凡是1的倍数反方向拨一次开关；2的倍数反方向又拨一次开关；3的倍数反方向又拨一次开关……问：最后为关熄状态的灯的编号。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">答案:1,4,9,16,25,36,49,64,81,100所有的质数因为都只有1和他本身两个约数,所以都会先下后上各一次.故最后的状态为开.</span><br><span class="line">而合数至少有两个或两个以上的约数,如果它有偶数个不同的约数时,这个合数所对应开关的状态将为开. 如果它有奇数个约数时,则对应开关将为关.我们知道任何一个合数当它只有奇数个约数时,必然是它某个约数的平方.检查1-100所有的数,可得到答案.</span><br></pre></td></tr></table></figure><p>20、想象你在镜子前，请问，为什么镜子中的影像可以颠倒左右，却不能颠倒上下？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案:因为人的影象与人是关于镜子对称的,而镜子是立着放的,所以镜子中人就是颠倒左右,而颠倒上下只要将镜子横着放,人站在镜子上就是上下颠倒了。</span><br></pre></td></tr></table></figure><hr><p>21、一群人开舞会，每人头上都戴着一顶帽子。帽子只有黑白两种，黑的至少有一顶。每个人都能看到其它人帽子的颜色，却看不到自己的。主持人先让大家看看别人头上戴的是什幺帽子，然后关灯，如果有人认为自己戴的是黑帽子，就打自己一个耳光。第一次关灯，没有声音。于是再开灯，大家再看一遍，关灯时仍然鸦雀无声。一直到第三次关灯，才有劈劈啪啪打耳光的声音响起。问有多少人戴着黑帽子？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">答案:3个人戴着黑帽子。</span><br><span class="line">解题思路: </span><br><span class="line">    设有x个黑帽子。 </span><br><span class="line">    x&#x3D;1，则戴黑帽子的第一次就看到其他人都是白帽子，那么自己就肯定是黑帽子了。所以该打自己嘴巴。 </span><br><span class="line">    但第一次没人打，说明至少有两个黑帽子。 </span><br><span class="line">    x&#x3D;2，第一次开灯后否没人打，说明黑帽不止一个，所以第二次如果有人只看到别人只有一顶黑帽子的话，就能判断自己头上是黑帽子，就该打嘴巴， 但没人打，说明至少有3个黑帽。 </span><br><span class="line">    x&#x3D;3,由于前两次没人打，所以至少三顶黑帽。第三次开灯后，有人打嘴巴，说明打嘴巴的人看到其他人只有两顶黑帽，所以能判断自己头上是黑帽。 </span><br><span class="line">    因此是三顶黑帽子。</span><br></pre></td></tr></table></figure><p>22、你让工人为你工作7天，回报是一根金条，这个金条平分成相连的7段，你必须在每天结束的时候给他们一段金条。如果只允许你两次把金条弄断，你如何给你的工人付费？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案:把金条分成1&#x2F;7、2&#x2F;7和4&#x2F;7三份。这样，第1天我就可以给他1&#x2F;7；第2天我给他2&#x2F;7，让他找回我1&#x2F;7；第3天我就再给他1&#x2F;7，加上原先的2&#x2F;7就是3&#x2F;7；第4天我给他那块4&#x2F;7，让他找回那两块1&#x2F;7和2&#x2F;7的金条；第5天，再给他1&#x2F;7；第6天和第2天一样；第7天给他找回的那个1&#x2F;7。</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Study" scheme="http://codehao.top/tags/Study/"/>
    
  </entry>
  
</feed>
